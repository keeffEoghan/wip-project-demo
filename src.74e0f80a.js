parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"Jx9Q":[function(require,module,exports) {
var define;
var global = arguments[3];
var e,t=arguments[3];!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof e&&e.amd?e(r):t.createREGL=r()}(this,function(){"use strict";var e=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},t=function(e,t){for(var r=Object.keys(t),n=0;n<r.length;++n)e[r[n]]=t[r[n]];return e},r="\n";function n(e){var t=new Error("(regl) "+e);throw console.error(t),t}function a(e,t){e||n(t)}function i(e){return e?": "+e:""}function o(e,t){switch(t){case"number":return"number"==typeof e;case"object":return"object"==typeof e;case"string":return"string"==typeof e;case"boolean":return"boolean"==typeof e;case"function":return"function"==typeof e;case"undefined":return void 0===e;case"symbol":return"symbol"==typeof e}}function f(e,t,r){t.indexOf(e)<0&&n("invalid value"+i(r)+". must be one of: "+t)}var u=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function s(e,t){for(e+="";e.length<t;)e=" "+e;return e}function c(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function l(e,t){this.number=e,this.line=t,this.errors=[]}function d(e,t,r){this.file=e,this.line=t,this.message=r}function m(){var e=new Error,t=(e.stack||e).toString(),r=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(t);if(r)return r[1];var n=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(t);return n?n[1]:"unknown"}function p(){var e=new Error,t=(e.stack||e).toString(),r=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(t);if(r)return r[1];var n=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(t);return n?n[1]:"unknown"}function h(e,t){var r,n=e.split("\n"),a=1,i=0,o={unknown:new c,0:new c};o.unknown.name=o[0].name=t||m(),o.unknown.lines.push(new l(0,""));for(var f=0;f<n.length;++f){var u=n[f],s=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(u);if(s)switch(s[1]){case"line":var d=/(\d+)(\s+\d+)?/.exec(s[2]);d&&(a=0|d[1],d[2]&&((i=0|d[2])in o||(o[i]=new c)));break;case"define":var p=/SHADER_NAME(_B64)?\s+(.*)$/.exec(s[2]);p&&(o[i].name=p[1]?(r=p[2],"undefined"!=typeof atob?atob(r):"base64:"+r):p[2])}o[i].lines.push(new l(a++,u))}return Object.keys(o).forEach(function(e){var t=o[e];t.lines.forEach(function(e){t.index[e.number]=e})}),o}function b(e){e._commandRef=m()}function v(e,t){var r=p();n(e+" in command "+(t||m())+("unknown"===r?"":" called from "+r))}function g(e,t,r,n){o(e,t)||v("invalid parameter type"+i(r)+". expected "+t+", got "+typeof e,n||m())}var y=33071,x=9728,w=9984,A=9985,_=9986,k=9987,S=5126,E=32819,O=32820,T=33635,D=34042,j={};function C(e,t){return e===O||e===E||e===T?2:e===D?4:j[e]*t}function z(e){return!(e&e-1||!e)}j[5120]=j[5121]=1,j[5122]=j[5123]=j[36193]=j[T]=j[E]=j[O]=2,j[5124]=j[5125]=j[S]=j[D]=4;var F=t(a,{optional:function(e){e()},raise:n,commandRaise:v,command:function(e,t,r){e||v(t,r||m())},parameter:function(e,t,r){e in t||n("unknown parameter ("+e+")"+i(r)+". possible values: "+Object.keys(t).join())},commandParameter:function(e,t,r,n){e in t||v("unknown parameter ("+e+")"+i(r)+". possible values: "+Object.keys(t).join(),n||m())},constructor:function(e){Object.keys(e).forEach(function(e){u.indexOf(e)<0&&n('invalid regl constructor argument "'+e+'". must be one of '+u)})},type:function(e,t,r){o(e,t)||n("invalid parameter type"+i(r)+". expected "+t+", got "+typeof e)},commandType:g,isTypedArray:function(t,r){e(t)||n("invalid parameter type"+i(r)+". must be a typed array")},nni:function(e,t){e>=0&&(0|e)===e||n("invalid parameter type, ("+e+")"+i(t)+". must be a nonnegative integer")},oneOf:f,shaderError:function(e,t,n,i,o){if(!e.getShaderParameter(t,e.COMPILE_STATUS)){var f=e.getShaderInfoLog(t),u=i===e.FRAGMENT_SHADER?"fragment":"vertex";g(n,"string",u+" shader source must be a string",o);var c=h(n,o),l=function(e){var t=[];return e.split("\n").forEach(function(e){if(!(e.length<5)){var r=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(e);r?t.push(new d(0|r[1],0|r[2],r[3].trim())):e.length>0&&t.push(new d("unknown",0,e))}}),t}(f);!function(e,t){t.forEach(function(t){var r=e[t.file];if(r){var n=r.index[t.line];if(n)return n.errors.push(t),void(r.hasErrors=!0)}e.unknown.hasErrors=!0,e.unknown.lines[0].errors.push(t)})}(c,l),Object.keys(c).forEach(function(e){var t=c[e];if(t.hasErrors){var n=[""],a=[""];i("file number "+e+": "+t.name+"\n","color:red;text-decoration:underline;font-weight:bold"),t.lines.forEach(function(e){if(e.errors.length>0){i(s(e.number,4)+"|  ","background-color:yellow; font-weight:bold"),i(e.line+r,"color:red; background-color:yellow; font-weight:bold");var t=0;e.errors.forEach(function(n){var a=n.message,o=/^\s*'(.*)'\s*:\s*(.*)$/.exec(a);if(o){var f=o[1];switch(a=o[2],f){case"assign":f="="}t=Math.max(e.line.indexOf(f,t),0)}else t=0;i(s("| ",6)),i(s("^^^",t+3)+r,"font-weight:bold"),i(s("| ",6)),i(a+r,"font-weight:bold")}),i(s("| ",6)+r)}else i(s(e.number,4)+"|  "),i(e.line+r,"color:red")}),"undefined"==typeof document||window.chrome?console.log(n.join("")):(a[0]=n.join("%c"),console.log.apply(console,a))}function i(e,t){n.push(e),a.push(t||"")}}),a.raise("Error compiling "+u+" shader, "+c[0].name)}},linkError:function(e,t,n,i,o){if(!e.getProgramParameter(t,e.LINK_STATUS)){var f=e.getProgramInfoLog(t),u=h(n,o),s='Error linking program with vertex shader, "'+h(i,o)[0].name+'", and fragment shader "'+u[0].name+'"';"undefined"!=typeof document?console.log("%c"+s+r+"%c"+f,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(s+r+f),a.raise(s)}},callSite:p,saveCommandRef:b,saveDrawInfo:function(e,t,r,n){function a(e){return e?n.id(e):0}function i(e,t){Object.keys(t).forEach(function(t){e[n.id(t)]=!0})}b(e),e._fragId=a(e.static.frag),e._vertId=a(e.static.vert);var o=e._uniformSet={};i(o,t.static),i(o,t.dynamic);var f=e._attributeSet={};i(f,r.static),i(f,r.dynamic),e._hasCount="count"in e.static||"count"in e.dynamic||"elements"in e.static||"elements"in e.dynamic},framebufferFormat:function(e,t,r){e.texture?f(e.texture._texture.internalformat,t,"unsupported texture format for attachment"):f(e.renderbuffer._renderbuffer.format,r,"unsupported renderbuffer format for attachment")},guessCommand:m,texture2D:function(e,t,r){var n,i=t.width,o=t.height,f=t.channels;a(i>0&&i<=r.maxTextureSize&&o>0&&o<=r.maxTextureSize,"invalid texture shape"),e.wrapS===y&&e.wrapT===y||a(z(i)&&z(o),"incompatible wrap mode for texture, both width and height must be power of 2"),1===t.mipmask?1!==i&&1!==o&&a(e.minFilter!==w&&e.minFilter!==_&&e.minFilter!==A&&e.minFilter!==k,"min filter requires mipmap"):(a(z(i)&&z(o),"texture must be a square power of 2 to support mipmapping"),a(t.mipmask===(i<<1)-1,"missing or incomplete mipmap data")),t.type===S&&(r.extensions.indexOf("oes_texture_float_linear")<0&&a(e.minFilter===x&&e.magFilter===x,"filter not supported, must enable oes_texture_float_linear"),a(!e.genMipmaps,"mipmap generation not supported with float textures"));var u=t.images;for(n=0;n<16;++n)if(u[n]){var s=i>>n,c=o>>n;a(t.mipmask&1<<n,"missing mipmap data");var l=u[n];if(a(l.width===s&&l.height===c,"invalid shape for mip images"),a(l.format===t.format&&l.internalformat===t.internalformat&&l.type===t.type,"incompatible type for mip image"),l.compressed);else if(l.data){var d=Math.ceil(C(l.type,f)*s/l.unpackAlignment)*l.unpackAlignment;a(l.data.byteLength===d*c,"invalid data for image, buffer size is inconsistent with image format")}else l.element||l.copy}else e.genMipmaps||a(0==(t.mipmask&1<<n),"extra mipmap data");t.compressed&&a(!e.genMipmaps,"mipmap generation for compressed images not supported")},textureCube:function(e,t,r,n){var i=e.width,o=e.height,f=e.channels;a(i>0&&i<=n.maxTextureSize&&o>0&&o<=n.maxTextureSize,"invalid texture shape"),a(i===o,"cube map must be square"),a(t.wrapS===y&&t.wrapT===y,"wrap mode not supported by cube map");for(var u=0;u<r.length;++u){var s=r[u];a(s.width===i&&s.height===o,"inconsistent cube map face shape"),t.genMipmaps&&(a(!s.compressed,"can not generate mipmap for compressed textures"),a(1===s.mipmask,"can not specify mipmaps and generate mipmaps"));for(var c=s.images,l=0;l<16;++l){var d=c[l];if(d){var m=i>>l,p=o>>l;a(s.mipmask&1<<l,"missing mipmap data"),a(d.width===m&&d.height===p,"invalid shape for mip images"),a(d.format===e.format&&d.internalformat===e.internalformat&&d.type===e.type,"incompatible type for mip image"),d.compressed||(d.data?a(d.data.byteLength===m*p*Math.max(C(d.type,f),d.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):d.element||d.copy)}}}}}),B=0,V=0,I=5,P=6;function L(e,t){this.id=B++,this.type=e,this.data=t}function R(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function M(e){return"["+function e(t){if(0===t.length)return[];var r=t.charAt(0),n=t.charAt(t.length-1);if(t.length>1&&r===n&&('"'===r||"'"===r))return['"'+R(t.substr(1,t.length-2))+'"'];var a=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(t);if(a)return e(t.substr(0,a.index)).concat(e(a[1])).concat(e(t.substr(a.index+a[0].length)));var i=t.split(".");if(1===i.length)return['"'+R(t)+'"'];for(var o=[],f=0;f<i.length;++f)o=o.concat(e(i[f]));return o}(e).join("][")+"]"}var W={DynamicVariable:L,define:function(e,t){return new L(e,M(t+""))},isDynamic:function(e){return"function"==typeof e&&!e._reglType||e instanceof L},unbox:function e(t,r){return"function"==typeof t?new L(V,t):"number"==typeof t||"boolean"==typeof t?new L(I,t):Array.isArray(t)?new L(P,t.map(function(t,n){return e(t,r+"["+n+"]")})):t instanceof L?t:void F(!1,"invalid option type in uniform "+r)},accessor:M},U={next:"function"==typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"==typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},G="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function H(e){return"string"==typeof e?e.split():(F(Array.isArray(e),"invalid extension array"),e)}function N(e){return"string"==typeof e?(F("undefined"!=typeof document,"not supported outside of DOM"),document.querySelector(e)):e}function q(e){var r,n,a,i,o,f=e||{},u={},s=[],c=[],l="undefined"==typeof window?1:window.devicePixelRatio,d=!1,m=function(e){e&&F.raise(e)},p=function(){};if("string"==typeof f?(F("undefined"!=typeof document,"selector queries only supported in DOM enviroments"),r=document.querySelector(f),F(r,"invalid query string for element")):"object"==typeof f?"string"==typeof(o=f).nodeName&&"function"==typeof o.appendChild&&"function"==typeof o.getBoundingClientRect?r=f:!function(e){return"function"==typeof e.drawArrays||"function"==typeof e.drawElements}(f)?(F.constructor(f),"gl"in f?i=f.gl:"canvas"in f?a=N(f.canvas):"container"in f&&(n=N(f.container)),"attributes"in f&&(u=f.attributes,F.type(u,"object","invalid context attributes")),"extensions"in f&&(s=H(f.extensions)),"optionalExtensions"in f&&(c=H(f.optionalExtensions)),"onDone"in f&&(F.type(f.onDone,"function","invalid or missing onDone callback"),m=f.onDone),"profile"in f&&(d=!!f.profile),"pixelRatio"in f&&(l=+f.pixelRatio,F(l>0,"invalid pixel ratio"))):a=(i=f).canvas:F.raise("invalid arguments to regl"),r&&("canvas"===r.nodeName.toLowerCase()?a=r:n=r),!i){if(!a){F("undefined"!=typeof document,"must manually specify webgl context outside of DOM environments");var h=function(e,r,n){var a,i=document.createElement("canvas");function o(){var r=window.innerWidth,a=window.innerHeight;if(e!==document.body){var o=e.getBoundingClientRect();r=o.right-o.left,a=o.bottom-o.top}i.width=n*r,i.height=n*a,t(i.style,{width:r+"px",height:a+"px"})}return t(i.style,{border:0,margin:0,padding:0,top:0,left:0}),e.appendChild(i),e===document.body&&(i.style.position="absolute",t(e.style,{margin:0,padding:0})),e!==document.body&&"function"==typeof ResizeObserver?(a=new ResizeObserver(function(){setTimeout(o)})).observe(e):window.addEventListener("resize",o,!1),o(),{canvas:i,onDestroy:function(){a?a.disconnect():window.removeEventListener("resize",o),e.removeChild(i)}}}(n||document.body,0,l);if(!h)return null;a=h.canvas,p=h.onDestroy}void 0===u.premultipliedAlpha&&(u.premultipliedAlpha=!0),i=function(e,t){function r(r){try{return e.getContext(r,t)}catch(n){return null}}return r("webgl")||r("experimental-webgl")||r("webgl-experimental")}(a,u)}return i?{gl:i,canvas:a,container:n,extensions:s,optionalExtensions:c,pixelRatio:l,profile:d,onDone:m,onDestroy:p}:(p(),m("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Q(e,t){for(var r=Array(e),n=0;n<e;++n)r[n]=t(n);return r}var Y=5120,X=5121,$=5122,K=5123,J=5124,Z=5125,ee=5126;function te(e){var t,r;return t=(e>65535)<<4,t|=r=((e>>>=t)>255)<<3,t|=r=((e>>>=r)>15)<<2,(t|=r=((e>>>=r)>3)<<1)|(e>>>=r)>>1}function re(){var e=Q(8,function(){return[]});function t(t){var r=function(e){for(var t=16;t<=1<<28;t*=16)if(e<=t)return t;return 0}(t),n=e[te(r)>>2];return n.length>0?n.pop():new ArrayBuffer(r)}function r(t){e[te(t.byteLength)>>2].push(t)}return{alloc:t,free:r,allocType:function(e,r){var n=null;switch(e){case Y:n=new Int8Array(t(r),0,r);break;case X:n=new Uint8Array(t(r),0,r);break;case $:n=new Int16Array(t(2*r),0,r);break;case K:n=new Uint16Array(t(2*r),0,r);break;case J:n=new Int32Array(t(4*r),0,r);break;case Z:n=new Uint32Array(t(4*r),0,r);break;case ee:n=new Float32Array(t(4*r),0,r);break;default:return null}return n.length!==r?n.subarray(0,r):n},freeType:function(e){r(e.buffer)}}}var ne=re();ne.zero=re();var ae=function(e,t){var r=1;t.ext_texture_filter_anisotropic&&(r=e.getParameter(34047));var n=1,a=1;t.webgl_draw_buffers&&(n=e.getParameter(34852),a=e.getParameter(36063));var i=!!t.oes_texture_float;if(i){var o=e.createTexture();e.bindTexture(3553,o),e.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var f=e.createFramebuffer();if(e.bindFramebuffer(36160,f),e.framebufferTexture2D(36160,36064,3553,o,0),e.bindTexture(3553,null),36053!==e.checkFramebufferStatus(36160))i=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(16384);var u=ne.allocType(5126,4);e.readPixels(0,0,1,1,6408,5126,u),e.getError()?i=!1:(e.deleteFramebuffer(f),e.deleteTexture(o),i=1===u[0]),ne.freeType(u)}}var s=!0;if(!("undefined"!=typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)))){var c=e.createTexture(),l=ne.allocType(5121,36);e.activeTexture(33984),e.bindTexture(34067,c),e.texImage2D(34069,0,6408,3,3,0,6408,5121,l),ne.freeType(l),e.bindTexture(34067,null),e.deleteTexture(c),s=!e.getError()}return{colorBits:[e.getParameter(3410),e.getParameter(3411),e.getParameter(3412),e.getParameter(3413)],depthBits:e.getParameter(3414),stencilBits:e.getParameter(3415),subpixelBits:e.getParameter(3408),extensions:Object.keys(t).filter(function(e){return!!t[e]}),maxAnisotropic:r,maxDrawbuffers:n,maxColorAttachments:a,pointSizeDims:e.getParameter(33901),lineWidthDims:e.getParameter(33902),maxViewportDims:e.getParameter(3386),maxCombinedTextureUnits:e.getParameter(35661),maxCubeMapSize:e.getParameter(34076),maxRenderbufferSize:e.getParameter(34024),maxTextureUnits:e.getParameter(34930),maxTextureSize:e.getParameter(3379),maxAttributes:e.getParameter(34921),maxVertexUniforms:e.getParameter(36347),maxVertexTextureUnits:e.getParameter(35660),maxVaryingVectors:e.getParameter(36348),maxFragmentUniforms:e.getParameter(36349),glsl:e.getParameter(35724),renderer:e.getParameter(7937),vendor:e.getParameter(7936),version:e.getParameter(7938),readFloat:i,npotTextureCube:s}};function ie(t){return!!t&&"object"==typeof t&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&"number"==typeof t.offset&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||e(t.data))}var oe=function(e){return Object.keys(e).map(function(t){return e[t]})},fe={shape:function(e){for(var t=[],r=e;r.length;r=r[0])t.push(r.length);return t},flatten:function(e,t,r,n){var a=1;if(t.length)for(var i=0;i<t.length;++i)a*=t[i];else a=0;var o=n||ne.allocType(r,a);switch(t.length){case 0:break;case 1:!function(e,t,r){for(var n=0;n<t;++n)r[n]=e[n]}(e,t[0],o);break;case 2:!function(e,t,r,n){for(var a=0,i=0;i<t;++i)for(var o=e[i],f=0;f<r;++f)n[a++]=o[f]}(e,t[0],t[1],o);break;case 3:ue(e,t[0],t[1],t[2],o,0);break;default:!function e(t,r,n,a,i){var o=1;for(var f=n+1;f<r.length;++f)o*=r[f];var u=r[n];if(r.length-n==4){var s=r[n+1],c=r[n+2],l=r[n+3];for(f=0;f<u;++f)ue(t[f],s,c,l,a,i),i+=o}else for(f=0;f<u;++f)e(t[f],r,n+1,a,i),i+=o}(e,t,0,o,0)}return o}};function ue(e,t,r,n,a,i){for(var o=i,f=0;f<t;++f)for(var u=e[f],s=0;s<r;++s)for(var c=u[s],l=0;l<n;++l)a[o++]=c[l]}var se={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},ce={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},le={dynamic:35048,stream:35040,static:35044},de=fe.flatten,me=fe.shape,pe=35044,he=35040,be=5121,ve=5126,ge=[];function ye(e){return 0|se[Object.prototype.toString.call(e)]}function xe(e,t){for(var r=0;r<t.length;++r)e[r]=t[r]}function we(e,t,r,n,a,i,o){for(var f=0,u=0;u<r;++u)for(var s=0;s<n;++s)e[f++]=t[a*u+i*s+o]}ge[5120]=1,ge[5122]=2,ge[5124]=4,ge[5121]=1,ge[5123]=2,ge[5125]=4,ge[5126]=4;var Ae={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},_e=0,ke=1,Se=4,Ee=5120,Oe=5121,Te=5122,De=5123,je=5124,Ce=5125,ze=34963,Fe=35040,Be=35044;var Ve=new Float32Array(1),Ie=new Uint32Array(Ve.buffer),Pe=5123;function Le(e){for(var t=ne.allocType(Pe,e.length),r=0;r<e.length;++r)if(isNaN(e[r]))t[r]=65535;else if(e[r]===1/0)t[r]=31744;else if(e[r]===-1/0)t[r]=64512;else{Ve[0]=e[r];var n=Ie[0],a=n>>>31<<15,i=(n<<1>>>24)-127,o=n>>13&1023;if(i<-24)t[r]=a;else if(i<-14){var f=-14-i;t[r]=a+(o+1024>>f)}else t[r]=i>15?a+31744:a+(i+15<<10)+o}return t}function Re(t){return Array.isArray(t)||e(t)}var Me=function(e){return!(e&e-1||!e)},We=34467,Ue=3553,Ge=34067,He=34069,Ne=6408,qe=6406,Qe=6407,Ye=6409,Xe=6410,$e=32854,Ke=32855,Je=36194,Ze=32819,et=32820,tt=33635,rt=34042,nt=6402,at=34041,it=35904,ot=35906,ft=36193,ut=33776,st=33777,ct=33778,lt=33779,dt=35986,mt=35987,pt=34798,ht=35840,bt=35841,vt=35842,gt=35843,yt=36196,xt=5121,wt=5123,At=5125,_t=5126,kt=10242,St=10243,Et=10497,Ot=33071,Tt=33648,Dt=10240,jt=10241,Ct=9728,zt=9729,Ft=9984,Bt=9985,Vt=9986,It=9987,Pt=33170,Lt=4352,Rt=4353,Mt=4354,Wt=34046,Ut=3317,Gt=37440,Ht=37441,Nt=37443,qt=37444,Qt=33984,Yt=[Ft,Vt,Bt,It],Xt=[0,Ye,Xe,Qe,Ne],$t={};function Kt(e){return"[object "+e+"]"}$t[Ye]=$t[qe]=$t[nt]=1,$t[at]=$t[Xe]=2,$t[Qe]=$t[it]=3,$t[Ne]=$t[ot]=4;var Jt=Kt("HTMLCanvasElement"),Zt=Kt("OffscreenCanvas"),er=Kt("CanvasRenderingContext2D"),tr=Kt("ImageBitmap"),rr=Kt("HTMLImageElement"),nr=Kt("HTMLVideoElement"),ar=Object.keys(se).concat([Jt,Zt,er,tr,rr,nr]),ir=[];ir[xt]=1,ir[_t]=4,ir[ft]=2,ir[wt]=2,ir[At]=4;var or=[];function fr(e){return Array.isArray(e)&&(0===e.length||"number"==typeof e[0])}function ur(e){return!!Array.isArray(e)&&!(0===e.length||!Re(e[0]))}function sr(e){return Object.prototype.toString.call(e)}function cr(e){return sr(e)===Jt}function lr(e){return sr(e)===Zt}function dr(e){if(!e)return!1;var t=sr(e);return ar.indexOf(t)>=0||(fr(e)||ur(e)||ie(e))}function mr(e){return 0|se[Object.prototype.toString.call(e)]}function pr(e,t){return ne.allocType(e.type===ft?_t:e.type,t)}function hr(e,t){e.type===ft?(e.data=Le(t),ne.freeType(t)):e.data=t}function br(e,t,r,n,a,i){var o;if(o=void 0!==or[e]?or[e]:$t[e]*ir[t],i&&(o*=6),a){for(var f=0,u=r;u>=1;)f+=o*u*u,u/=2;return f}return o*r*n}function vr(r,n,a,i,o,f,u){var s={"don't care":Lt,"dont care":Lt,nice:Mt,fast:Rt},c={repeat:Et,clamp:Ot,mirror:Tt},l={nearest:Ct,linear:zt},d=t({mipmap:It,"nearest mipmap nearest":Ft,"linear mipmap nearest":Bt,"nearest mipmap linear":Vt,"linear mipmap linear":It},l),m={none:0,browser:qt},p={uint8:xt,rgba4:Ze,rgb565:tt,"rgb5 a1":et},h={alpha:qe,luminance:Ye,"luminance alpha":Xe,rgb:Qe,rgba:Ne,rgba4:$e,"rgb5 a1":Ke,rgb565:Je},b={};n.ext_srgb&&(h.srgb=it,h.srgba=ot),n.oes_texture_float&&(p.float32=p.float=_t),n.oes_texture_half_float&&(p.float16=p["half float"]=ft),n.webgl_depth_texture&&(t(h,{depth:nt,"depth stencil":at}),t(p,{uint16:wt,uint32:At,"depth stencil":rt})),n.webgl_compressed_texture_s3tc&&t(b,{"rgb s3tc dxt1":ut,"rgba s3tc dxt1":st,"rgba s3tc dxt3":ct,"rgba s3tc dxt5":lt}),n.webgl_compressed_texture_atc&&t(b,{"rgb atc":dt,"rgba atc explicit alpha":mt,"rgba atc interpolated alpha":pt}),n.webgl_compressed_texture_pvrtc&&t(b,{"rgb pvrtc 4bppv1":ht,"rgb pvrtc 2bppv1":bt,"rgba pvrtc 4bppv1":vt,"rgba pvrtc 2bppv1":gt}),n.webgl_compressed_texture_etc1&&(b["rgb etc1"]=yt);var v=Array.prototype.slice.call(r.getParameter(We));Object.keys(b).forEach(function(e){var t=b[e];v.indexOf(t)>=0&&(h[e]=t)});var g=Object.keys(h);a.textureFormats=g;var y=[];Object.keys(h).forEach(function(e){var t=h[e];y[t]=e});var x=[];Object.keys(p).forEach(function(e){var t=p[e];x[t]=e});var w=[];Object.keys(l).forEach(function(e){var t=l[e];w[t]=e});var A=[];Object.keys(d).forEach(function(e){var t=d[e];A[t]=e});var _=[];Object.keys(c).forEach(function(e){var t=c[e];_[t]=e});var k=g.reduce(function(e,t){var r=h[t];return r===Ye||r===qe||r===Ye||r===Xe||r===nt||r===at||n.ext_srgb&&(r===it||r===ot)?e[r]=r:r===Ke||t.indexOf("rgba")>=0?e[r]=Ne:e[r]=Qe,e},{});function S(){this.internalformat=Ne,this.format=Ne,this.type=xt,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=qt,this.width=0,this.height=0,this.channels=0}function E(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function O(e,t){if("object"==typeof t&&t){if("premultiplyAlpha"in t&&(F.type(t.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(F.type(t.flipY,"boolean","invalid texture flip"),e.flipY=t.flipY),"alignment"in t&&(F.oneOf(t.alignment,[1,2,4,8],"invalid texture unpack alignment"),e.unpackAlignment=t.alignment),"colorSpace"in t&&(F.parameter(t.colorSpace,m,"invalid colorSpace"),e.colorSpace=m[t.colorSpace]),"type"in t){var r=t.type;F(n.oes_texture_float||!("float"===r||"float32"===r),"you must enable the OES_texture_float extension in order to use floating point textures."),F(n.oes_texture_half_float||!("half float"===r||"float16"===r),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),F(n.webgl_depth_texture||!("uint16"===r||"uint32"===r||"depth stencil"===r),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),F.parameter(r,p,"invalid texture type"),e.type=p[r]}var i=e.width,o=e.height,f=e.channels,u=!1;"shape"in t?(F(Array.isArray(t.shape)&&t.shape.length>=2,"shape must be an array"),i=t.shape[0],o=t.shape[1],3===t.shape.length&&(f=t.shape[2],F(f>0&&f<=4,"invalid number of channels"),u=!0),F(i>=0&&i<=a.maxTextureSize,"invalid width"),F(o>=0&&o<=a.maxTextureSize,"invalid height")):("radius"in t&&(i=o=t.radius,F(i>=0&&i<=a.maxTextureSize,"invalid radius")),"width"in t&&(i=t.width,F(i>=0&&i<=a.maxTextureSize,"invalid width")),"height"in t&&(o=t.height,F(o>=0&&o<=a.maxTextureSize,"invalid height")),"channels"in t&&(f=t.channels,F(f>0&&f<=4,"invalid number of channels"),u=!0)),e.width=0|i,e.height=0|o,e.channels=0|f;var s=!1;if("format"in t){var c=t.format;F(n.webgl_depth_texture||!("depth"===c||"depth stencil"===c),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),F.parameter(c,h,"invalid texture format");var l=e.internalformat=h[c];e.format=k[l],c in p&&("type"in t||(e.type=p[c])),c in b&&(e.compressed=!0),s=!0}!u&&s?e.channels=$t[e.format]:u&&!s?e.channels!==Xt[e.format]&&(e.format=e.internalformat=Xt[e.channels]):s&&u&&F(e.channels===$t[e.format],"number of channels inconsistent with specified format")}}function T(e){r.pixelStorei(Gt,e.flipY),r.pixelStorei(Ht,e.premultiplyAlpha),r.pixelStorei(Nt,e.colorSpace),r.pixelStorei(Ut,e.unpackAlignment)}function D(){S.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function j(t,r){var n=null;if(dr(r)?n=r:r&&(F.type(r,"object","invalid pixel data type"),O(t,r),"x"in r&&(t.xOffset=0|r.x),"y"in r&&(t.yOffset=0|r.y),dr(r.data)&&(n=r.data)),F(!t.compressed||n instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),r.copy){F(!n,"can not specify copy and data field for the same texture");var i=o.viewportWidth,f=o.viewportHeight;t.width=t.width||i-t.xOffset,t.height=t.height||f-t.yOffset,t.needsCopy=!0,F(t.xOffset>=0&&t.xOffset<i&&t.yOffset>=0&&t.yOffset<f&&t.width>0&&t.width<=i&&t.height>0&&t.height<=f,"copy texture read out of bounds")}else if(n){if(e(n))t.channels=t.channels||4,t.data=n,"type"in r||t.type!==xt||(t.type=mr(n));else if(fr(n))t.channels=t.channels||4,function(e,t){var r=t.length;switch(e.type){case xt:case wt:case At:case _t:var n=ne.allocType(e.type,r);n.set(t),e.data=n;break;case ft:e.data=Le(t);break;default:F.raise("unsupported texture type, must specify a typed array")}}(t,n),t.alignment=1,t.needsFree=!0;else if(ie(n)){var u=n.data;Array.isArray(u)||t.type!==xt||(t.type=mr(u));var s,c,l,d,m,p,h=n.shape,b=n.stride;3===h.length?(l=h[2],p=b[2]):(F(2===h.length,"invalid ndarray pixel data, must be 2 or 3D"),l=1,p=1),s=h[0],c=h[1],d=b[0],m=b[1],t.alignment=1,t.width=s,t.height=c,t.channels=l,t.format=t.internalformat=Xt[l],t.needsFree=!0,function(e,t,r,n,a,i){for(var o=e.width,f=e.height,u=e.channels,s=pr(e,o*f*u),c=0,l=0;l<f;++l)for(var d=0;d<o;++d)for(var m=0;m<u;++m)s[c++]=t[r*d+n*l+a*m+i];hr(e,s)}(t,u,d,m,p,n.offset)}else if(cr(n)||lr(n)||sr(n)===er)cr(n)||lr(n)?t.element=n:t.element=n.canvas,t.width=t.element.width,t.height=t.element.height,t.channels=4;else if(function(e){return sr(e)===tr}(n))t.element=n,t.width=n.width,t.height=n.height,t.channels=4;else if(function(e){return sr(e)===rr}(n))t.element=n,t.width=n.naturalWidth,t.height=n.naturalHeight,t.channels=4;else if(function(e){return sr(e)===nr}(n))t.element=n,t.width=n.videoWidth,t.height=n.videoHeight,t.channels=4;else if(ur(n)){var v=t.width||n[0].length,g=t.height||n.length,y=t.channels;y=Re(n[0][0])?y||n[0][0].length:y||1;for(var x=fe.shape(n),w=1,A=0;A<x.length;++A)w*=x[A];var _=pr(t,w);fe.flatten(n,x,"",_),hr(t,_),t.alignment=1,t.width=v,t.height=g,t.channels=y,t.format=t.internalformat=Xt[y],t.needsFree=!0}}else t.width=t.width||1,t.height=t.height||1,t.channels=t.channels||4;t.type===_t?F(a.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):t.type===ft&&F(a.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function C(e,t,n){var a=e.element,o=e.data,f=e.internalformat,u=e.format,s=e.type,c=e.width,l=e.height;T(e),a?r.texImage2D(t,n,u,u,s,a):e.compressed?r.compressedTexImage2D(t,n,f,c,l,0,o):e.needsCopy?(i(),r.copyTexImage2D(t,n,u,e.xOffset,e.yOffset,c,l,0)):r.texImage2D(t,n,u,c,l,0,u,s,o||null)}function z(e,t,n,a,o){var f=e.element,u=e.data,s=e.internalformat,c=e.format,l=e.type,d=e.width,m=e.height;T(e),f?r.texSubImage2D(t,o,n,a,c,l,f):e.compressed?r.compressedTexSubImage2D(t,o,n,a,s,d,m,u):e.needsCopy?(i(),r.copyTexSubImage2D(t,o,n,a,e.xOffset,e.yOffset,d,m)):r.texSubImage2D(t,o,n,a,d,m,c,l,u)}var B=[];function V(){return B.pop()||new D}function I(e){e.needsFree&&ne.freeType(e.data),D.call(e),B.push(e)}function P(){S.call(this),this.genMipmaps=!1,this.mipmapHint=Lt,this.mipmask=0,this.images=Array(16)}function L(e,t,r){var n=e.images[0]=V();e.mipmask=1,n.width=e.width=t,n.height=e.height=r,n.channels=e.channels=4}function R(e,t){var r=null;if(dr(t))E(r=e.images[0]=V(),e),j(r,t),e.mipmask=1;else if(O(e,t),Array.isArray(t.mipmap))for(var n=t.mipmap,a=0;a<n.length;++a)E(r=e.images[a]=V(),e),r.width>>=a,r.height>>=a,j(r,n[a]),e.mipmask|=1<<a;else E(r=e.images[0]=V(),e),j(r,t),e.mipmask=1;E(e,e.images[0]),!e.compressed||e.internalformat!==ut&&e.internalformat!==st&&e.internalformat!==ct&&e.internalformat!==lt||F(e.width%4==0&&e.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function M(e,t){for(var r=e.images,n=0;n<r.length;++n){if(!r[n])return;C(r[n],t,n)}}var W=[];function U(){var e=W.pop()||new P;S.call(e),e.mipmask=0;for(var t=0;t<16;++t)e.images[t]=null;return e}function G(e){for(var t=e.images,r=0;r<t.length;++r)t[r]&&I(t[r]),t[r]=null;W.push(e)}function H(){this.minFilter=Ct,this.magFilter=Ct,this.wrapS=Ot,this.wrapT=Ot,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Lt}function N(e,t){if("min"in t){var r=t.min;F.parameter(r,d),e.minFilter=d[r],Yt.indexOf(e.minFilter)>=0&&!("faces"in t)&&(e.genMipmaps=!0)}if("mag"in t){var n=t.mag;F.parameter(n,l),e.magFilter=l[n]}var i=e.wrapS,o=e.wrapT;if("wrap"in t){var f=t.wrap;"string"==typeof f?(F.parameter(f,c),i=o=c[f]):Array.isArray(f)&&(F.parameter(f[0],c),F.parameter(f[1],c),i=c[f[0]],o=c[f[1]])}else{if("wrapS"in t){var u=t.wrapS;F.parameter(u,c),i=c[u]}if("wrapT"in t){var m=t.wrapT;F.parameter(m,c),o=c[m]}}if(e.wrapS=i,e.wrapT=o,"anisotropic"in t){var p=t.anisotropic;F("number"==typeof p&&p>=1&&p<=a.maxAnisotropic,"aniso samples must be between 1 and "),e.anisotropic=t.anisotropic}if("mipmap"in t){var h=!1;switch(typeof t.mipmap){case"string":F.parameter(t.mipmap,s,"invalid mipmap hint"),e.mipmapHint=s[t.mipmap],e.genMipmaps=!0,h=!0;break;case"boolean":h=e.genMipmaps=t.mipmap;break;case"object":F(Array.isArray(t.mipmap),"invalid mipmap type"),e.genMipmaps=!1,h=!0;break;default:F.raise("invalid mipmap type")}!h||"min"in t||(e.minFilter=Ft)}}function q(e,t){r.texParameteri(t,jt,e.minFilter),r.texParameteri(t,Dt,e.magFilter),r.texParameteri(t,kt,e.wrapS),r.texParameteri(t,St,e.wrapT),n.ext_texture_filter_anisotropic&&r.texParameteri(t,Wt,e.anisotropic),e.genMipmaps&&(r.hint(Pt,e.mipmapHint),r.generateMipmap(t))}var Q=0,Y={},X=a.maxTextureUnits,$=Array(X).map(function(){return null});function K(e){S.call(this),this.mipmask=0,this.internalformat=Ne,this.id=Q++,this.refCount=1,this.target=e,this.texture=r.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new H,u.profile&&(this.stats={size:0})}function J(e){r.activeTexture(Qt),r.bindTexture(e.target,e.texture)}function Z(){var e=$[0];e?r.bindTexture(e.target,e.texture):r.bindTexture(Ue,null)}function ee(e){var t=e.texture;F(t,"must not double destroy texture");var n=e.unit,a=e.target;n>=0&&(r.activeTexture(Qt+n),r.bindTexture(a,null),$[n]=null),r.deleteTexture(t),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete Y[e.id],f.textureCount--}return t(K.prototype,{bind:function(){this.bindCount+=1;var e=this.unit;if(e<0){for(var t=0;t<X;++t){var n=$[t];if(n){if(n.bindCount>0)continue;n.unit=-1}$[t]=this,e=t;break}e>=X&&F.raise("insufficient number of texture units"),u.profile&&f.maxTextureUnits<e+1&&(f.maxTextureUnits=e+1),this.unit=e,r.activeTexture(Qt+e),r.bindTexture(this.target,this.texture)}return e},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&ee(this)}}),u.profile&&(f.getTotalTextureSize=function(){var e=0;return Object.keys(Y).forEach(function(t){e+=Y[t].stats.size}),e}),{create2D:function(e,t){var n=new K(Ue);function i(e,t){var r=n.texInfo;H.call(r);var o=U();return"number"==typeof e?L(o,0|e,"number"==typeof t?0|t:0|e):e?(F.type(e,"object","invalid arguments to regl.texture"),N(r,e),R(o,e)):L(o,1,1),r.genMipmaps&&(o.mipmask=(o.width<<1)-1),n.mipmask=o.mipmask,E(n,o),F.texture2D(r,o,a),n.internalformat=o.internalformat,i.width=o.width,i.height=o.height,J(n),M(o,Ue),q(r,Ue),Z(),G(o),u.profile&&(n.stats.size=br(n.internalformat,n.type,o.width,o.height,r.genMipmaps,!1)),i.format=y[n.internalformat],i.type=x[n.type],i.mag=w[r.magFilter],i.min=A[r.minFilter],i.wrapS=_[r.wrapS],i.wrapT=_[r.wrapT],i}return Y[n.id]=n,f.textureCount++,i(e,t),i.subimage=function(e,t,r,a){F(!!e,"must specify image data");var o=0|t,f=0|r,u=0|a,s=V();return E(s,n),s.width=0,s.height=0,j(s,e),s.width=s.width||(n.width>>u)-o,s.height=s.height||(n.height>>u)-f,F(n.type===s.type&&n.format===s.format&&n.internalformat===s.internalformat,"incompatible format for texture.subimage"),F(o>=0&&f>=0&&o+s.width<=n.width&&f+s.height<=n.height,"texture.subimage write out of bounds"),F(n.mipmask&1<<u,"missing mipmap data"),F(s.data||s.element||s.needsCopy,"missing image data"),J(n),z(s,Ue,o,f,u),Z(),I(s),i},i.resize=function(e,t){var a=0|e,o=0|t||a;if(a===n.width&&o===n.height)return i;i.width=n.width=a,i.height=n.height=o,J(n);for(var f=0;n.mipmask>>f;++f){var s=a>>f,c=o>>f;if(!s||!c)break;r.texImage2D(Ue,f,n.format,s,c,0,n.format,n.type,null)}return Z(),u.profile&&(n.stats.size=br(n.internalformat,n.type,a,o,!1,!1)),i},i._reglType="texture2d",i._texture=n,u.profile&&(i.stats=n.stats),i.destroy=function(){n.decRef()},i},createCube:function(e,t,n,i,o,s){var c=new K(Ge);Y[c.id]=c,f.cubeCount++;var l=new Array(6);function d(e,t,r,n,i,o){var f,s=c.texInfo;for(H.call(s),f=0;f<6;++f)l[f]=U();if("number"!=typeof e&&e)if("object"==typeof e)if(t)R(l[0],e),R(l[1],t),R(l[2],r),R(l[3],n),R(l[4],i),R(l[5],o);else if(N(s,e),O(c,e),"faces"in e){var m=e.faces;for(F(Array.isArray(m)&&6===m.length,"cube faces must be a length 6 array"),f=0;f<6;++f)F("object"==typeof m[f]&&!!m[f],"invalid input for cube map face"),E(l[f],c),R(l[f],m[f])}else for(f=0;f<6;++f)R(l[f],e);else F.raise("invalid arguments to cube map");else{var p=0|e||1;for(f=0;f<6;++f)L(l[f],p,p)}for(E(c,l[0]),F.optional(function(){a.npotTextureCube||F(Me(c.width)&&Me(c.height),"your browser does not support non power or two texture dimensions")}),s.genMipmaps?c.mipmask=(l[0].width<<1)-1:c.mipmask=l[0].mipmask,F.textureCube(c,s,l,a),c.internalformat=l[0].internalformat,d.width=l[0].width,d.height=l[0].height,J(c),f=0;f<6;++f)M(l[f],He+f);for(q(s,Ge),Z(),u.profile&&(c.stats.size=br(c.internalformat,c.type,d.width,d.height,s.genMipmaps,!0)),d.format=y[c.internalformat],d.type=x[c.type],d.mag=w[s.magFilter],d.min=A[s.minFilter],d.wrapS=_[s.wrapS],d.wrapT=_[s.wrapT],f=0;f<6;++f)G(l[f]);return d}return d(e,t,n,i,o,s),d.subimage=function(e,t,r,n,a){F(!!t,"must specify image data"),F("number"==typeof e&&e===(0|e)&&e>=0&&e<6,"invalid face");var i=0|r,o=0|n,f=0|a,u=V();return E(u,c),u.width=0,u.height=0,j(u,t),u.width=u.width||(c.width>>f)-i,u.height=u.height||(c.height>>f)-o,F(c.type===u.type&&c.format===u.format&&c.internalformat===u.internalformat,"incompatible format for texture.subimage"),F(i>=0&&o>=0&&i+u.width<=c.width&&o+u.height<=c.height,"texture.subimage write out of bounds"),F(c.mipmask&1<<f,"missing mipmap data"),F(u.data||u.element||u.needsCopy,"missing image data"),J(c),z(u,He+e,i,o,f),Z(),I(u),d},d.resize=function(e){var t=0|e;if(t!==c.width){d.width=c.width=t,d.height=c.height=t,J(c);for(var n=0;n<6;++n)for(var a=0;c.mipmask>>a;++a)r.texImage2D(He+n,a,c.format,t>>a,t>>a,0,c.format,c.type,null);return Z(),u.profile&&(c.stats.size=br(c.internalformat,c.type,d.width,d.height,!1,!0)),d}},d._reglType="textureCube",d._texture=c,u.profile&&(d.stats=c.stats),d.destroy=function(){c.decRef()},d},clear:function(){for(var e=0;e<X;++e)r.activeTexture(Qt+e),r.bindTexture(Ue,null),$[e]=null;oe(Y).forEach(ee),f.cubeCount=0,f.textureCount=0},getTexture:function(e){return null},restore:function(){for(var e=0;e<X;++e){var t=$[e];t&&(t.bindCount=0,t.unit=-1,$[e]=null)}oe(Y).forEach(function(e){e.texture=r.createTexture(),r.bindTexture(e.target,e.texture);for(var t=0;t<32;++t)if(0!=(e.mipmask&1<<t))if(e.target===Ue)r.texImage2D(Ue,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);else for(var n=0;n<6;++n)r.texImage2D(He+n,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);q(e.texInfo,e.target)})},refresh:function(){for(var e=0;e<X;++e){var t=$[e];t&&(t.bindCount=0,t.unit=-1,$[e]=null),r.activeTexture(Qt+e),r.bindTexture(Ue,null),r.bindTexture(Ge,null)}}}}or[$e]=2,or[Ke]=2,or[Je]=2,or[at]=4,or[ut]=.5,or[st]=.5,or[ct]=1,or[lt]=1,or[dt]=.5,or[mt]=1,or[pt]=1,or[ht]=.5,or[bt]=.25,or[vt]=.5,or[gt]=.25,or[yt]=.5;var gr=36161,yr=32854,xr=[];function wr(e,t,r){return xr[e]*t*r}xr[yr]=2,xr[32855]=2,xr[36194]=2,xr[33189]=2,xr[36168]=1,xr[34041]=4,xr[35907]=4,xr[34836]=16,xr[34842]=8,xr[34843]=6;var Ar=function(e,t,r,n,a){var i={rgba4:yr,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};t.ext_srgb&&(i.srgba=35907),t.ext_color_buffer_half_float&&(i.rgba16f=34842,i.rgb16f=34843),t.webgl_color_buffer_float&&(i.rgba32f=34836);var o=[];Object.keys(i).forEach(function(e){var t=i[e];o[t]=e});var f=0,u={};function s(e){this.id=f++,this.refCount=1,this.renderbuffer=e,this.format=yr,this.width=0,this.height=0,a.profile&&(this.stats={size:0})}function c(t){var r=t.renderbuffer;F(r,"must not double destroy renderbuffer"),e.bindRenderbuffer(gr,null),e.deleteRenderbuffer(r),t.renderbuffer=null,t.refCount=0,delete u[t.id],n.renderbufferCount--}return s.prototype.decRef=function(){--this.refCount<=0&&c(this)},a.profile&&(n.getTotalRenderbufferSize=function(){var e=0;return Object.keys(u).forEach(function(t){e+=u[t].stats.size}),e}),{create:function(t,f){var c=new s(e.createRenderbuffer());function l(t,n){var f=0,u=0,s=yr;if("object"==typeof t&&t){var d=t;if("shape"in d){var m=d.shape;F(Array.isArray(m)&&m.length>=2,"invalid renderbuffer shape"),f=0|m[0],u=0|m[1]}else"radius"in d&&(f=u=0|d.radius),"width"in d&&(f=0|d.width),"height"in d&&(u=0|d.height);"format"in d&&(F.parameter(d.format,i,"invalid renderbuffer format"),s=i[d.format])}else"number"==typeof t?(f=0|t,u="number"==typeof n?0|n:f):t?F.raise("invalid arguments to renderbuffer constructor"):f=u=1;if(F(f>0&&u>0&&f<=r.maxRenderbufferSize&&u<=r.maxRenderbufferSize,"invalid renderbuffer size"),f!==c.width||u!==c.height||s!==c.format)return l.width=c.width=f,l.height=c.height=u,c.format=s,e.bindRenderbuffer(gr,c.renderbuffer),e.renderbufferStorage(gr,s,f,u),F(0===e.getError(),"invalid render buffer format"),a.profile&&(c.stats.size=wr(c.format,c.width,c.height)),l.format=o[c.format],l}return u[c.id]=c,n.renderbufferCount++,l(t,f),l.resize=function(t,n){var i=0|t,o=0|n||i;return i===c.width&&o===c.height?l:(F(i>0&&o>0&&i<=r.maxRenderbufferSize&&o<=r.maxRenderbufferSize,"invalid renderbuffer size"),l.width=c.width=i,l.height=c.height=o,e.bindRenderbuffer(gr,c.renderbuffer),e.renderbufferStorage(gr,c.format,i,o),F(0===e.getError(),"invalid render buffer format"),a.profile&&(c.stats.size=wr(c.format,c.width,c.height)),l)},l._reglType="renderbuffer",l._renderbuffer=c,a.profile&&(l.stats=c.stats),l.destroy=function(){c.decRef()},l},clear:function(){oe(u).forEach(c)},restore:function(){oe(u).forEach(function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(gr,t.renderbuffer),e.renderbufferStorage(gr,t.format,t.width,t.height)}),e.bindRenderbuffer(gr,null)}}},_r=36160,kr=36161,Sr=3553,Er=34069,Or=36064,Tr=36096,Dr=36128,jr=33306,Cr=36053,zr=6402,Fr=[6407,6408],Br=[];Br[6408]=4,Br[6407]=3;var Vr=[];Vr[5121]=1,Vr[5126]=4,Vr[36193]=2;var Ir=33189,Pr=36168,Lr=34041,Rr=[32854,32855,36194,35907,34842,34843,34836],Mr={};Mr[Cr]="complete",Mr[36054]="incomplete attachment",Mr[36057]="incomplete dimensions",Mr[36055]="incomplete, missing attachment",Mr[36061]="unsupported";var Wr=5126,Ur=34962,Gr=34963,Hr=["attributes","elements","offset","count","primitive","instances"];function Nr(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Wr,this.offset=0,this.stride=0,this.divisor=0}var qr=35632,Qr=35633,Yr=35718,Xr=35721;var $r=6408,Kr=5121,Jr=3333,Zr=5126;function en(t,r,n,a,i,o,f){function u(u){var s;null===r.next?(F(i.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),s=Kr):(F(null!==r.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),s=r.next.colorAttachments[0].texture._texture.type,F.optional(function(){o.oes_texture_float?(F(s===Kr||s===Zr,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),s===Zr&&F(f.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):F(s===Kr,"Reading from a framebuffer is only allowed for the type 'uint8'")}));var c=0,l=0,d=a.framebufferWidth,m=a.framebufferHeight,p=null;e(u)?p=u:u&&(F.type(u,"object","invalid arguments to regl.read()"),c=0|u.x,l=0|u.y,F(c>=0&&c<a.framebufferWidth,"invalid x offset for regl.read"),F(l>=0&&l<a.framebufferHeight,"invalid y offset for regl.read"),d=0|(u.width||a.framebufferWidth-c),m=0|(u.height||a.framebufferHeight-l),p=u.data||null),p&&(s===Kr?F(p instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):s===Zr&&F(p instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),F(d>0&&d+c<=a.framebufferWidth,"invalid width for read pixels"),F(m>0&&m+l<=a.framebufferHeight,"invalid height for read pixels"),n();var h=d*m*4;return p||(s===Kr?p=new Uint8Array(h):s===Zr&&(p=p||new Float32Array(h))),F.isTypedArray(p,"data buffer for regl.read() must be a typedarray"),F(p.byteLength>=h,"data buffer for regl.read() too small"),t.pixelStorei(Jr,4),t.readPixels(c,l,d,m,$r,s,p),p}return function(e){return e&&"framebuffer"in e?function(e){var t;return r.setFBO({framebuffer:e.framebuffer},function(){t=u(e)}),t}(e):u(e)}}function tn(e){return Array.prototype.slice.call(e)}function rn(e){return tn(e).join("")}var nn="xyzw".split(""),an=5121,on=1,fn=2,un=0,sn=1,cn=2,ln=3,dn=4,mn=5,pn=6,hn="dither",bn="blend.enable",vn="blend.color",gn="blend.equation",yn="blend.func",xn="depth.enable",wn="depth.func",An="depth.range",_n="depth.mask",kn="colorMask",Sn="cull.enable",En="cull.face",On="frontFace",Tn="lineWidth",Dn="polygonOffset.enable",jn="polygonOffset.offset",Cn="sample.alpha",zn="sample.enable",Fn="sample.coverage",Bn="stencil.enable",Vn="stencil.mask",In="stencil.func",Pn="stencil.opFront",Ln="stencil.opBack",Rn="scissor.enable",Mn="scissor.box",Wn="viewport",Un="profile",Gn="framebuffer",Hn="vert",Nn="frag",qn="elements",Qn="primitive",Yn="count",Xn="offset",$n="instances",Kn="vao",Jn=Gn+"Width",Zn=Gn+"Height",ea=Wn+"Width",ta=Wn+"Height",ra="drawingBufferWidth",na="drawingBufferHeight",aa=[yn,gn,In,Pn,Ln,Fn,Wn,Mn,jn],ia=34962,oa=34963,fa=3553,ua=34067,sa=2884,ca=3042,la=3024,da=2960,ma=2929,pa=3089,ha=32823,ba=32926,va=32928,ga=5126,ya=35664,xa=35665,wa=35666,Aa=5124,_a=35667,ka=35668,Sa=35669,Ea=35670,Oa=35671,Ta=35672,Da=35673,ja=35674,Ca=35675,za=35676,Fa=35678,Ba=35680,Va=4,Ia=1028,Pa=1029,La=2304,Ra=2305,Ma=32775,Wa=32776,Ua=519,Ga=7680,Ha=0,Na=1,qa=32774,Qa=513,Ya=36160,Xa=36064,$a={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Ka=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Ja={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Za={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},ei={frag:35632,vert:35633},ti={cw:La,ccw:Ra};function ri(t){return Array.isArray(t)||e(t)||ie(t)}function ni(e){return e.sort(function(e,t){return e===Wn?-1:t===Wn?1:e<t?-1:1})}function ai(e,t,r,n){this.thisDep=e,this.contextDep=t,this.propDep=r,this.append=n}function ii(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function oi(e){return new ai(!1,!1,!1,e)}function fi(e,t){var r=e.type;if(r===un){var n=e.data.length;return new ai(!0,n>=1,n>=2,t)}if(r===dn){var a=e.data;return new ai(a.thisDep,a.contextDep,a.propDep,t)}if(r===mn)return new ai(!1,!1,!1,t);if(r===pn){for(var i=!1,o=!1,f=!1,u=0;u<e.data.length;++u){var s=e.data[u];if(s.type===sn)f=!0;else if(s.type===cn)o=!0;else if(s.type===ln)i=!0;else if(s.type===un){i=!0;var c=s.data;c>=1&&(o=!0),c>=2&&(f=!0)}else s.type===dn&&(i=i||s.data.thisDep,o=o||s.data.contextDep,f=f||s.data.propDep)}return new ai(i,o,f,t)}return new ai(r===ln,r===cn,r===sn,t)}var ui=new ai(!1,!1,!1,function(){});function si(e,r,n,a,i,o,f,u,s,c,l,d,m,p,h){var b=c.Record,v={add:32774,subtract:32778,"reverse subtract":32779};n.ext_blend_minmax&&(v.min=Ma,v.max=Wa);var g=n.angle_instanced_arrays,y=n.webgl_draw_buffers,x=n.oes_vertex_array_object,w={dirty:!0,profile:h.profile},A={},_=[],k={},S={};function E(e){return e.replace(".","_")}function O(e,t,r){var n=E(e);_.push(e),A[n]=w[n]=!!r,k[n]=t}function T(e,t,r){var n=E(e);_.push(e),Array.isArray(r)?(w[n]=r.slice(),A[n]=r.slice()):w[n]=A[n]=r,S[n]=t}O(hn,la),O(bn,ca),T(vn,"blendColor",[0,0,0,0]),T(gn,"blendEquationSeparate",[qa,qa]),T(yn,"blendFuncSeparate",[Na,Ha,Na,Ha]),O(xn,ma,!0),T(wn,"depthFunc",Qa),T(An,"depthRange",[0,1]),T(_n,"depthMask",!0),T(kn,kn,[!0,!0,!0,!0]),O(Sn,sa),T(En,"cullFace",Pa),T(On,On,Ra),T(Tn,Tn,1),O(Dn,ha),T(jn,"polygonOffset",[0,0]),O(Cn,ba),O(zn,va),T(Fn,"sampleCoverage",[1,!1]),O(Bn,da),T(Vn,"stencilMask",-1),T(In,"stencilFunc",[Ua,0,-1]),T(Pn,"stencilOpSeparate",[Ia,Ga,Ga,Ga]),T(Ln,"stencilOpSeparate",[Pa,Ga,Ga,Ga]),O(Rn,pa),T(Mn,"scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),T(Wn,Wn,[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var D={gl:e,context:m,strings:r,next:A,current:w,draw:d,elements:o,buffer:i,shader:l,attributes:c.state,vao:c,uniforms:s,framebuffer:u,extensions:n,timer:p,isBufferArgs:ri},j={primTypes:Ae,compareFuncs:Ja,blendFuncs:$a,blendEquations:v,stencilOps:Za,glTypes:ce,orientationType:ti};F.optional(function(){D.isArrayLike=Re}),y&&(j.backBuffer=[Pa],j.drawBuffer=Q(a.maxDrawbuffers,function(e){return 0===e?[0]:Q(e,function(e){return Xa+e})}));var C=0;function z(){var e=function(){var e=0,r=[],n=[];function a(){var r=[],n=[];return t(function(){r.push.apply(r,tn(arguments))},{def:function(){var t="v"+e++;return n.push(t),arguments.length>0&&(r.push(t,"="),r.push.apply(r,tn(arguments)),r.push(";")),t},toString:function(){return rn([n.length>0?"var "+n.join(",")+";":"",rn(r)])}})}function i(){var e=a(),r=a(),n=e.toString,i=r.toString;function o(t,n){r(t,n,"=",e.def(t,n),";")}return t(function(){e.apply(e,tn(arguments))},{def:e.def,entry:e,exit:r,save:o,set:function(t,r,n){o(t,r),e(t,r,"=",n,";")},toString:function(){return n()+i()}})}var o=a(),f={};return{global:o,link:function(t){for(var a=0;a<n.length;++a)if(n[a]===t)return r[a];var i="g"+e++;return r.push(i),n.push(t),i},block:a,proc:function(e,r){var n=[];function a(){var e="a"+n.length;return n.push(e),e}r=r||0;for(var o=0;o<r;++o)a();var u=i(),s=u.toString;return f[e]=t(u,{arg:a,toString:function(){return rn(["function(",n.join(),"){",s(),"}"])}})},scope:i,cond:function(){var e=rn(arguments),r=i(),n=i(),a=r.toString,o=n.toString;return t(r,{then:function(){return r.apply(r,tn(arguments)),this},else:function(){return n.apply(n,tn(arguments)),this},toString:function(){var t=o();return t&&(t="else{"+t+"}"),rn(["if(",e,"){",a(),"}",t])}})},compile:function(){var e=['"use strict";',o,"return {"];Object.keys(f).forEach(function(t){e.push('"',t,'":',f[t].toString(),",")}),e.push("}");var t=rn(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,r.concat(t)).apply(null,n)}}}(),n=e.link,a=e.global;e.id=C++,e.batchId="0";var i=n(D),o=e.shared={props:"a0"};Object.keys(D).forEach(function(e){o[e]=a.def(i,".",e)}),F.optional(function(){e.CHECK=n(F),e.commandStr=F.guessCommand(),e.command=n(e.commandStr),e.assert=function(e,t,r){e("if(!(",t,"))",this.CHECK,".commandRaise(",n(r),",",this.command,");")},j.invalidBlendCombinations=Ka});var f=e.next={},u=e.current={};Object.keys(S).forEach(function(e){Array.isArray(w[e])&&(f[e]=a.def(o.next,".",e),u[e]=a.def(o.current,".",e))});var s=e.constants={};Object.keys(j).forEach(function(e){s[e]=a.def(JSON.stringify(j[e]))}),e.invoke=function(t,r){switch(r.type){case un:var a=["this",o.context,o.props,e.batchId];return t.def(n(r.data),".call(",a.slice(0,Math.max(r.data.length+1,4)),")");case sn:return t.def(o.props,r.data);case cn:return t.def(o.context,r.data);case ln:return t.def("this",r.data);case dn:return r.data.append(e,t),r.data.ref;case mn:return r.data.toString();case pn:return r.data.map(function(r){return e.invoke(t,r)})}},e.attribCache={};var l={};return e.scopeAttrib=function(e){var t=r.id(e);if(t in l)return l[t];var a=c.scope[t];return a||(a=c.scope[t]=new b),l[t]=n(a)},e}function B(e,t,f,s,d){var m=e.static,p=e.dynamic;F.optional(function(){var e=[Gn,Hn,Nn,qn,Qn,Xn,Yn,$n,Un,Kn].concat(_);function t(t){Object.keys(t).forEach(function(t){F.command(e.indexOf(t)>=0,'unknown parameter "'+t+'"',d.commandStr)})}t(m),t(p)});var h=function(e,t){var r=e.static;if("string"==typeof r[Nn]&&"string"==typeof r[Hn]){if(Object.keys(t.dynamic).length>0)return null;var n=t.static,a=Object.keys(n);if(a.length>0&&"number"==typeof n[a[0]]){for(var i=[],o=0;o<a.length;++o)F("number"==typeof n[a[o]],"must specify all vertex attribute locations when using vaos"),i.push([0|n[a[o]],a[o]]);return i}}return null}(e,t),y=function(e,t){var r=e.static,n=e.dynamic;if(Gn in r){var a=r[Gn];return a?(a=u.getFramebuffer(a),F.command(a,"invalid framebuffer object"),oi(function(e,t){var r=e.link(a),n=e.shared;t.set(n.framebuffer,".next",r);var i=n.context;return t.set(i,"."+Jn,r+".width"),t.set(i,"."+Zn,r+".height"),r})):oi(function(e,t){var r=e.shared;t.set(r.framebuffer,".next","null");var n=r.context;return t.set(n,"."+Jn,n+"."+ra),t.set(n,"."+Zn,n+"."+na),"null"})}if(Gn in n){var i=n[Gn];return fi(i,function(e,t){var r=e.invoke(t,i),n=e.shared,a=n.framebuffer,o=t.def(a,".getFramebuffer(",r,")");F.optional(function(){e.assert(t,"!"+r+"||"+o,"invalid framebuffer object")}),t.set(a,".next",o);var f=n.context;return t.set(f,"."+Jn,o+"?"+o+".width:"+f+"."+ra),t.set(f,"."+Zn,o+"?"+o+".height:"+f+"."+na),o})}return null}(e),x=function(e,t,r){var n=e.static,a=e.dynamic;function i(e){if(e in n){var i=n[e];F.commandType(i,"object","invalid "+e,r.commandStr);var o,f,u=!0,s=0|i.x,c=0|i.y;return"width"in i?(o=0|i.width,F.command(o>=0,"invalid "+e,r.commandStr)):u=!1,"height"in i?(f=0|i.height,F.command(f>=0,"invalid "+e,r.commandStr)):u=!1,new ai(!u&&t&&t.thisDep,!u&&t&&t.contextDep,!u&&t&&t.propDep,function(e,t){var r=e.shared.context,n=o;"width"in i||(n=t.def(r,".",Jn,"-",s));var a=f;return"height"in i||(a=t.def(r,".",Zn,"-",c)),[s,c,n,a]})}if(e in a){var l=a[e],d=fi(l,function(t,r){var n=t.invoke(r,l);F.optional(function(){t.assert(r,n+"&&typeof "+n+'==="object"',"invalid "+e)});var a=t.shared.context,i=r.def(n,".x|0"),o=r.def(n,".y|0"),f=r.def('"width" in ',n,"?",n,".width|0:","(",a,".",Jn,"-",i,")"),u=r.def('"height" in ',n,"?",n,".height|0:","(",a,".",Zn,"-",o,")");return F.optional(function(){t.assert(r,f+">=0&&"+u+">=0","invalid "+e)}),[i,o,f,u]});return t&&(d.thisDep=d.thisDep||t.thisDep,d.contextDep=d.contextDep||t.contextDep,d.propDep=d.propDep||t.propDep),d}return t?new ai(t.thisDep,t.contextDep,t.propDep,function(e,t){var r=e.shared.context;return[0,0,t.def(r,".",Jn),t.def(r,".",Zn)]}):null}var o=i(Wn);if(o){var f=o;o=new ai(o.thisDep,o.contextDep,o.propDep,function(e,t){var r=f.append(e,t),n=e.shared.context;return t.set(n,"."+ea,r[2]),t.set(n,"."+ta,r[3]),r})}return{viewport:o,scissor_box:i(Mn)}}(e,y,d),w=function(e,t){var r=e.static,n=e.dynamic,a={},i=!1,f=!1,u=function(){if(Kn in r){F(!r.elements&&!n.elements,"cannot specify elements with vao");var e=r[Kn];return null!==e&&null===c.getVAO(e)&&(e=c.createVAO(e)),i=!0,f=!!e,a.vao=e,oi(function(t){var r=c.getVAO(e);return r?t.link(r):"null"})}if(Kn in n){F(!r.elements&&!n.elements,"cannot specify elements with vao"),i=!0,f=!0;var t=n[Kn];return fi(t,function(e,r){var n=e.invoke(r,t);return r.def(e.shared.vao+".getVAO("+n+")")})}return null}(),s=!1,l=function(){if(qn in r){F(!f,"must not specify vao and elements");var e=r[qn];if(a.elements=e,ri(e)){var c=a.elements=o.create(e,!0);e=o.getElements(c),s=!0}else e&&(e=o.getElements(e),s=!0,F.command(e,"invalid elements",t.commandStr));var l=oi(function(t,r){if(e){var n=t.link(e);return t.ELEMENTS=n,n}return t.ELEMENTS=null,null});return l.value=e,l}if(qn in n){F(!f,"must not specify vao and elements"),s=!0;var d=n[qn];return fi(d,function(e,t){var r=e.shared,n=r.isBufferArgs,a=r.elements,i=e.invoke(t,d),o=t.def("null"),f=t.def(n,"(",i,")"),u=e.cond(f).then(o,"=",a,".createStream(",i,");").else(o,"=",a,".getElements(",i,");");return F.optional(function(){e.assert(u.else,"!"+i+"||"+o,"invalid elements")}),t.entry(u),t.exit(e.cond(f).then(a,".destroyStream(",o,");")),e.ELEMENTS=o,o})}return i?new ai(u.thisDep,u.contextDep,u.propDep,function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.elements+".getElements("+e.shared.vao+".currentVAO.elements):null")}):null}();function d(e,o){if(e in r){var f=0|r[e];return o?a.offset=f:a.instances=f,F.command(!o||f>=0,"invalid "+e,t.commandStr),oi(function(e,t){return o&&(e.OFFSET=f),f})}if(e in n){var c=n[e];return fi(c,function(t,r){var n=t.invoke(r,c);return o&&(t.OFFSET=n,F.optional(function(){t.assert(r,n+">=0","invalid "+e)})),n})}if(o){if(s)return oi(function(e,t){return e.OFFSET=0,0});if(i)return new ai(u.thisDep,u.contextDep,u.propDep,function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.offset:0")})}else if(i)return new ai(u.thisDep,u.contextDep,u.propDep,function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.instances:-1")});return null}s&&(u=oi(function(){return"null"}));var m=d(Xn,!0),p=function(){if(Qn in r){var e=r[Qn];return a.primitive=e,F.commandParameter(e,Ae,"invalid primitve",t.commandStr),oi(function(t,r){return Ae[e]})}if(Qn in n){var o=n[Qn];return fi(o,function(e,t){var r=e.constants.primTypes,n=e.invoke(t,o);return F.optional(function(){e.assert(t,n+" in "+r,"invalid primitive, must be one of "+Object.keys(Ae))}),t.def(r,"[",n,"]")})}return s?ii(l)?l.value?oi(function(e,t){return t.def(e.ELEMENTS,".primType")}):oi(function(){return Va}):new ai(l.thisDep,l.contextDep,l.propDep,function(e,t){var r=e.ELEMENTS;return t.def(r,"?",r,".primType:",Va)}):i?new ai(u.thisDep,u.contextDep,u.propDep,function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.primitive:"+Va)}):null}(),h=function(){if(Yn in r){var e=0|r[Yn];return a.count=e,F.command("number"==typeof e&&e>=0,"invalid vertex count",t.commandStr),oi(function(){return e})}if(Yn in n){var o=n[Yn];return fi(o,function(e,t){var r=e.invoke(t,o);return F.optional(function(){e.assert(t,"typeof "+r+'==="number"&&'+r+">=0&&"+r+"===("+r+"|0)","invalid vertex count")}),r})}if(s){if(ii(l)){if(l)return m?new ai(m.thisDep,m.contextDep,m.propDep,function(e,t){var r=t.def(e.ELEMENTS,".vertCount-",e.OFFSET);return F.optional(function(){e.assert(t,r+">=0","invalid vertex offset/element buffer too small")}),r}):oi(function(e,t){return t.def(e.ELEMENTS,".vertCount")});var f=oi(function(){return-1});return F.optional(function(){f.MISSING=!0}),f}var c=new ai(l.thisDep||m.thisDep,l.contextDep||m.contextDep,l.propDep||m.propDep,function(e,t){var r=e.ELEMENTS;return e.OFFSET?t.def(r,"?",r,".vertCount-",e.OFFSET,":-1"):t.def(r,"?",r,".vertCount:-1")});return F.optional(function(){c.DYNAMIC=!0}),c}return i?new ai(u.thisDep,u.contextDep,u.propDep,function(e,t){return t.def(e.shared.vao,".currentVAO?",e.shared.vao,".currentVAO.count:-1")}):null}(),b=d($n,!1);return{elements:l,primitive:p,count:h,instances:b,offset:m,vao:u,vaoActive:i,elementsActive:s,static:a}}(e,d),A=function(e,t){var r=e.static,n=e.dynamic,i={};return _.forEach(function(e){var o=E(e);function f(t,a){if(e in r){var f=t(r[e]);i[o]=oi(function(){return f})}else if(e in n){var u=n[e];i[o]=fi(u,function(e,t){return a(e,t,e.invoke(t,u))})}}switch(e){case Sn:case bn:case hn:case Bn:case xn:case Rn:case Dn:case Cn:case zn:case _n:return f(function(r){return F.commandType(r,"boolean",e,t.commandStr),r},function(t,r,n){return F.optional(function(){t.assert(r,"typeof "+n+'==="boolean"',"invalid flag "+e,t.commandStr)}),n});case wn:return f(function(r){return F.commandParameter(r,Ja,"invalid "+e,t.commandStr),Ja[r]},function(t,r,n){var a=t.constants.compareFuncs;return F.optional(function(){t.assert(r,n+" in "+a,"invalid "+e+", must be one of "+Object.keys(Ja))}),r.def(a,"[",n,"]")});case An:return f(function(e){return F.command(Re(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]&&e[0]<=e[1],"depth range is 2d array",t.commandStr),e},function(e,t,r){return F.optional(function(){e.assert(t,e.shared.isArrayLike+"("+r+")&&"+r+".length===2&&typeof "+r+'[0]==="number"&&typeof '+r+'[1]==="number"&&'+r+"[0]<="+r+"[1]","depth range must be a 2d array")}),[t.def("+",r,"[0]"),t.def("+",r,"[1]")]});case yn:return f(function(e){F.commandType(e,"object","blend.func",t.commandStr);var r="srcRGB"in e?e.srcRGB:e.src,n="srcAlpha"in e?e.srcAlpha:e.src,a="dstRGB"in e?e.dstRGB:e.dst,i="dstAlpha"in e?e.dstAlpha:e.dst;return F.commandParameter(r,$a,o+".srcRGB",t.commandStr),F.commandParameter(n,$a,o+".srcAlpha",t.commandStr),F.commandParameter(a,$a,o+".dstRGB",t.commandStr),F.commandParameter(i,$a,o+".dstAlpha",t.commandStr),F.command(-1===Ka.indexOf(r+", "+a),"unallowed blending combination (srcRGB, dstRGB) = ("+r+", "+a+")",t.commandStr),[$a[r],$a[a],$a[n],$a[i]]},function(t,r,n){var a=t.constants.blendFuncs;function i(i,o){var f=r.def('"',i,o,'" in ',n,"?",n,".",i,o,":",n,".",i);return F.optional(function(){t.assert(r,f+" in "+a,"invalid "+e+"."+i+o+", must be one of "+Object.keys($a))}),f}F.optional(function(){t.assert(r,n+"&&typeof "+n+'==="object"',"invalid blend func, must be an object")});var o=i("src","RGB"),f=i("dst","RGB");F.optional(function(){var e=t.constants.invalidBlendCombinations;t.assert(r,e+".indexOf("+o+'+", "+'+f+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var u=r.def(a,"[",o,"]"),s=r.def(a,"[",i("src","Alpha"),"]");return[u,r.def(a,"[",f,"]"),s,r.def(a,"[",i("dst","Alpha"),"]")]});case gn:return f(function(r){return"string"==typeof r?(F.commandParameter(r,v,"invalid "+e,t.commandStr),[v[r],v[r]]):"object"==typeof r?(F.commandParameter(r.rgb,v,e+".rgb",t.commandStr),F.commandParameter(r.alpha,v,e+".alpha",t.commandStr),[v[r.rgb],v[r.alpha]]):void F.commandRaise("invalid blend.equation",t.commandStr)},function(t,r,n){var a=t.constants.blendEquations,i=r.def(),o=r.def(),f=t.cond("typeof ",n,'==="string"');return F.optional(function(){function r(e,r,n){t.assert(e,n+" in "+a,"invalid "+r+", must be one of "+Object.keys(v))}r(f.then,e,n),t.assert(f.else,n+"&&typeof "+n+'==="object"',"invalid "+e),r(f.else,e+".rgb",n+".rgb"),r(f.else,e+".alpha",n+".alpha")}),f.then(i,"=",o,"=",a,"[",n,"];"),f.else(i,"=",a,"[",n,".rgb];",o,"=",a,"[",n,".alpha];"),r(f),[i,o]});case vn:return f(function(e){return F.command(Re(e)&&4===e.length,"blend.color must be a 4d array",t.commandStr),Q(4,function(t){return+e[t]})},function(e,t,r){return F.optional(function(){e.assert(t,e.shared.isArrayLike+"("+r+")&&"+r+".length===4","blend.color must be a 4d array")}),Q(4,function(e){return t.def("+",r,"[",e,"]")})});case Vn:return f(function(e){return F.commandType(e,"number",o,t.commandStr),0|e},function(e,t,r){return F.optional(function(){e.assert(t,"typeof "+r+'==="number"',"invalid stencil.mask")}),t.def(r,"|0")});case In:return f(function(r){F.commandType(r,"object",o,t.commandStr);var n=r.cmp||"keep",a=r.ref||0,i="mask"in r?r.mask:-1;return F.commandParameter(n,Ja,e+".cmp",t.commandStr),F.commandType(a,"number",e+".ref",t.commandStr),F.commandType(i,"number",e+".mask",t.commandStr),[Ja[n],a,i]},function(e,t,r){var n=e.constants.compareFuncs;return F.optional(function(){function a(){e.assert(t,Array.prototype.join.call(arguments,""),"invalid stencil.func")}a(r+"&&typeof ",r,'==="object"'),a('!("cmp" in ',r,")||(",r,".cmp in ",n,")")}),[t.def('"cmp" in ',r,"?",n,"[",r,".cmp]",":",Ga),t.def(r,".ref|0"),t.def('"mask" in ',r,"?",r,".mask|0:-1")]});case Pn:case Ln:return f(function(r){F.commandType(r,"object",o,t.commandStr);var n=r.fail||"keep",a=r.zfail||"keep",i=r.zpass||"keep";return F.commandParameter(n,Za,e+".fail",t.commandStr),F.commandParameter(a,Za,e+".zfail",t.commandStr),F.commandParameter(i,Za,e+".zpass",t.commandStr),[e===Ln?Pa:Ia,Za[n],Za[a],Za[i]]},function(t,r,n){var a=t.constants.stencilOps;function i(i){return F.optional(function(){t.assert(r,'!("'+i+'" in '+n+")||("+n+"."+i+" in "+a+")","invalid "+e+"."+i+", must be one of "+Object.keys(Za))}),r.def('"',i,'" in ',n,"?",a,"[",n,".",i,"]:",Ga)}return F.optional(function(){t.assert(r,n+"&&typeof "+n+'==="object"',"invalid "+e)}),[e===Ln?Pa:Ia,i("fail"),i("zfail"),i("zpass")]});case jn:return f(function(e){F.commandType(e,"object",o,t.commandStr);var r=0|e.factor,n=0|e.units;return F.commandType(r,"number",o+".factor",t.commandStr),F.commandType(n,"number",o+".units",t.commandStr),[r,n]},function(t,r,n){return F.optional(function(){t.assert(r,n+"&&typeof "+n+'==="object"',"invalid "+e)}),[r.def(n,".factor|0"),r.def(n,".units|0")]});case En:return f(function(e){var r=0;return"front"===e?r=Ia:"back"===e&&(r=Pa),F.command(!!r,o,t.commandStr),r},function(e,t,r){return F.optional(function(){e.assert(t,r+'==="front"||'+r+'==="back"',"invalid cull.face")}),t.def(r,'==="front"?',Ia,":",Pa)});case Tn:return f(function(e){return F.command("number"==typeof e&&e>=a.lineWidthDims[0]&&e<=a.lineWidthDims[1],"invalid line width, must be a positive number between "+a.lineWidthDims[0]+" and "+a.lineWidthDims[1],t.commandStr),e},function(e,t,r){return F.optional(function(){e.assert(t,"typeof "+r+'==="number"&&'+r+">="+a.lineWidthDims[0]+"&&"+r+"<="+a.lineWidthDims[1],"invalid line width")}),r});case On:return f(function(e){return F.commandParameter(e,ti,o,t.commandStr),ti[e]},function(e,t,r){return F.optional(function(){e.assert(t,r+'==="cw"||'+r+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),t.def(r+'==="cw"?'+La+":"+Ra)});case kn:return f(function(e){return F.command(Re(e)&&4===e.length,"color.mask must be length 4 array",t.commandStr),e.map(function(e){return!!e})},function(e,t,r){return F.optional(function(){e.assert(t,e.shared.isArrayLike+"("+r+")&&"+r+".length===4","invalid color.mask")}),Q(4,function(e){return"!!"+r+"["+e+"]"})});case Fn:return f(function(e){F.command("object"==typeof e&&e,o,t.commandStr);var r="value"in e?e.value:1,n=!!e.invert;return F.command("number"==typeof r&&r>=0&&r<=1,"sample.coverage.value must be a number between 0 and 1",t.commandStr),[r,n]},function(e,t,r){return F.optional(function(){e.assert(t,r+"&&typeof "+r+'==="object"',"invalid sample.coverage")}),[t.def('"value" in ',r,"?+",r,".value:1"),t.def("!!",r,".invert")]})}}),i}(e,d),k=function(e,t,n){var a=e.static,i=e.dynamic;function o(e){if(e in a){var t=r.id(a[e]);F.optional(function(){l.shader(ei[e],t,F.guessCommand())});var n=oi(function(){return t});return n.id=t,n}if(e in i){var o=i[e];return fi(o,function(t,r){var n=t.invoke(r,o),a=r.def(t.shared.strings,".id(",n,")");return F.optional(function(){r(t.shared.shader,".shader(",ei[e],",",a,",",t.command,");")}),a})}return null}var f,u=o(Nn),s=o(Hn),c=null;return ii(u)&&ii(s)?(c=l.program(s.id,u.id,null,n),f=oi(function(e,t){return e.link(c)})):f=new ai(u&&u.thisDep||s&&s.thisDep,u&&u.contextDep||s&&s.contextDep,u&&u.propDep||s&&s.propDep,function(e,t){var r,n=e.shared.shader;r=u?u.append(e,t):t.def(n,".",Nn);var a=n+".program("+(s?s.append(e,t):t.def(n,".",Hn))+","+r;return F.optional(function(){a+=","+e.command}),t.def(a+")")}),{frag:u,vert:s,progVar:f,program:c}}(e,0,h);function S(e){var t=x[e];t&&(A[e]=t)}S(Wn),S(E(Mn));var O=Object.keys(A).length>0,T={framebuffer:y,draw:w,shader:k,state:A,dirty:O,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(T.profile=function(e){var t,r=e.static,n=e.dynamic;if(Un in r){var a=!!r[Un];(t=oi(function(e,t){return a})).enable=a}else if(Un in n){var i=n[Un];t=fi(i,function(e,t){return e.invoke(t,i)})}return t}(e),T.uniforms=function(e,t){var r=e.static,n=e.dynamic,a={};return Object.keys(r).forEach(function(e){var n,i=r[e];if("number"==typeof i||"boolean"==typeof i)n=oi(function(){return i});else if("function"==typeof i){var o=i._reglType;"texture2d"===o||"textureCube"===o?n=oi(function(e){return e.link(i)}):"framebuffer"===o||"framebufferCube"===o?(F.command(i.color.length>0,'missing color attachment for framebuffer sent to uniform "'+e+'"',t.commandStr),n=oi(function(e){return e.link(i.color[0])})):F.commandRaise('invalid data for uniform "'+e+'"',t.commandStr)}else Re(i)?n=oi(function(t){return t.global.def("[",Q(i.length,function(r){return F.command("number"==typeof i[r]||"boolean"==typeof i[r],"invalid uniform "+e,t.commandStr),i[r]}),"]")}):F.commandRaise('invalid or missing data for uniform "'+e+'"',t.commandStr);n.value=i,a[e]=n}),Object.keys(n).forEach(function(e){var t=n[e];a[e]=fi(t,function(e,r){return e.invoke(r,t)})}),a}(f,d),T.drawVAO=T.scopeVAO=w.vao,!T.drawVAO&&k.program&&!h&&n.angle_instanced_arrays&&w.static.elements){var D=!0,j=k.program.attributes.map(function(e){var r=t.static[e];return D=D&&!!r,r});if(D&&j.length>0){var C=c.getVAO(c.createVAO({attributes:j,elements:w.static.elements}));T.drawVAO=new ai(null,null,null,function(e,t){return e.link(C)}),T.useVAO=!0}}return h?(F(!w.elementsActive,"can not combine elements and vertex array objects. element binding state must be specified in vertex array object"),T.useVAO=!0):T.attributes=function(e,t){var n=e.static,a=e.dynamic,o={};return Object.keys(n).forEach(function(e){var a=n[e],f=r.id(e),u=new b;if(ri(a))u.state=on,u.buffer=i.getBuffer(i.create(a,ia,!1,!0)),u.type=0;else{var s=i.getBuffer(a);if(s)u.state=on,u.buffer=s,u.type=0;else if(F.command("object"==typeof a&&a,"invalid data for attribute "+e,t.commandStr),"constant"in a){var c=a.constant;u.buffer="null",u.state=fn,"number"==typeof c?u.x=c:(F.command(Re(c)&&c.length>0&&c.length<=4,"invalid constant for attribute "+e,t.commandStr),nn.forEach(function(e,t){t<c.length&&(u[e]=c[t])}))}else{s=ri(a.buffer)?i.getBuffer(i.create(a.buffer,ia,!1,!0)):i.getBuffer(a.buffer),F.command(!!s,'missing buffer for attribute "'+e+'"',t.commandStr);var l=0|a.offset;F.command(l>=0,'invalid offset for attribute "'+e+'"',t.commandStr);var d=0|a.stride;F.command(d>=0&&d<256,'invalid stride for attribute "'+e+'", must be integer betweeen [0, 255]',t.commandStr);var m=0|a.size;F.command(!("size"in a)||m>0&&m<=4,'invalid size for attribute "'+e+'", must be 1,2,3,4',t.commandStr);var p=!!a.normalized,h=0;"type"in a&&(F.commandParameter(a.type,ce,"invalid type for attribute "+e,t.commandStr),h=ce[a.type]);var v=0|a.divisor;F.optional(function(){"divisor"in a&&(F.command(0===v||g,'cannot specify divisor for attribute "'+e+'", instancing not supported',t.commandStr),F.command(v>=0,'invalid divisor for attribute "'+e+'"',t.commandStr));var r=t.commandStr,n=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(a).forEach(function(t){F.command(n.indexOf(t)>=0,'unknown parameter "'+t+'" for attribute pointer "'+e+'" (valid parameters are '+n+")",r)})}),u.buffer=s,u.state=on,u.size=m,u.normalized=p,u.type=h||s.dtype,u.offset=l,u.stride=d,u.divisor=v}}o[e]=oi(function(e,t){var r=e.attribCache;if(f in r)return r[f];var n={isStream:!1};return Object.keys(u).forEach(function(e){n[e]=u[e]}),u.buffer&&(n.buffer=e.link(u.buffer),n.type=n.type||n.buffer+".dtype"),r[f]=n,n})}),Object.keys(a).forEach(function(e){var t=a[e];o[e]=fi(t,function(r,n){var a=r.invoke(n,t),i=r.shared,o=r.constants,f=i.isBufferArgs,u=i.buffer;F.optional(function(){r.assert(n,a+"&&(typeof "+a+'==="object"||typeof '+a+'==="function")&&('+f+"("+a+")||"+u+".getBuffer("+a+")||"+u+".getBuffer("+a+".buffer)||"+f+"("+a+'.buffer)||("constant" in '+a+"&&(typeof "+a+'.constant==="number"||'+i.isArrayLike+"("+a+".constant))))",'invalid dynamic attribute "'+e+'"')});var s={isStream:n.def(!1)},c=new b;c.state=on,Object.keys(c).forEach(function(e){s[e]=n.def(""+c[e])});var l=s.buffer,d=s.type;function m(e){n(s[e],"=",a,".",e,"|0;")}return n("if(",f,"(",a,")){",s.isStream,"=true;",l,"=",u,".createStream(",ia,",",a,");",d,"=",l,".dtype;","}else{",l,"=",u,".getBuffer(",a,");","if(",l,"){",d,"=",l,".dtype;",'}else if("constant" in ',a,"){",s.state,"=",fn,";","if(typeof "+a+'.constant === "number"){',s[nn[0]],"=",a,".constant;",nn.slice(1).map(function(e){return s[e]}).join("="),"=0;","}else{",nn.map(function(e,t){return s[e]+"="+a+".constant.length>"+t+"?"+a+".constant["+t+"]:0;"}).join(""),"}}else{","if(",f,"(",a,".buffer)){",l,"=",u,".createStream(",ia,",",a,".buffer);","}else{",l,"=",u,".getBuffer(",a,".buffer);","}",d,'="type" in ',a,"?",o.glTypes,"[",a,".type]:",l,".dtype;",s.normalized,"=!!",a,".normalized;"),m("size"),m("offset"),m("stride"),m("divisor"),n("}}"),n.exit("if(",s.isStream,"){",u,".destroyStream(",l,");","}"),s})}),o}(t,d),T.context=function(e){var t=e.static,r=e.dynamic,n={};return Object.keys(t).forEach(function(e){var r=t[e];n[e]=oi(function(e,t){return"number"==typeof r||"boolean"==typeof r?""+r:e.link(r)})}),Object.keys(r).forEach(function(e){var t=r[e];n[e]=fi(t,function(e,r){return e.invoke(r,t)})}),n}(s),T}function V(e,t,r){var n=e.shared.context,a=e.scope();Object.keys(r).forEach(function(i){t.save(n,"."+i);var o=r[i].append(e,t);Array.isArray(o)?a(n,".",i,"=[",o.join(),"];"):a(n,".",i,"=",o,";")}),t(a)}function I(e,t,r,n){var a,i=e.shared,o=i.gl,f=i.framebuffer;y&&(a=t.def(i.extensions,".webgl_draw_buffers"));var u,s=e.constants,c=s.drawBuffer,l=s.backBuffer;u=r?r.append(e,t):t.def(f,".next"),n||t("if(",u,"!==",f,".cur){"),t("if(",u,"){",o,".bindFramebuffer(",Ya,",",u,".framebuffer);"),y&&t(a,".drawBuffersWEBGL(",c,"[",u,".colorAttachments.length]);"),t("}else{",o,".bindFramebuffer(",Ya,",null);"),y&&t(a,".drawBuffersWEBGL(",l,");"),t("}",f,".cur=",u,";"),n||t("}")}function P(e,t,r){var n=e.shared,a=n.gl,i=e.current,o=e.next,f=n.current,u=n.next,s=e.cond(f,".dirty");_.forEach(function(t){var n,c,l=E(t);if(!(l in r.state))if(l in o){n=o[l],c=i[l];var d=Q(w[l].length,function(e){return s.def(n,"[",e,"]")});s(e.cond(d.map(function(e,t){return e+"!=="+c+"["+t+"]"}).join("||")).then(a,".",S[l],"(",d,");",d.map(function(e,t){return c+"["+t+"]="+e}).join(";"),";"))}else{n=s.def(u,".",l);var m=e.cond(n,"!==",f,".",l);s(m),l in k?m(e.cond(n).then(a,".enable(",k[l],");").else(a,".disable(",k[l],");"),f,".",l,"=",n,";"):m(a,".",S[l],"(",n,");",f,".",l,"=",n,";")}}),0===Object.keys(r.state).length&&s(f,".dirty=false;"),t(s)}function L(e,t,r,n){var a=e.shared,i=e.current,o=a.current,f=a.gl;ni(Object.keys(r)).forEach(function(a){var u=r[a];if(!n||n(u)){var s=u.append(e,t);if(k[a]){var c=k[a];ii(u)?t(f,s?".enable(":".disable(",c,");"):t(e.cond(s).then(f,".enable(",c,");").else(f,".disable(",c,");")),t(o,".",a,"=",s,";")}else if(Re(s)){var l=i[a];t(f,".",S[a],"(",s,");",s.map(function(e,t){return l+"["+t+"]="+e}).join(";"),";")}else t(f,".",S[a],"(",s,");",o,".",a,"=",s,";")}})}function R(e,t){g&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function M(e,t,r,n,a){var i,o,f,u=e.shared,s=e.stats,c=u.current,l=u.timer,d=r.profile;function m(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function h(e){e(i=t.def(),"=",m(),";"),"string"==typeof a?e(s,".count+=",a,";"):e(s,".count++;"),p&&(n?e(o=t.def(),"=",l,".getNumPendingQueries();"):e(l,".beginQuery(",s,");"))}function b(e){e(s,".cpuTime+=",m(),"-",i,";"),p&&(n?e(l,".pushScopeStats(",o,",",l,".getNumPendingQueries(),",s,");"):e(l,".endQuery();"))}function v(e){var r=t.def(c,".profile");t(c,".profile=",e,";"),t.exit(c,".profile=",r,";")}if(d){if(ii(d))return void(d.enable?(h(t),b(t.exit),v("true")):v("false"));v(f=d.append(e,t))}else f=t.def(c,".profile");var g=e.block();h(g),t("if(",f,"){",g,"}");var y=e.block();b(y),t.exit("if(",f,"){",y,"}")}function U(e,t,r,n,a){var i=e.shared;n.forEach(function(n){var o,f=n.name,u=r.attributes[f];if(u){if(!a(u))return;o=u.append(e,t)}else{if(!a(ui))return;var s=e.scopeAttrib(f);F.optional(function(){e.assert(t,s+".state","missing attribute "+f)}),o={},Object.keys(new b).forEach(function(e){o[e]=t.def(s,".",e)})}!function(r,n,a){var o=i.gl,f=t.def(r,".location"),u=t.def(i.attributes,"[",f,"]"),s=a.state,c=a.buffer,l=[a.x,a.y,a.z,a.w],d=["buffer","normalized","offset","stride"];function m(){t("if(!",u,".buffer){",o,".enableVertexAttribArray(",f,");}");var r,i=a.type;if(r=a.size?t.def(a.size,"||",n):n,t("if(",u,".type!==",i,"||",u,".size!==",r,"||",d.map(function(e){return u+"."+e+"!=="+a[e]}).join("||"),"){",o,".bindBuffer(",ia,",",c,".buffer);",o,".vertexAttribPointer(",[f,r,i,a.normalized,a.stride,a.offset],");",u,".type=",i,";",u,".size=",r,";",d.map(function(e){return u+"."+e+"="+a[e]+";"}).join(""),"}"),g){var s=a.divisor;t("if(",u,".divisor!==",s,"){",e.instancing,".vertexAttribDivisorANGLE(",[f,s],");",u,".divisor=",s,";}")}}function p(){t("if(",u,".buffer){",o,".disableVertexAttribArray(",f,");",u,".buffer=null;","}if(",nn.map(function(e,t){return u+"."+e+"!=="+l[t]}).join("||"),"){",o,".vertexAttrib4f(",f,",",l,");",nn.map(function(e,t){return u+"."+e+"="+l[t]+";"}).join(""),"}")}s===on?m():s===fn?p():(t("if(",s,"===",on,"){"),m(),t("}else{"),p(),t("}"))}(e.link(n),function(e){switch(e){case ya:case _a:case Oa:return 2;case xa:case ka:case Ta:return 3;case wa:case Sa:case Da:return 4;default:return 1}}(n.info.type),o)})}function G(e,t,n,a,i,o){for(var f,u=e.shared,s=u.gl,c=0;c<a.length;++c){var l,d=a[c],m=d.name,p=d.info.type,h=n.uniforms[m],b=e.link(d)+".location";if(h){if(!i(h))continue;if(ii(h)){var v=h.value;if(F.command(null!=v,'missing uniform "'+m+'"',e.commandStr),p===Fa||p===Ba){F.command("function"==typeof v&&(p===Fa&&("texture2d"===v._reglType||"framebuffer"===v._reglType)||p===Ba&&("textureCube"===v._reglType||"framebufferCube"===v._reglType)),"invalid texture for uniform "+m,e.commandStr);var g=e.link(v._texture||v.color[0]._texture);t(s,".uniform1i(",b,",",g+".bind());"),t.exit(g,".unbind();")}else if(p===ja||p===Ca||p===za){F.optional(function(){F.command(Re(v),"invalid matrix for uniform "+m,e.commandStr),F.command(p===ja&&4===v.length||p===Ca&&9===v.length||p===za&&16===v.length,"invalid length for matrix uniform "+m,e.commandStr)});var y=e.global.def("new Float32Array(["+Array.prototype.slice.call(v)+"])"),x=2;p===Ca?x=3:p===za&&(x=4),t(s,".uniformMatrix",x,"fv(",b,",false,",y,");")}else{switch(p){case ga:F.commandType(v,"number","uniform "+m,e.commandStr),f="1f";break;case ya:F.command(Re(v)&&2===v.length,"uniform "+m,e.commandStr),f="2f";break;case xa:F.command(Re(v)&&3===v.length,"uniform "+m,e.commandStr),f="3f";break;case wa:F.command(Re(v)&&4===v.length,"uniform "+m,e.commandStr),f="4f";break;case Ea:F.commandType(v,"boolean","uniform "+m,e.commandStr),f="1i";break;case Aa:F.commandType(v,"number","uniform "+m,e.commandStr),f="1i";break;case Oa:case _a:F.command(Re(v)&&2===v.length,"uniform "+m,e.commandStr),f="2i";break;case Ta:case ka:F.command(Re(v)&&3===v.length,"uniform "+m,e.commandStr),f="3i";break;case Da:case Sa:F.command(Re(v)&&4===v.length,"uniform "+m,e.commandStr),f="4i"}t(s,".uniform",f,"(",b,",",Re(v)?Array.prototype.slice.call(v):v,");")}continue}l=h.append(e,t)}else{if(!i(ui))continue;l=t.def(u.uniforms,"[",r.id(m),"]")}p===Fa?(F(!Array.isArray(l),"must specify a scalar prop for textures"),t("if(",l,"&&",l,'._reglType==="framebuffer"){',l,"=",l,".color[0];","}")):p===Ba&&(F(!Array.isArray(l),"must specify a scalar prop for cube maps"),t("if(",l,"&&",l,'._reglType==="framebufferCube"){',l,"=",l,".color[0];","}")),F.optional(function(){function r(r,n){e.assert(t,r,'bad data or missing for uniform "'+m+'".  '+n)}function n(e){F(!Array.isArray(l),"must not specify an array type for uniform"),r("typeof "+l+'==="'+e+'"',"invalid type, expected "+e)}function a(t,n){Array.isArray(l)?F(l.length===t,"must have length "+t):r(u.isArrayLike+"("+l+")&&"+l+".length==="+t,"invalid vector, should have length "+t,e.commandStr)}function i(t){F(!Array.isArray(l),"must not specify a value type"),r("typeof "+l+'==="function"&&'+l+'._reglType==="texture'+(t===fa?"2d":"Cube")+'"',"invalid texture type",e.commandStr)}switch(p){case Aa:n("number");break;case _a:a(2);break;case ka:a(3);break;case Sa:a(4);break;case ga:n("number");break;case ya:a(2);break;case xa:a(3);break;case wa:a(4);break;case Ea:n("boolean");break;case Oa:a(2);break;case Ta:a(3);break;case Da:case ja:a(4);break;case Ca:a(9);break;case za:a(16);break;case Fa:i(fa);break;case Ba:i(ua)}});var w=1;switch(p){case Fa:case Ba:var A=t.def(l,"._texture");t(s,".uniform1i(",b,",",A,".bind());"),t.exit(A,".unbind();");continue;case Aa:case Ea:f="1i";break;case _a:case Oa:f="2i",w=2;break;case ka:case Ta:f="3i",w=3;break;case Sa:case Da:f="4i",w=4;break;case ga:f="1f";break;case ya:f="2f",w=2;break;case xa:f="3f",w=3;break;case wa:f="4f",w=4;break;case ja:f="Matrix2fv";break;case Ca:f="Matrix3fv";break;case za:f="Matrix4fv"}if("M"===f.charAt(0)){t(s,".uniform",f,"(",b,",");var _=Math.pow(p-ja+2,2),k=e.global.def("new Float32Array(",_,")");Array.isArray(l)?t("false,(",Q(_,function(e){return k+"["+e+"]="+l[e]}),",",k,")"):t("false,(Array.isArray(",l,")||",l," instanceof Float32Array)?",l,":(",Q(_,function(e){return k+"["+e+"]="+l+"["+e+"]"}),",",k,")"),t(");")}else if(w>1){for(var S=[],E=[],O=0;O<w;++O)Array.isArray(l)?E.push(l[O]):E.push(t.def(l+"["+O+"]")),o&&S.push(t.def());o&&t("if(!",e.batchId,"||",S.map(function(e,t){return e+"!=="+E[t]}).join("||"),"){",S.map(function(e,t){return e+"="+E[t]+";"}).join("")),t(s,".uniform",f,"(",b,",",E.join(","),");"),o&&t("}")}else{if(F(!Array.isArray(l),"uniform value must not be an array"),o){var T=t.def();t("if(!",e.batchId,"||",T,"!==",l,"){",T,"=",l,";")}t(s,".uniform",f,"(",b,",",l,");"),o&&t("}")}}}function H(e,t,r,n){var a=e.shared,i=a.gl,o=a.draw,f=n.draw;var u=function(){var u,s=f.elements,c=t;return s?((s.contextDep&&n.contextDynamic||s.propDep)&&(c=r),f.vaoActive?u=s.append(e,c):c("if("+(u=s.append(e,c))+")"+i+".bindBuffer("+oa+","+u+".buffer.buffer);")):(u=c.def(),c("if(",a.vao,".currentVAO){",u,"=",e.shared.elements+".getElements("+a.vao,".currentVAO.elements);",x?"":"if("+u+")"+i+".bindBuffer("+oa+","+u+".buffer.buffer);","}else{",u,"=",o,".",qn,";","if(",u,"){",i,".bindBuffer(",oa,",",u,".buffer.buffer);}}")),u}();function s(a){var i=f[a];return i?i.contextDep&&n.contextDynamic||i.propDep?i.append(e,r):i.append(e,t):t.def(o,".",a)}var c,l,d=s(Qn),m=s(Xn),p=function(){var a,i=f.count,u=t;return i?((i.contextDep&&n.contextDynamic||i.propDep)&&(u=r),a=i.append(e,u),F.optional(function(){i.MISSING&&e.assert(t,"false","missing vertex count"),i.DYNAMIC&&e.assert(u,a+">=0","missing vertex count")})):(a=u.def(o,".",Yn),F.optional(function(){e.assert(u,a+">=0","missing vertex count")})),a}();if("number"==typeof p){if(0===p)return}else r("if(",p,"){"),r.exit("}");g&&(c=s($n),l=e.instancing);var h=u+".type",b=f.elements&&ii(f.elements)&&!f.vaoActive;function v(){function e(){r(l,".drawElementsInstancedANGLE(",[d,p,h,m+"<<(("+h+"-"+an+")>>1)",c],");")}function t(){r(l,".drawArraysInstancedANGLE(",[d,m,p,c],");")}u&&"null"!==u?b?e():(r("if(",u,"){"),e(),r("}else{"),t(),r("}")):t()}function y(){function e(){r(i+".drawElements("+[d,p,h,m+"<<(("+h+"-"+an+")>>1)"]+");")}function t(){r(i+".drawArrays("+[d,m,p]+");")}u&&"null"!==u?b?e():(r("if(",u,"){"),e(),r("}else{"),t(),r("}")):t()}g&&("number"!=typeof c||c>=0)?"string"==typeof c?(r("if(",c,">0){"),v(),r("}else if(",c,"<0){"),y(),r("}")):v():y()}function N(e,t,r,n,a){var i=z(),o=i.proc("body",a);return F.optional(function(){i.commandStr=t.commandStr,i.command=i.link(t.commandStr)}),g&&(i.instancing=o.def(i.shared.extensions,".angle_instanced_arrays")),e(i,o,r,n),i.compile().body}function q(e,t,r,n){R(e,t),r.useVAO?r.drawVAO?t(e.shared.vao,".setVAO(",r.drawVAO.append(e,t),");"):t(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(t(e.shared.vao,".setVAO(null);"),U(e,t,r,n.attributes,function(){return!0})),G(e,t,r,n.uniforms,function(){return!0},!1),H(e,t,t,r)}function Y(e,t,r,n){function a(){return!0}e.batchId="a1",R(e,t),U(e,t,r,n.attributes,a),G(e,t,r,n.uniforms,a,!1),H(e,t,t,r)}function X(e,t,r,n){R(e,t);var a=r.contextDep,i=t.def(),o=t.def();e.shared.props=o,e.batchId=i;var f=e.scope(),u=e.scope();function s(e){return e.contextDep&&a||e.propDep}function c(e){return!s(e)}if(t(f.entry,"for(",i,"=0;",i,"<","a1",";++",i,"){",o,"=","a0","[",i,"];",u,"}",f.exit),r.needsContext&&V(e,u,r.context),r.needsFramebuffer&&I(e,u,r.framebuffer),L(e,u,r.state,s),r.profile&&s(r.profile)&&M(e,u,r,!1,!0),n)r.useVAO?r.drawVAO?s(r.drawVAO)?u(e.shared.vao,".setVAO(",r.drawVAO.append(e,u),");"):f(e.shared.vao,".setVAO(",r.drawVAO.append(e,f),");"):f(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(f(e.shared.vao,".setVAO(null);"),U(e,f,r,n.attributes,c),U(e,u,r,n.attributes,s)),G(e,f,r,n.uniforms,c,!1),G(e,u,r,n.uniforms,s,!0),H(e,f,u,r);else{var l=e.global.def("{}"),d=r.shader.progVar.append(e,u),m=u.def(d,".id"),p=u.def(l,"[",m,"]");u(e.shared.gl,".useProgram(",d,".program);","if(!",p,"){",p,"=",l,"[",m,"]=",e.link(function(t){return N(Y,e,r,t,2)}),"(",d,");}",p,".call(this,a0[",i,"],",i,");")}}function $(e,t,r){var n=t.static[r];if(n&&function(e){if("object"==typeof e&&!Re(e)){for(var t=Object.keys(e),r=0;r<t.length;++r)if(W.isDynamic(e[t[r]]))return!0;return!1}}(n)){var a=e.global,i=Object.keys(n),o=!1,f=!1,u=!1,s=e.global.def("{}");i.forEach(function(t){var r=n[t];if(W.isDynamic(r)){"function"==typeof r&&(r=n[t]=W.unbox(r));var i=fi(r,null);o=o||i.thisDep,u=u||i.propDep,f=f||i.contextDep}else{switch(a(s,".",t,"="),typeof r){case"number":a(r);break;case"string":a('"',r,'"');break;case"object":Array.isArray(r)&&a("[",r.join(),"]");break;default:a(e.link(r))}a(";")}}),t.dynamic[r]=new W.DynamicVariable(dn,{thisDep:o,contextDep:f,propDep:u,ref:s,append:function(e,t){i.forEach(function(r){var a=n[r];if(W.isDynamic(a)){var i=e.invoke(t,a);t(s,".",r,"=",i,";")}})}}),delete t.static[r]}}return{next:A,current:w,procs:function(){var e=z(),t=e.proc("poll"),r=e.proc("refresh"),i=e.block();t(i),r(i);var o,f=e.shared,u=f.gl,s=f.next,c=f.current;i(c,".dirty=false;"),I(e,t),I(e,r,null,!0),g&&(o=e.link(g)),n.oes_vertex_array_object&&r(e.link(n.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var l=0;l<a.maxAttributes;++l){var d=r.def(f.attributes,"[",l,"]"),m=e.cond(d,".buffer");m.then(u,".enableVertexAttribArray(",l,");",u,".bindBuffer(",ia,",",d,".buffer.buffer);",u,".vertexAttribPointer(",l,",",d,".size,",d,".type,",d,".normalized,",d,".stride,",d,".offset);").else(u,".disableVertexAttribArray(",l,");",u,".vertexAttrib4f(",l,",",d,".x,",d,".y,",d,".z,",d,".w);",d,".buffer=null;"),r(m),g&&r(o,".vertexAttribDivisorANGLE(",l,",",d,".divisor);")}return r(e.shared.vao,".currentVAO=null;",e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"),Object.keys(k).forEach(function(n){var a=k[n],o=i.def(s,".",n),f=e.block();f("if(",o,"){",u,".enable(",a,")}else{",u,".disable(",a,")}",c,".",n,"=",o,";"),r(f),t("if(",o,"!==",c,".",n,"){",f,"}")}),Object.keys(S).forEach(function(n){var a,o,f=S[n],l=w[n],d=e.block();if(d(u,".",f,"("),Re(l)){var m=l.length;a=e.global.def(s,".",n),o=e.global.def(c,".",n),d(Q(m,function(e){return a+"["+e+"]"}),");",Q(m,function(e){return o+"["+e+"]="+a+"["+e+"];"}).join("")),t("if(",Q(m,function(e){return a+"["+e+"]!=="+o+"["+e+"]"}).join("||"),"){",d,"}")}else a=i.def(s,".",n),o=i.def(c,".",n),d(a,");",c,".",n,"=",a,";"),t("if(",a,"!==",o,"){",d,"}");r(d)}),e.compile()}(),compile:function(e,n,a,i,o){var f=z();f.stats=f.link(o),Object.keys(n.static).forEach(function(e){$(f,n,e)}),aa.forEach(function(t){$(f,e,t)});var u=B(e,n,a,i,f);return function(e,t){var r=e.proc("draw",1);R(e,r),V(e,r,t.context),I(e,r,t.framebuffer),P(e,r,t),L(e,r,t.state),M(e,r,t,!1,!0);var n=t.shader.progVar.append(e,r);if(r(e.shared.gl,".useProgram(",n,".program);"),t.shader.program)q(e,r,t,t.shader.program);else{r(e.shared.vao,".setVAO(null);");var a=e.global.def("{}"),i=r.def(n,".id"),o=r.def(a,"[",i,"]");r(e.cond(o).then(o,".call(this,a0);").else(o,"=",a,"[",i,"]=",e.link(function(r){return N(q,e,t,r,1)}),"(",n,");",o,".call(this,a0);"))}Object.keys(t.state).length>0&&r(e.shared.current,".dirty=true;")}(f,u),function(e,t){var n=e.proc("scope",3);e.batchId="a2";var a=e.shared,i=a.current;function o(r){var i=t.shader[r];i&&n.set(a.shader,"."+r,i.append(e,n))}V(e,n,t.context),t.framebuffer&&t.framebuffer.append(e,n),ni(Object.keys(t.state)).forEach(function(r){var i=t.state[r].append(e,n);Re(i)?i.forEach(function(t,a){n.set(e.next[r],"["+a+"]",t)}):n.set(a.next,"."+r,i)}),M(e,n,t,!0,!0),[qn,Xn,Yn,$n,Qn].forEach(function(r){var i=t.draw[r];i&&n.set(a.draw,"."+r,""+i.append(e,n))}),Object.keys(t.uniforms).forEach(function(i){var o=t.uniforms[i].append(e,n);Array.isArray(o)&&(o="["+o.join()+"]"),n.set(a.uniforms,"["+r.id(i)+"]",o)}),Object.keys(t.attributes).forEach(function(r){var a=t.attributes[r].append(e,n),i=e.scopeAttrib(r);Object.keys(new b).forEach(function(e){n.set(i,"."+e,a[e])})}),t.scopeVAO&&n.set(a.vao,".targetVAO",t.scopeVAO.append(e,n)),o(Hn),o(Nn),Object.keys(t.state).length>0&&(n(i,".dirty=true;"),n.exit(i,".dirty=true;")),n("a1(",e.shared.context,",a0,",e.batchId,");")}(f,u),function(e,t){var r=e.proc("batch",2);e.batchId="0",R(e,r);var n=!1,a=!0;Object.keys(t.context).forEach(function(e){n=n||t.context[e].propDep}),n||(V(e,r,t.context),a=!1);var i=t.framebuffer,o=!1;function f(e){return e.contextDep&&n||e.propDep}i?(i.propDep?n=o=!0:i.contextDep&&n&&(o=!0),o||I(e,r,i)):I(e,r,null),t.state.viewport&&t.state.viewport.propDep&&(n=!0),P(e,r,t),L(e,r,t.state,function(e){return!f(e)}),t.profile&&f(t.profile)||M(e,r,t,!1,"a1"),t.contextDep=n,t.needsContext=a,t.needsFramebuffer=o;var u=t.shader.progVar;if(u.contextDep&&n||u.propDep)X(e,r,t,null);else{var s=u.append(e,r);if(r(e.shared.gl,".useProgram(",s,".program);"),t.shader.program)X(e,r,t,t.shader.program);else{r(e.shared.vao,".setVAO(null);");var c=e.global.def("{}"),l=r.def(s,".id"),d=r.def(c,"[",l,"]");r(e.cond(d).then(d,".call(this,a0,a1);").else(d,"=",c,"[",l,"]=",e.link(function(r){return N(X,e,t,r,2)}),"(",s,");",d,".call(this,a0,a1);"))}}Object.keys(t.state).length>0&&r(e.shared.current,".dirty=true;")}(f,u),t(f.compile(),{destroy:function(){u.shader.program.destroy()}})}}}var ci=34918,li=34919,di=35007,mi=function(e,t){if(!t.ext_disjoint_timer_query)return null;var r=[];function n(e){r.push(e)}var a=[];function i(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var o=[];function f(e){o.push(e)}var u=[];function s(e,t,r){var n=o.pop()||new i;n.startQueryIndex=e,n.endQueryIndex=t,n.sum=0,n.stats=r,u.push(n)}var c=[],l=[];return{beginQuery:function(e){var n=r.pop()||t.ext_disjoint_timer_query.createQueryEXT();t.ext_disjoint_timer_query.beginQueryEXT(di,n),a.push(n),s(a.length-1,a.length,e)},endQuery:function(){t.ext_disjoint_timer_query.endQueryEXT(di)},pushScopeStats:s,update:function(){var e,r,i=a.length;if(0!==i){l.length=Math.max(l.length,i+1),c.length=Math.max(c.length,i+1),c[0]=0,l[0]=0;var o=0;for(e=0,r=0;r<a.length;++r){var s=a[r];t.ext_disjoint_timer_query.getQueryObjectEXT(s,li)?(o+=t.ext_disjoint_timer_query.getQueryObjectEXT(s,ci),n(s)):a[e++]=s,c[r+1]=o,l[r+1]=e}for(a.length=e,e=0,r=0;r<u.length;++r){var d=u[r],m=d.startQueryIndex,p=d.endQueryIndex;d.sum+=c[p]-c[m];var h=l[m],b=l[p];b===h?(d.stats.gpuTime+=d.sum/1e6,f(d)):(d.startQueryIndex=h,d.endQueryIndex=b,u[e++]=d)}u.length=e}},getNumPendingQueries:function(){return a.length},clear:function(){r.push.apply(r,a);for(var e=0;e<r.length;e++)t.ext_disjoint_timer_query.deleteQueryEXT(r[e]);a.length=0,r.length=0},restore:function(){a.length=0,r.length=0}}},pi=16384,hi=256,bi=1024,vi=34962,gi="webglcontextlost",yi="webglcontextrestored",xi=1,wi=2,Ai=3;function _i(e,t){for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}return function(r){var n=q(r);if(!n)return null;var a=n.gl,i=a.getContextAttributes(),o=a.isContextLost(),f=function(e,t){var r={};function n(t){F.type(t,"string","extension name must be string");var n,a=t.toLowerCase();try{n=r[a]=e.getExtension(a)}catch(i){}return!!n}for(var a=0;a<t.extensions.length;++a){var i=t.extensions[a];if(!n(i))return t.onDestroy(),t.onDone('"'+i+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(n),{extensions:r,restore:function(){Object.keys(r).forEach(function(e){if(r[e]&&!n(e))throw new Error("(regl): error restoring extension "+e)})}}}(a,n);if(!f)return null;var u,s,c=(u={"":0},s=[""],{id:function(e){var t=u[e];return t||(t=u[e]=s.length,s.push(e),t)},str:function(e){return s[e]}}),l={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},d=f.extensions,m=mi(a,d),p=G(),h=a.drawingBufferWidth,b=a.drawingBufferHeight,v={tick:0,time:0,viewportWidth:h,viewportHeight:b,framebufferWidth:h,framebufferHeight:b,drawingBufferWidth:h,drawingBufferHeight:b,pixelRatio:n.pixelRatio},g={elements:null,primitive:4,count:-1,offset:0,instances:-1},y=ae(a,d),x=function(t,r,n,a){var i=0,o={};function f(e){this.id=i++,this.buffer=t.createBuffer(),this.type=e,this.usage=pe,this.byteLength=0,this.dimension=1,this.dtype=be,this.persistentData=null,n.profile&&(this.stats={size:0})}f.prototype.bind=function(){t.bindBuffer(this.type,this.buffer)},f.prototype.destroy=function(){l(this)};var u=[];function s(e,r,n){e.byteLength=r.byteLength,t.bufferData(e.type,r,n)}function c(t,r,n,a,i,o){var f,u;if(t.usage=n,Array.isArray(r)){if(t.dtype=a||ve,r.length>0)if(Array.isArray(r[0])){f=me(r);for(var c=1,l=1;l<f.length;++l)c*=f[l];t.dimension=c,s(t,u=de(r,f,t.dtype),n),o?t.persistentData=u:ne.freeType(u)}else if("number"==typeof r[0]){t.dimension=i;var d=ne.allocType(t.dtype,r.length);xe(d,r),s(t,d,n),o?t.persistentData=d:ne.freeType(d)}else e(r[0])?(t.dimension=r[0].length,t.dtype=a||ye(r[0])||ve,s(t,u=de(r,[r.length,r[0].length],t.dtype),n),o?t.persistentData=u:ne.freeType(u)):F.raise("invalid buffer data")}else if(e(r))t.dtype=a||ye(r),t.dimension=i,s(t,r,n),o&&(t.persistentData=new Uint8Array(new Uint8Array(r.buffer)));else if(ie(r)){f=r.shape;var m=r.stride,p=r.offset,h=0,b=0,v=0,g=0;1===f.length?(h=f[0],b=1,v=m[0],g=0):2===f.length?(h=f[0],b=f[1],v=m[0],g=m[1]):F.raise("invalid shape"),t.dtype=a||ye(r.data)||ve,t.dimension=b;var y=ne.allocType(t.dtype,h*b);we(y,r.data,h,b,v,g,p),s(t,y,n),o?t.persistentData=y:ne.freeType(y)}else r instanceof ArrayBuffer?(t.dtype=be,t.dimension=i,s(t,r,n),o&&(t.persistentData=new Uint8Array(new Uint8Array(r)))):F.raise("invalid buffer data")}function l(e){r.bufferCount--,a(e);var n=e.buffer;F(n,"buffer must not be deleted already"),t.deleteBuffer(n),e.buffer=null,delete o[e.id]}return n.profile&&(r.getTotalBufferSize=function(){var e=0;return Object.keys(o).forEach(function(t){e+=o[t].stats.size}),e}),{create:function(a,i,u,s){r.bufferCount++;var d=new f(i);function m(r){var a=pe,i=null,o=0,f=0,u=1;return Array.isArray(r)||e(r)||ie(r)||r instanceof ArrayBuffer?i=r:"number"==typeof r?o=0|r:r&&(F.type(r,"object","buffer arguments must be an object, a number or an array"),"data"in r&&(F(null===i||Array.isArray(i)||e(i)||ie(i),"invalid data for buffer"),i=r.data),"usage"in r&&(F.parameter(r.usage,le,"invalid buffer usage"),a=le[r.usage]),"type"in r&&(F.parameter(r.type,ce,"invalid buffer type"),f=ce[r.type]),"dimension"in r&&(F.type(r.dimension,"number","invalid dimension"),u=0|r.dimension),"length"in r&&(F.nni(o,"buffer length must be a nonnegative integer"),o=0|r.length)),d.bind(),i?c(d,i,a,f,u,s):(o&&t.bufferData(d.type,o,a),d.dtype=f||be,d.usage=a,d.dimension=u,d.byteLength=o),n.profile&&(d.stats.size=d.byteLength*ge[d.dtype]),m}function p(e,r){F(r+e.byteLength<=d.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+e.byteLength+" starting from offset "+r+" to a buffer of size "+d.byteLength),t.bufferSubData(d.type,r,e)}return o[d.id]=d,u||m(a),m._reglType="buffer",m._buffer=d,m.subdata=function(t,r){var n,a=0|(r||0);if(d.bind(),e(t)||t instanceof ArrayBuffer)p(t,a);else if(Array.isArray(t)){if(t.length>0)if("number"==typeof t[0]){var i=ne.allocType(d.dtype,t.length);xe(i,t),p(i,a),ne.freeType(i)}else if(Array.isArray(t[0])||e(t[0])){n=me(t);var o=de(t,n,d.dtype);p(o,a),ne.freeType(o)}else F.raise("invalid buffer data")}else if(ie(t)){n=t.shape;var f=t.stride,u=0,s=0,c=0,l=0;1===n.length?(u=n[0],s=1,c=f[0],l=0):2===n.length?(u=n[0],s=n[1],c=f[0],l=f[1]):F.raise("invalid shape");var h=Array.isArray(t.data)?d.dtype:ye(t.data),b=ne.allocType(h,u*s);we(b,t.data,u,s,c,l,t.offset),p(b,a),ne.freeType(b)}else F.raise("invalid data for buffer subdata");return m},n.profile&&(m.stats=d.stats),m.destroy=function(){l(d)},m},createStream:function(e,t){var r=u.pop();return r||(r=new f(e)),r.bind(),c(r,t,he,0,1,!1),r},destroyStream:function(e){u.push(e)},clear:function(){oe(o).forEach(l),u.forEach(l)},getBuffer:function(e){return e&&e._buffer instanceof f?e._buffer:null},restore:function(){oe(o).forEach(function(e){e.buffer=t.createBuffer(),t.bindBuffer(e.type,e.buffer),t.bufferData(e.type,e.persistentData||e.byteLength,e.usage)})},_initBuffer:c}}(a,l,n,function(e){return A.destroyBuffer(e)}),w=function(t,r,n,a){var i={},o=0,f={uint8:Oe,uint16:De};function u(e){this.id=o++,i[this.id]=this,this.buffer=e,this.primType=Se,this.vertCount=0,this.type=0}r.oes_element_index_uint&&(f.uint32=Ce),u.prototype.bind=function(){this.buffer.bind()};var s=[];function c(a,i,o,f,u,s,c){var l;if(a.buffer.bind(),i){var d=c;c||e(i)&&(!ie(i)||e(i.data))||(d=r.oes_element_index_uint?Ce:De),n._initBuffer(a.buffer,i,o,d,3)}else t.bufferData(ze,s,o),a.buffer.dtype=l||Oe,a.buffer.usage=o,a.buffer.dimension=3,a.buffer.byteLength=s;if(l=c,!c){switch(a.buffer.dtype){case Oe:case Ee:l=Oe;break;case De:case Te:l=De;break;case Ce:case je:l=Ce;break;default:F.raise("unsupported type for element array")}a.buffer.dtype=l}a.type=l,F(l!==Ce||!!r.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var m=u;m<0&&(m=a.buffer.byteLength,l===De?m>>=1:l===Ce&&(m>>=2)),a.vertCount=m;var p=f;if(f<0){p=Se;var h=a.buffer.dimension;1===h&&(p=_e),2===h&&(p=ke),3===h&&(p=Se)}a.primType=p}function l(e){a.elementsCount--,F(null!==e.buffer,"must not double destroy elements"),delete i[e.id],e.buffer.destroy(),e.buffer=null}return{create:function(t,r){var i=n.create(null,ze,!0),o=new u(i._buffer);function s(t){if(t)if("number"==typeof t)i(t),o.primType=Se,o.vertCount=0|t,o.type=Oe;else{var r=null,n=Be,a=-1,u=-1,l=0,d=0;Array.isArray(t)||e(t)||ie(t)?r=t:(F.type(t,"object","invalid arguments for elements"),"data"in t&&(r=t.data,F(Array.isArray(r)||e(r)||ie(r),"invalid data for element buffer")),"usage"in t&&(F.parameter(t.usage,le,"invalid element buffer usage"),n=le[t.usage]),"primitive"in t&&(F.parameter(t.primitive,Ae,"invalid element buffer primitive"),a=Ae[t.primitive]),"count"in t&&(F("number"==typeof t.count&&t.count>=0,"invalid vertex count for elements"),u=0|t.count),"type"in t&&(F.parameter(t.type,f,"invalid buffer type"),d=f[t.type]),"length"in t?l=0|t.length:(l=u,d===De||d===Te?l*=2:d!==Ce&&d!==je||(l*=4))),c(o,r,n,a,u,l,d)}else i(),o.primType=Se,o.vertCount=0,o.type=Oe;return s}return a.elementsCount++,s(t),s._reglType="elements",s._elements=o,s.subdata=function(e,t){return i.subdata(e,t),s},s.destroy=function(){l(o)},s},createStream:function(e){var t=s.pop();return t||(t=new u(n.create(null,ze,!0,!1)._buffer)),c(t,e,Fe,-1,-1,0,0),t},destroyStream:function(e){s.push(e)},getElements:function(e){return"function"==typeof e&&e._elements instanceof u?e._elements:null},clear:function(){oe(i).forEach(l)}}}(a,d,x,l),A=function(t,r,n,a,i,o,f){for(var u=n.maxAttributes,s=new Array(u),c=0;c<u;++c)s[c]=new Nr;var l=0,d={},m={Record:Nr,scope:{},state:s,currentVAO:null,targetVAO:null,restore:p()?function(){p()&&oe(d).forEach(function(e){e.refresh()})}:function(){},createVAO:function(t){var n=new b;function f(t){var a;if(Array.isArray(t))a=t,n.elements&&n.ownsElements&&n.elements.destroy(),n.elements=null,n.ownsElements=!1,n.offset=0,n.count=0,n.instances=-1,n.primitive=4;else{if(F("object"==typeof t,"invalid arguments for create vao"),F("attributes"in t,"must specify attributes for vao"),t.elements){var s=t.elements;n.ownsElements?"function"==typeof s&&"elements"===s._reglType?(n.elements.destroy(),n.ownsElements=!1):(n.elements(s),n.ownsElements=!1):o.getElements(t.elements)?(n.elements=t.elements,n.ownsElements=!1):(n.elements=o.create(t.elements),n.ownsElements=!0)}else n.elements=null,n.ownsElements=!1;a=t.attributes,n.offset=0,n.count=-1,n.instances=-1,n.primitive=4,n.elements&&(n.count=n.elements._elements.vertCount,n.primitive=n.elements._elements.primType),"offset"in t&&(n.offset=0|t.offset),"count"in t&&(n.count=0|t.count),"instances"in t&&(n.instances=0|t.instances),"primitive"in t&&(F(t.primitive in Ae,"bad primitive type: "+t.primitive),n.primitive=Ae[t.primitive]),F.optional(()=>{for(var e=Object.keys(t),r=0;r<e.length;++r)F(Hr.indexOf(e[r])>=0,'invalid option for vao: "'+e[r]+'" valid options are '+Hr)}),F(Array.isArray(a),"attributes must be an array")}F(a.length<u,"too many attributes"),F(a.length>0,"must specify at least one attribute");var c={},l=n.attributes;l.length=a.length;for(var d=0;d<a.length;++d){var m,p=a[d],h=l[d]=new Nr,b=p.data||p;Array.isArray(b)||e(b)||ie(b)?(n.buffers[d]&&(m=n.buffers[d],e(b)&&m._buffer.byteLength>=b.byteLength?m.subdata(b):(m.destroy(),n.buffers[d]=null)),n.buffers[d]||(m=n.buffers[d]=i.create(p,Ur,!1,!0)),h.buffer=i.getBuffer(m),h.size=0|h.buffer.dimension,h.normalized=!1,h.type=h.buffer.dtype,h.offset=0,h.stride=0,h.divisor=0,h.state=1,c[d]=1):i.getBuffer(p)?(h.buffer=i.getBuffer(p),h.size=0|h.buffer.dimension,h.normalized=!1,h.type=h.buffer.dtype,h.offset=0,h.stride=0,h.divisor=0,h.state=1):i.getBuffer(p.buffer)?(h.buffer=i.getBuffer(p.buffer),h.size=0|(+p.size||h.buffer.dimension),h.normalized=!!p.normalized||!1,"type"in p?(F.parameter(p.type,ce,"invalid buffer type"),h.type=ce[p.type]):h.type=h.buffer.dtype,h.offset=0|(p.offset||0),h.stride=0|(p.stride||0),h.divisor=0|(p.divisor||0),h.state=1,F(h.size>=1&&h.size<=4,"size must be between 1 and 4"),F(h.offset>=0,"invalid offset"),F(h.stride>=0&&h.stride<=255,"stride must be between 0 and 255"),F(h.divisor>=0,"divisor must be positive"),F(!h.divisor||!!r.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in p?(F(d>0,"first attribute must not be a constant"),h.x=+p.x||0,h.y=+p.y||0,h.z=+p.z||0,h.w=+p.w||0,h.state=2):F(!1,"invalid attribute spec for location "+d)}for(var v=0;v<n.buffers.length;++v)!c[v]&&n.buffers[v]&&(n.buffers[v].destroy(),n.buffers[v]=null);return n.refresh(),f}return a.vaoCount+=1,f.destroy=function(){for(var e=0;e<n.buffers.length;++e)n.buffers[e]&&n.buffers[e].destroy();n.buffers.length=0,n.ownsElements&&(n.elements.destroy(),n.elements=null,n.ownsElements=!1),n.destroy()},f._vao=n,f._reglType="vao",f(t)},getVAO:function(e){return"function"==typeof e&&e._vao?e._vao:null},destroyBuffer:function(e){for(var r=0;r<s.length;++r){var n=s[r];n.buffer===e&&(t.disableVertexAttribArray(r),n.buffer=null)}},setVAO:p()?function(e){if(e!==m.currentVAO){var t=p();e?t.bindVertexArrayOES(e.vao):t.bindVertexArrayOES(null),m.currentVAO=e}}:function(e){if(e!==m.currentVAO){if(e)e.bindAttrs();else{for(var r=h(),n=0;n<s.length;++n){var a=s[n];a.buffer?(t.enableVertexAttribArray(n),a.buffer.bind(),t.vertexAttribPointer(n,a.size,a.type,a.normalized,a.stride,a.offfset),r&&a.divisor&&r.vertexAttribDivisorANGLE(n,a.divisor)):(t.disableVertexAttribArray(n),t.vertexAttrib4f(n,a.x,a.y,a.z,a.w))}f.elements?t.bindBuffer(Gr,f.elements.buffer.buffer):t.bindBuffer(Gr,null)}m.currentVAO=e}},clear:p()?function(){oe(d).forEach(function(e){e.destroy()})}:function(){}};function p(){return r.oes_vertex_array_object}function h(){return r.angle_instanced_arrays}function b(){this.id=++l,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var e=p();this.vao=e?e.createVertexArrayOES():null,d[this.id]=this,this.buffers=[]}return b.prototype.bindAttrs=function(){for(var e=h(),r=this.attributes,n=0;n<r.length;++n){var a=r[n];a.buffer?(t.enableVertexAttribArray(n),t.bindBuffer(Ur,a.buffer.buffer),t.vertexAttribPointer(n,a.size,a.type,a.normalized,a.stride,a.offset),e&&a.divisor&&e.vertexAttribDivisorANGLE(n,a.divisor)):(t.disableVertexAttribArray(n),t.vertexAttrib4f(n,a.x,a.y,a.z,a.w))}for(var i=r.length;i<u;++i)t.disableVertexAttribArray(i);var f=o.getElements(this.elements);f?t.bindBuffer(Gr,f.buffer.buffer):t.bindBuffer(Gr,null)},b.prototype.refresh=function(){var e=p();e&&(e.bindVertexArrayOES(this.vao),this.bindAttrs(),m.currentVAO=this)},b.prototype.destroy=function(){if(this.vao){var e=p();this===m.currentVAO&&(m.currentVAO=null,e.bindVertexArrayOES(null)),e.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),d[this.id]&&(delete d[this.id],a.vaoCount-=1)},m}(a,d,y,l,x,w,g),_=function(e,r,n,a){var i={},o={};function f(e,t,r,n){this.name=e,this.id=t,this.location=r,this.info=n}function u(e,t){for(var r=0;r<e.length;++r)if(e[r].id===t.id)return void(e[r].location=t.location);e.push(t)}function s(t,n,a){var f=t===qr?i:o,u=f[n];if(!u){var s=r.str(n);u=e.createShader(t),e.shaderSource(u,s),e.compileShader(u),F.shaderError(e,u,s,t,a),f[n]=u}return u}var c={},l=[],d=0;function m(e,t){this.id=d++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,a.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function p(t,n,i){var o,c,l=s(qr,t.fragId),d=s(Qr,t.vertId),m=t.program=e.createProgram();if(e.attachShader(m,l),e.attachShader(m,d),i)for(o=0;o<i.length;++o){var p=i[o];e.bindAttribLocation(m,p[0],p[1])}e.linkProgram(m),F.linkError(e,m,r.str(t.fragId),r.str(t.vertId),n);var h=e.getProgramParameter(m,Yr);a.profile&&(t.stats.uniformsCount=h);var b=t.uniforms;for(o=0;o<h;++o)if(c=e.getActiveUniform(m,o))if(c.size>1)for(var v=0;v<c.size;++v){var g=c.name.replace("[0]","["+v+"]");u(b,new f(g,r.id(g),e.getUniformLocation(m,g),c))}else u(b,new f(c.name,r.id(c.name),e.getUniformLocation(m,c.name),c));var y=e.getProgramParameter(m,Xr);a.profile&&(t.stats.attributesCount=y);var x=t.attributes;for(o=0;o<y;++o)(c=e.getActiveAttrib(m,o))&&u(x,new f(c.name,r.id(c.name),e.getAttribLocation(m,c.name),c))}return a.profile&&(n.getMaxUniformsCount=function(){var e=0;return l.forEach(function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)}),e},n.getMaxAttributesCount=function(){var e=0;return l.forEach(function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)}),e}),{clear:function(){var t=e.deleteShader.bind(e);oe(i).forEach(t),i={},oe(o).forEach(t),o={},l.forEach(function(t){e.deleteProgram(t.program)}),l.length=0,c={},n.shaderCount=0},program:function(r,a,f,u){F.command(r>=0,"missing vertex shader",f),F.command(a>=0,"missing fragment shader",f);var s=c[a];s||(s=c[a]={});var d=s[r];if(d&&(d.refCount++,!u))return d;var h=new m(a,r);return n.shaderCount++,p(h,f,u),d||(s[r]=h),l.push(h),t(h,{destroy:function(){if(h.refCount--,h.refCount<=0){e.deleteProgram(h.program);var t=l.indexOf(h);l.splice(t,1),n.shaderCount--}s[h.vertId].refCount<=0&&(e.deleteShader(o[h.vertId]),delete o[h.vertId],delete c[h.fragId][h.vertId]),Object.keys(c[h.fragId]).length||(e.deleteShader(i[h.fragId]),delete i[h.fragId],delete c[h.fragId])}})},restore:function(){i={},o={};for(var e=0;e<l.length;++e)p(l[e],null,l[e].attributes.map(function(e){return[e.location,e.name]}))},shader:s,frag:-1,vert:-1}}(a,c,l,n),k=vr(a,d,y,function(){O.procs.poll()},v,l,n),S=Ar(a,d,y,l,n),E=function(e,r,n,a,i,o){var f={cur:null,next:null,dirty:!1,setFBO:null},u=["rgba"],s=["rgba4","rgb565","rgb5 a1"];r.ext_srgb&&s.push("srgba"),r.ext_color_buffer_half_float&&s.push("rgba16f","rgb16f"),r.webgl_color_buffer_float&&s.push("rgba32f");var c=["uint8"];function l(e,t,r){this.target=e,this.texture=t,this.renderbuffer=r;var n=0,a=0;t?(n=t.width,a=t.height):r&&(n=r.width,a=r.height),this.width=n,this.height=a}function d(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function m(e,t,r){if(e)if(e.texture){var n=e.texture._texture,a=Math.max(1,n.width),i=Math.max(1,n.height);F(a===t&&i===r,"inconsistent width/height for supplied texture"),n.refCount+=1}else{var o=e.renderbuffer._renderbuffer;F(o.width===t&&o.height===r,"inconsistent width/height for renderbuffer"),o.refCount+=1}}function p(t,r){r&&(r.texture?e.framebufferTexture2D(_r,t,r.target,r.texture._texture.texture,0):e.framebufferRenderbuffer(_r,t,kr,r.renderbuffer._renderbuffer.renderbuffer))}function h(e){var t=Sr,r=null,n=null,a=e;"object"==typeof e&&(a=e.data,"target"in e&&(t=0|e.target)),F.type(a,"function","invalid attachment data");var i=a._reglType;return"texture2d"===i?(r=a,F(t===Sr)):"textureCube"===i?(r=a,F(t>=Er&&t<Er+6,"invalid cube map target")):"renderbuffer"===i?(n=a,t=kr):F.raise("invalid regl object for attachment"),new l(t,r,n)}function b(e,t,r,n,o){if(r){var f=a.create2D({width:e,height:t,format:n,type:o});return f._texture.refCount=0,new l(Sr,f,null)}var u=i.create({width:e,height:t,format:n});return u._renderbuffer.refCount=0,new l(kr,null,u)}function v(e){return e&&(e.texture||e.renderbuffer)}function g(e,t,r){e&&(e.texture?e.texture.resize(t,r):e.renderbuffer&&e.renderbuffer.resize(t,r),e.width=t,e.height=r)}r.oes_texture_half_float&&c.push("half float","float16"),r.oes_texture_float&&c.push("float","float32");var y=0,x={};function w(){this.id=y++,x[this.id]=this,this.framebuffer=e.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function A(e){e.colorAttachments.forEach(d),d(e.depthAttachment),d(e.stencilAttachment),d(e.depthStencilAttachment)}function _(t){var r=t.framebuffer;F(r,"must not double destroy framebuffer"),e.deleteFramebuffer(r),t.framebuffer=null,o.framebufferCount--,delete x[t.id]}function k(t){var r;e.bindFramebuffer(_r,t.framebuffer);var a=t.colorAttachments;for(r=0;r<a.length;++r)p(Or+r,a[r]);for(r=a.length;r<n.maxColorAttachments;++r)e.framebufferTexture2D(_r,Or+r,Sr,null,0);e.framebufferTexture2D(_r,jr,Sr,null,0),e.framebufferTexture2D(_r,Tr,Sr,null,0),e.framebufferTexture2D(_r,Dr,Sr,null,0),p(Tr,t.depthAttachment),p(Dr,t.stencilAttachment),p(jr,t.depthStencilAttachment);var i=e.checkFramebufferStatus(_r);e.isContextLost()||i===Cr||F.raise("framebuffer configuration not supported, status = "+Mr[i]),e.bindFramebuffer(_r,f.next?f.next.framebuffer:null),f.cur=f.next,e.getError()}function S(e,a){var i=new w;function l(e,t){var a;F(f.next!==i,"can not update framebuffer which is currently in use");var o=0,d=0,p=!0,g=!0,y=null,x=!0,w="rgba",_="uint8",S=1,E=null,O=null,T=null,D=!1;if("number"==typeof e)o=0|e,d=0|t||o;else if(e){F.type(e,"object","invalid arguments for framebuffer");var j=e;if("shape"in j){var C=j.shape;F(Array.isArray(C)&&C.length>=2,"invalid shape for framebuffer"),o=C[0],d=C[1]}else"radius"in j&&(o=d=j.radius),"width"in j&&(o=j.width),"height"in j&&(d=j.height);("color"in j||"colors"in j)&&(y=j.color||j.colors,Array.isArray(y)&&F(1===y.length||r.webgl_draw_buffers,"multiple render targets not supported")),y||("colorCount"in j&&(S=0|j.colorCount,F(S>0,"invalid color buffer count")),"colorTexture"in j&&(x=!!j.colorTexture,w="rgba4"),"colorType"in j&&(_=j.colorType,x?(F(r.oes_texture_float||!("float"===_||"float32"===_),"you must enable OES_texture_float in order to use floating point framebuffer objects"),F(r.oes_texture_half_float||!("half float"===_||"float16"===_),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===_||"float16"===_?(F(r.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),w="rgba16f"):"float"!==_&&"float32"!==_||(F(r.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),w="rgba32f"),F.oneOf(_,c,"invalid color type")),"colorFormat"in j&&(w=j.colorFormat,u.indexOf(w)>=0?x=!0:s.indexOf(w)>=0?x=!1:F.optional(function(){x?F.oneOf(j.colorFormat,u,"invalid color format for texture"):F.oneOf(j.colorFormat,s,"invalid color format for renderbuffer")}))),("depthTexture"in j||"depthStencilTexture"in j)&&(D=!(!j.depthTexture&&!j.depthStencilTexture),F(!D||r.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in j&&("boolean"==typeof j.depth?p=j.depth:(E=j.depth,g=!1)),"stencil"in j&&("boolean"==typeof j.stencil?g=j.stencil:(O=j.stencil,p=!1)),"depthStencil"in j&&("boolean"==typeof j.depthStencil?p=g=j.depthStencil:(T=j.depthStencil,p=!1,g=!1))}else o=d=1;var z=null,B=null,V=null,I=null;if(Array.isArray(y))z=y.map(h);else if(y)z=[h(y)];else for(z=new Array(S),a=0;a<S;++a)z[a]=b(o,d,x,w,_);F(r.webgl_draw_buffers||z.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),F(z.length<=n.maxColorAttachments,"too many color attachments, not supported"),o=o||z[0].width,d=d||z[0].height,E?B=h(E):p&&!g&&(B=b(o,d,D,"depth","uint32")),O?V=h(O):g&&!p&&(V=b(o,d,!1,"stencil","uint8")),T?I=h(T):!E&&!O&&g&&p&&(I=b(o,d,D,"depth stencil","depth stencil")),F(!!E+!!O+!!T<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var P=null;for(a=0;a<z.length;++a)if(m(z[a],o,d),F(!z[a]||z[a].texture&&Fr.indexOf(z[a].texture._texture.format)>=0||z[a].renderbuffer&&Rr.indexOf(z[a].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+a+" is invalid"),z[a]&&z[a].texture){var L=Br[z[a].texture._texture.format]*Vr[z[a].texture._texture.type];null===P?P=L:F(P===L,"all color attachments much have the same number of bits per pixel.")}return m(B,o,d),F(!B||B.texture&&B.texture._texture.format===zr||B.renderbuffer&&B.renderbuffer._renderbuffer.format===Ir,"invalid depth attachment for framebuffer object"),m(V,o,d),F(!V||V.renderbuffer&&V.renderbuffer._renderbuffer.format===Pr,"invalid stencil attachment for framebuffer object"),m(I,o,d),F(!I||I.texture&&I.texture._texture.format===Lr||I.renderbuffer&&I.renderbuffer._renderbuffer.format===Lr,"invalid depth-stencil attachment for framebuffer object"),A(i),i.width=o,i.height=d,i.colorAttachments=z,i.depthAttachment=B,i.stencilAttachment=V,i.depthStencilAttachment=I,l.color=z.map(v),l.depth=v(B),l.stencil=v(V),l.depthStencil=v(I),l.width=i.width,l.height=i.height,k(i),l}return o.framebufferCount++,l(e,a),t(l,{resize:function(e,t){F(f.next!==i,"can not resize a framebuffer which is currently in use");var r=Math.max(0|e,1),n=Math.max(0|t||r,1);if(r===i.width&&n===i.height)return l;for(var a=i.colorAttachments,o=0;o<a.length;++o)g(a[o],r,n);return g(i.depthAttachment,r,n),g(i.stencilAttachment,r,n),g(i.depthStencilAttachment,r,n),i.width=l.width=r,i.height=l.height=n,k(i),l},_reglType:"framebuffer",_framebuffer:i,destroy:function(){_(i),A(i)},use:function(e){f.setFBO({framebuffer:l},e)}})}return t(f,{getFramebuffer:function(e){if("function"==typeof e&&"framebuffer"===e._reglType){var t=e._framebuffer;if(t instanceof w)return t}return null},create:S,createCube:function(e){var i=Array(6);function o(e){var n;F(i.indexOf(f.next)<0,"can not update framebuffer which is currently in use");var s,l={color:null},d=0,m=null,p="rgba",h="uint8",b=1;if("number"==typeof e)d=0|e;else if(e){F.type(e,"object","invalid arguments for framebuffer");var v=e;if("shape"in v){var g=v.shape;F(Array.isArray(g)&&g.length>=2,"invalid shape for framebuffer"),F(g[0]===g[1],"cube framebuffer must be square"),d=g[0]}else"radius"in v&&(d=0|v.radius),"width"in v?(d=0|v.width,"height"in v&&F(v.height===d,"must be square")):"height"in v&&(d=0|v.height);("color"in v||"colors"in v)&&(m=v.color||v.colors,Array.isArray(m)&&F(1===m.length||r.webgl_draw_buffers,"multiple render targets not supported")),m||("colorCount"in v&&(b=0|v.colorCount,F(b>0,"invalid color buffer count")),"colorType"in v&&(F.oneOf(v.colorType,c,"invalid color type"),h=v.colorType),"colorFormat"in v&&(p=v.colorFormat,F.oneOf(v.colorFormat,u,"invalid color format for texture"))),"depth"in v&&(l.depth=v.depth),"stencil"in v&&(l.stencil=v.stencil),"depthStencil"in v&&(l.depthStencil=v.depthStencil)}else d=1;if(m)if(Array.isArray(m))for(s=[],n=0;n<m.length;++n)s[n]=m[n];else s=[m];else{s=Array(b);var y={radius:d,format:p,type:h};for(n=0;n<b;++n)s[n]=a.createCube(y)}for(l.color=Array(s.length),n=0;n<s.length;++n){var x=s[n];F("function"==typeof x&&"textureCube"===x._reglType,"invalid cube map"),d=d||x.width,F(x.width===d&&x.height===d,"invalid cube map shape"),l.color[n]={target:Er,data:s[n]}}for(n=0;n<6;++n){for(var w=0;w<s.length;++w)l.color[w].target=Er+n;n>0&&(l.depth=i[0].depth,l.stencil=i[0].stencil,l.depthStencil=i[0].depthStencil),i[n]?i[n](l):i[n]=S(l)}return t(o,{width:d,height:d,color:s})}return o(e),t(o,{faces:i,resize:function(e){var t,r=0|e;if(F(r>0&&r<=n.maxCubeMapSize,"invalid radius for cube fbo"),r===o.width)return o;var a=o.color;for(t=0;t<a.length;++t)a[t].resize(r);for(t=0;t<6;++t)i[t].resize(r);return o.width=o.height=r,o},_reglType:"framebufferCube",destroy:function(){i.forEach(function(e){e.destroy()})}})},clear:function(){oe(x).forEach(_)},restore:function(){f.cur=null,f.next=null,f.dirty=!0,oe(x).forEach(function(t){t.framebuffer=e.createFramebuffer(),k(t)})}})}(a,d,y,k,S,l),O=si(a,c,d,y,x,w,0,E,{},A,_,g,v,m,n),T=en(a,E,O.procs.poll,v,i,d,y),D=O.next,j=a.canvas,C=[],z=[],B=[],V=[n.onDestroy],I=null;function P(){if(0===C.length)return m&&m.update(),void(I=null);I=U.next(P),K();for(var e=C.length-1;e>=0;--e){var t=C[e];t&&t(v,null,0)}a.flush(),m&&m.update()}function L(){!I&&C.length>0&&(I=U.next(P))}function R(){I&&(U.cancel(P),I=null)}function M(e){e.preventDefault(),o=!0,R(),z.forEach(function(e){e()})}function H(e){a.getError(),o=!1,f.restore(),_.restore(),x.restore(),k.restore(),S.restore(),E.restore(),A.restore(),m&&m.restore(),O.procs.refresh(),L(),B.forEach(function(e){e()})}function N(e){function r(e,t){var r={},n={};return Object.keys(e).forEach(function(a){var i=e[a];if(W.isDynamic(i))n[a]=W.unbox(i,a);else{if(t&&Array.isArray(i))for(var o=0;o<i.length;++o)if(W.isDynamic(i[o]))return void(n[a]=W.unbox(i,a));r[a]=i}}),{dynamic:n,static:r}}F(!!e,"invalid args to regl({...})"),F.type(e,"object","invalid args to regl({...})");var n=r(e.context||{},!0),a=r(e.uniforms||{},!0),i=r(e.attributes||{},!1),f=r(function(e){var r=t({},e);function n(e){if(e in r){var t=r[e];delete r[e],Object.keys(t).forEach(function(n){r[e+"."+n]=t[n]})}}return delete r.uniforms,delete r.attributes,delete r.context,delete r.vao,"stencil"in r&&r.stencil.op&&(r.stencil.opBack=r.stencil.opFront=r.stencil.op,delete r.stencil.op),n("blend"),n("depth"),n("cull"),n("stencil"),n("polygonOffset"),n("scissor"),n("sample"),"vao"in e&&(r.vao=e.vao),r}(e),!1),u={gpuTime:0,cpuTime:0,count:0},s=O.compile(f,i,a,n,u),c=s.draw,l=s.batch,d=s.scope,m=[];return t(function(e,t){var r;if(o&&F.raise("context lost"),"function"==typeof e)return d.call(this,null,e,0);if("function"==typeof t)if("number"==typeof e)for(r=0;r<e;++r)d.call(this,null,t,r);else{if(!Array.isArray(e))return d.call(this,e,t,0);for(r=0;r<e.length;++r)d.call(this,e[r],t,r)}else if("number"==typeof e){if(e>0)return l.call(this,function(e){for(;m.length<e;)m.push(null);return m}(0|e),0|e)}else{if(!Array.isArray(e))return c.call(this,e);if(e.length)return l.call(this,e,e.length)}},{stats:u,destroy:function(){s.destroy()}})}j&&(j.addEventListener(gi,M,!1),j.addEventListener(yi,H,!1));var Q=E.setFBO=N({framebuffer:W.define.call(null,xi,"framebuffer")});function Y(e,t){var r=0;O.procs.poll();var n=t.color;n&&(a.clearColor(+n[0]||0,+n[1]||0,+n[2]||0,+n[3]||0),r|=pi),"depth"in t&&(a.clearDepth(+t.depth),r|=hi),"stencil"in t&&(a.clearStencil(0|t.stencil),r|=bi),F(!!r,"called regl.clear with no buffer specified"),a.clear(r)}function X(e){return F.type(e,"function","regl.frame() callback must be a function"),C.push(e),L(),{cancel:function(){var t=_i(C,e);F(t>=0,"cannot cancel a frame twice"),C[t]=function e(){var t=_i(C,e);C[t]=C[C.length-1],C.length-=1,C.length<=0&&R()}}}}function $(){var e=D.viewport,t=D.scissor_box;e[0]=e[1]=t[0]=t[1]=0,v.viewportWidth=v.framebufferWidth=v.drawingBufferWidth=e[2]=t[2]=a.drawingBufferWidth,v.viewportHeight=v.framebufferHeight=v.drawingBufferHeight=e[3]=t[3]=a.drawingBufferHeight}function K(){v.tick+=1,v.time=Z(),$(),O.procs.poll()}function J(){k.refresh(),$(),O.procs.refresh(),m&&m.update()}function Z(){return(G()-p)/1e3}J();var ee=t(N,{clear:function(e){if(F("object"==typeof e&&e,"regl.clear() takes an object as input"),"framebuffer"in e)if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var r=0;r<6;++r)Q(t({framebuffer:e.framebuffer.faces[r]},e),Y);else Q(e,Y);else Y(0,e)},prop:W.define.bind(null,xi),context:W.define.bind(null,wi),this:W.define.bind(null,Ai),draw:N({}),buffer:function(e){return x.create(e,vi,!1,!1)},elements:function(e){return w.create(e,!1)},texture:k.create2D,cube:k.createCube,renderbuffer:S.create,framebuffer:E.create,framebufferCube:E.createCube,vao:A.createVAO,attributes:i,frame:X,on:function(e,t){var r;switch(F.type(t,"function","listener callback must be a function"),e){case"frame":return X(t);case"lost":r=z;break;case"restore":r=B;break;case"destroy":r=V;break;default:F.raise("invalid event, must be one of frame,lost,restore,destroy")}return r.push(t),{cancel:function(){for(var e=0;e<r.length;++e)if(r[e]===t)return r[e]=r[r.length-1],void r.pop()}}},limits:y,hasExtension:function(e){return y.extensions.indexOf(e.toLowerCase())>=0},read:T,destroy:function(){C.length=0,R(),j&&(j.removeEventListener(gi,M),j.removeEventListener(yi,H)),_.clear(),E.clear(),S.clear(),A.clear(),k.clear(),w.clear(),x.clear(),m&&m.clear(),V.forEach(function(e){e()})},_gl:a,_refresh:J,poll:function(){K(),m&&m.update()},now:Z,stats:l});return n.onDone(null,ee),ee}});
},{}],"pBGv":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"ddhD":[function(require,module,exports) {
var define;
var global = arguments[3];
var process = require("process");
var e,t=arguments[3],n=require("process");!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof e&&e.amd?e(n):(t=t||self).State=n()}(this,function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function r(e,t){return e(t={exports:{}},t.exports),t.exports}for(var i,a,o=function(e){return null!=e},s=Object.keys,c=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}()?Object.keys:function(e){return s(o(e)?Object(e):e)},u=Math.max,f="function"==typeof(a=Object.assign)&&(a(i={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),i.foo+i.bar+i.trzy==="razdwatrzy")?Object.assign:function(e,t){var n,r,i,a=u(arguments.length,2);for(e=Object(function(e){if(!o(e))throw new TypeError("Cannot use null or undefined");return e}(e)),i=function(r){try{e[r]=t[r]}catch(r){n||(n=r)}},r=1;r<a;++r)t=arguments[r],c(t).forEach(i);if(void 0!==n)throw n;return e},l=Array.prototype.forEach,h=Object.create,p=function(e){var t=h(null);return l.call(arguments,function(e){o(e)&&function(e,t){var n;for(n in e)t[n]=e[n]}(Object(e),t)}),t},b=function(e){return"function"==typeof e},d="razdwatrzy",v=String.prototype.indexOf,m="function"==typeof d.contains&&!0===d.contains("dwa")&&!1===d.contains("foo")?String.prototype.contains:function(e){return-1<v.call(this,e,arguments[1])},y=r(function(e){(e.exports=function(e,t){var n,r,i,a,o;return arguments.length<2||"string"!=typeof e?(a=t,t=e,e=null):a=arguments[2],null==e?(n=i=!0,r=!1):(n=m.call(e,"c"),r=m.call(e,"e"),i=m.call(e,"w")),o={value:t,configurable:n,enumerable:r,writable:i},a?f(p(a),o):o}).gs=function(e,t,n){var r,i,a,o;return"string"!=typeof e?(a=n,n=t,t=e,e=null):a=arguments[3],null==t?t=void 0:b(t)?null==n?n=void 0:b(n)||(a=n,n=void 0):(a=t,t=n=void 0),i=null==e?!(r=!0):(r=m.call(e,"c"),m.call(e,"e")),o={get:t,set:n,configurable:r,enumerable:i},a?f(p(a),o):o}}),g=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e},w=r(function(e,t){var n,r,i,a,o,s,c,u=Function.prototype.apply,f=Function.prototype.call,l=Object.create,h=Object.defineProperty,p=Object.defineProperties,b=Object.prototype.hasOwnProperty,d={configurable:!0,enumerable:!1,writable:!0};r=function(e,t){var r,a;return g(t),n.call(a=this,e,r=function(){i.call(a,e,r),u.call(t,this,arguments)}),r.__eeOnceListener__=t,this},o={on:n=function(e,t){var n;return g(t),b.call(this,"__ee__")?n=this.__ee__:(n=d.value=l(null),h(this,"__ee__",d),d.value=null),n[e]?"object"==typeof n[e]?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},once:r,off:i=function(e,t){var n,r,i,a;if(g(t),!b.call(this,"__ee__"))return this;if(!(n=this.__ee__)[e])return this;if("object"==typeof(r=n[e]))for(a=0;i=r[a];++a)i!==t&&i.__eeOnceListener__!==t||(2===r.length?n[e]=r[a?0:1]:r.splice(a,1));else r!==t&&r.__eeOnceListener__!==t||delete n[e];return this},emit:a=function(e){var t,n,r,i,a;if(b.call(this,"__ee__")&&(i=this.__ee__[e]))if("object"==typeof i){for(n=arguments.length,a=new Array(n-1),t=1;t<n;++t)a[t-1]=arguments[t];for(i=i.slice(),t=0;r=i[t];++t)u.call(r,this,a)}else switch(arguments.length){case 1:f.call(i,this);break;case 2:f.call(i,this,arguments[1]);break;case 3:f.call(i,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,a=new Array(n-1),t=1;t<n;++t)a[t-1]=arguments[t];u.call(i,this,a)}}},s={on:y(n),once:y(r),off:y(i),emit:y(a)},c=p({},s),e.exports=t=function(e){return null==e?l(c):p(Object(e),s)},t.methods=o}),j=(w.methods,r(function(t){(function(){var e,r,i,a,o,s;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:null!=n&&n.hrtime?(t.exports=function(){return(e()-o)/1e6},r=n.hrtime,a=(e=function(){var e;return 1e9*(e=r())[0]+e[1]})(),s=1e9*n.uptime(),o=a-s):i=Date.now?(t.exports=function(){return Date.now()-i},Date.now()):(t.exports=function(){return(new Date).getTime()-i},(new Date).getTime())}).call(e)})),_="undefined"==typeof window?e:window,O=["moz","webkit"],C="AnimationFrame",x=_["request"+C],P=_["cancel"+C]||_["cancelRequest"+C],U=0;!x&&U<O.length;U++)x=_[O[U]+"Request"+C],P=_[O[U]+"Cancel"+C]||_[O[U]+"CancelRequest"+C];if(!x||!P){var $=0,k=0,B=[];x=function(e){if(0===B.length){var t=j(),n=Math.max(0,1e3/60-(t-$));$=n+t,setTimeout(function(){for(var e=B.slice(0),t=B.length=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback($)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return B.push({handle:++k,callback:e,cancelled:!1}),k},P=function(e){for(var t=0;t<B.length;t++)B[t].handle===e&&(B[t].cancelled=!0)}}var E=function(e){return x.call(_,e)};E.cancel=function(){P.apply(_,arguments)},E.polyfill=function(e){e||(e=_),e.requestAnimationFrame=x,e.cancelAnimationFrame=P};var T=M;function M(e,t,n,r){if(/\./.test(e))throw new Error("Field names may not contain a period");r=r||{};var i=t;this.parent=n||null,this.events=new w,this.type=null,this.name=e,this.batchedUpdates={},this.batchUpdatePaths=[],this.batchUpdateRaf=null,Object.defineProperties(this,{$field:{enumerable:!1,value:this},$config:{enumerable:!1,value:r},value:{get:function(){return i},set:function(e){var t={field:this,name:this.name,path:this.path,fullPath:this.path,oldValue:i,value:e},n=[],r=this;do{t.path=n.join(".");var a={};a[t.path||this.name]=Object.assign({},t),r.events.emit&&(r.events.emit("beforeChange",Object.assign({},t)),r.events.emit("beforeChanges",a)),r._batchEmit&&r._batchEmit(t.path,Object.assign({},t)),n.unshift(r.name)}while(r=r.parent);i=e}},path:{enumerable:!0,get:function(){var e=(this.parent||{}).path;return this.name?(e?e+".":"")+this.name:null}}})}M.prototype={onBeforeChange:function(e){return this.events.on("beforeChange",e),this},offBeforeChange:function(e){return this.events.off("beforeChange",e),this},onBeforeChanges:function(e){return this.events.on("beforeChanges",e),this},offBeforeChanges:function(e){return this.events.off("beforeChanges",e),this},onChange:function(e){return this.events.on("change",e),this},offChange:function(e){return this.events.off("change",e),this},onChanges:function(e){return this.events.on("changes",e),this},offChanges:function(e){return this.events.off("changes",e),this},_emitUpdate:function(){for(this.events.emit("changes",Object.assign({},this.batchedUpdates));this.batchUpdatePaths.length;)for(var e=Object.keys(this.batchedUpdates),t=0;t<e.length;t++){var n=this.batchedUpdates[e[t]],r=this.batchUpdatePaths.pop();this.events.emit("change",n),this.events.emit("change:"+r,n)}this.batchedUpdates={},this.batchUpdateRaf=null},_batchEmit:function(e,t){var n=this.batchedUpdates[t.path];n&&(t.oldValue=n.oldValue),this.batchUpdatePaths.push(e),this.batchedUpdates[e]=t,this.batchUpdateRaf||(this.batchUpdateRaf=E(this._emitUpdate.bind(this)))}};var z=F;function F(e,t,n,r){if(!(this instanceof F))return new F(e,t,n,r);T.call(this,e,t,r,n),this.type="raw"}F.prototype=Object.create(T.prototype);var A=D;function R(e){return e}function D(e,t,n,r){if(!(this instanceof D))return new D(e,t,n,r);t=void 0===t?0:t,n=n||{},T.call(this,e,t,r,n);var i=0<=t&&t<=1,a=i?0:Math.min(2*t,0),o=i?1:Math.max(2*t,1);this.min=void 0===n.min?a:n.min,this.max=void 0===n.max?o:n.max,this.mapping="function"!=typeof n.mapping?R:n.mapping,this.inverseMapping="function"!=typeof n.inverseMapping?R:n.inverseMapping,this.steps=10,void 0!==n.steps?this.steps=n.steps:void 0!==n.step&&(this.steps=Math.round((this.max-this.min)/n.step)),this.type="slider"}D.prototype=Object.create(T.prototype);var q=S;function S(e,t,n,r){if(!(this instanceof S))return new S(e,t,n,r);T.call(this,e,t,r,n),this.type="button"}S.prototype=Object.create(T.prototype);var L=V;function V(e,t,n,r){if(!(this instanceof V))return new V(e,t,n,r);t=void 0===t?"":t,T.call(this,e,t,r,n),this.type="textinput"}V.prototype=Object.create(T.prototype);var H=Y;function Y(e,t,n,r){if(!(this instanceof Y))return new Y(e,t,n);t=void 0===t?"#ffffff":t,T.call(this,e,t,r,n),this.type="color"}Y.prototype=Object.create(T.prototype);var G=I;function I(e,t,n,r){if(!(this instanceof I))return new I(e,t,n,r);t=void 0===t||!!t,T.call(this,e,t,r,n),this.type="checkbox"}I.prototype=Object.create(T.prototype);var J="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},K=/(#(?:[0-9a-fA-F]{2,4}){2,4}|(#[0-9a-fA-F]{3})|(rgb|hsl)a?((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?))/,N=function(e){if(e&&e.type)return e.type+"field";if(function(e){return J.Element&&e instanceof J.Element||J.HTMLDocument&&e instanceof J.HTMLDocument}(e))return"rawfield";if("function"==typeof e)return"button";switch(typeof e){case"string":return K.test(e)?"color":"textinput";case"number":return"number";case"boolean":return"boolean";case"raw":return"raw";case"button":return"button";case"object":return"object"}},Q=W;function W(e,t,n,r){var i=this;n=n||{};var a={},o={},s={};T.call(this,e,s,r,n),this.type="section",Object.defineProperty(o,"$field",{enumerable:!1,value:this}),Object.defineProperties(s,{$field:{enumerable:!1,value:this},$path:{enumerable:!1,value:o},$displayFields:{enumerable:!1,value:a}}),Object.keys(t).forEach(function(e){var n=a[e]=function(e,t,n){switch(N(t)){case"rawfield":case"buttonfield":case"colorfield":case"textfield":case"sliderfield":case"selectfield":case"rangesliderfield":case"checkboxfield":case"sectionfield":case"tabsfield":if(t.path)throw new Error("You may only add an field to a set of controls once.");return t.$field.parent=n,t.name=e,t;case"color":return new H(e,t,{},n);case"raw":return new z(e,t,{},n);case"button":return new q(e,t,{},n);case"textinput":return new L(e,t,{},n);case"number":return new A(e,t,{},n);case"boolean":return new G(e,t,{},n);case"object":return new W(e,t,{},n);default:return null}}(e,t[e],i),r=n.$config;if("raw"===n.type||"button"===n.type){var c=void 0!==r.enumerable&&!!r.enumerable;Object.defineProperty(s,e,{enumerable:c,get:function(){return n.value}}),Object.defineProperty(o,e,{enumerable:c,get:function(){return n}})}else"section"===n.type||"tabs"===n.type?(c=void 0===r.enumerable||!!r.enumerable,Object.defineProperty(s,e,{enumerable:c,value:n.value}),Object.defineProperty(o,e,{enumerable:c,value:n.value.$path})):(c=void 0===r.enumerable||!!r.enumerable,Object.defineProperty(s,e,{enumerable:c,get:function(){return n.value},set:function(e){n.value=e}}),Object.defineProperty(o,e,{enumerable:c,get:function(){return n}}))}),Object.defineProperties(s,{$onBeforeChanges:{enumerable:!1,value:this.onBeforeChanges.bind(this)},$onBeforeChange:{enumerable:!1,value:this.onBeforeChange.bind(this)},$offBeforeChanges:{enumerable:!1,value:this.offBeforeChanges.bind(this)},$offBeforeChange:{enumerable:!1,value:this.offBeforeChange.bind(this)},$onChanges:{enumerable:!1,value:this.onChanges.bind(this)},$onChange:{enumerable:!1,value:this.onChange.bind(this)},$offChanges:{enumerable:!1,value:this.offChanges.bind(this)},$offChange:{enumerable:!1,value:this.offChange.bind(this)}})}W.prototype=Object.create(T.prototype);var X=function(e,t,n,r){var i=new Q(e,t,n,r);return i.type="tabs",i},Z=ee;function ee(e,t,n,r){if(!(this instanceof ee))return new ee(e,t,n,r);t=void 0===t?null:t,T.call(this,e,t,r,n),this.options=n.options,this.type="select"}function te(e,t){return new Q("",e,t).value}return ee.prototype=Object.create(T.prototype),te.Slider=function(e,t){return new A(null,e,t)},te.Textinput=function(e,t){return new L(null,e,t)},te.Select=function(e,t){return new Z(null,e,t)},te.Checkbox=function(e,t){return new G(null,e,t)},te.Color=function(e,t){return new H(null,e,t)},te.Section=function(e,t){return new Q(null,e,t)},te.Tabs=function(e,t){return new X(null,e,t)},te.Raw=function(e,t){return new z(null,e,t)},te});
},{"process":"pBGv"}],"yh9p":[function(require,module,exports) {
"use strict";exports.byteLength=u,exports.toByteArray=i,exports.fromByteArray=d;for(var r=[],t=[],e="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=n.length;o<a;++o)r[o]=n[o],t[n.charCodeAt(o)]=o;function h(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");return-1===e&&(e=t),[e,e===t?0:4-e%4]}function u(r){var t=h(r),e=t[0],n=t[1];return 3*(e+n)/4-n}function c(r,t,e){return 3*(t+e)/4-e}function i(r){var n,o,a=h(r),u=a[0],i=a[1],f=new e(c(r,u,i)),A=0,d=i>0?u-4:u;for(o=0;o<d;o+=4)n=t[r.charCodeAt(o)]<<18|t[r.charCodeAt(o+1)]<<12|t[r.charCodeAt(o+2)]<<6|t[r.charCodeAt(o+3)],f[A++]=n>>16&255,f[A++]=n>>8&255,f[A++]=255&n;return 2===i&&(n=t[r.charCodeAt(o)]<<2|t[r.charCodeAt(o+1)]>>4,f[A++]=255&n),1===i&&(n=t[r.charCodeAt(o)]<<10|t[r.charCodeAt(o+1)]<<4|t[r.charCodeAt(o+2)]>>2,f[A++]=n>>8&255,f[A++]=255&n),f}function f(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function A(r,t,e){for(var n,o=[],a=t;a<e;a+=3)n=(r[a]<<16&16711680)+(r[a+1]<<8&65280)+(255&r[a+2]),o.push(f(n));return o.join("")}function d(t){for(var e,n=t.length,o=n%3,a=[],h=0,u=n-o;h<u;h+=16383)a.push(A(t,h,h+16383>u?u:h+16383));return 1===o?(e=t[n-1],a.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],a.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),a.join("")}t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63;
},{}],"JgNJ":[function(require,module,exports) {
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:1/0*(s?-1:1);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),(o+=p+N>=1?n/f:n*Math.pow(2,1-N))*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};
},{}],"REa7":[function(require,module,exports) {
var r={}.toString;module.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)};
},{}],"dskh":[function(require,module,exports) {

var global = arguments[3];
var t=arguments[3],r=require("base64-js"),e=require("ieee754"),n=require("isarray");function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(r){return!1}}function o(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,r){if(o()<r)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r)).__proto__=f.prototype:(null===t&&(t=new f(r)),t.length=r),t}function f(t,r,e){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(t,r,e);if("number"==typeof t){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return s(this,t,r,e)}function s(t,r,e,n){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?g(t,r,e,n):"string"==typeof r?l(t,r,e):y(t,r)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function a(t,r,e,n){return h(r),r<=0?u(t,r):void 0!==e?"string"==typeof n?u(t,r).fill(e,n):u(t,r).fill(e):u(t,r)}function c(t,r){if(h(r),t=u(t,r<0?0:0|w(r)),!f.TYPED_ARRAY_SUPPORT)for(var e=0;e<r;++e)t[e]=0;return t}function l(t,r,e){if("string"==typeof e&&""!==e||(e="utf8"),!f.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=0|v(r,e),i=(t=u(t,n)).write(r,e);return i!==n&&(t=t.slice(0,i)),t}function p(t,r){var e=r.length<0?0:0|w(r.length);t=u(t,e);for(var n=0;n<e;n+=1)t[n]=255&r[n];return t}function g(t,r,e,n){if(r.byteLength,e<0||r.byteLength<e)throw new RangeError("'offset' is out of bounds");if(r.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");return r=void 0===e&&void 0===n?new Uint8Array(r):void 0===n?new Uint8Array(r,e):new Uint8Array(r,e,n),f.TYPED_ARRAY_SUPPORT?(t=r).__proto__=f.prototype:t=p(t,r),t}function y(t,r){if(f.isBuffer(r)){var e=0|w(r.length);return 0===(t=u(t,e)).length?t:(r.copy(t,0,0,e),t)}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||W(r.length)?u(t,0):p(t,r);if("Buffer"===r.type&&n(r.data))return p(t,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function w(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function d(t){return+t!=t&&(t=0),f.alloc(+t)}function v(t,r){if(f.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var e=t.length;if(0===e)return 0;for(var n=!1;;)switch(r){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return K(t).length;default:if(n)return $(t).length;r=(""+r).toLowerCase(),n=!0}}function E(t,r,e){var n=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if((e>>>=0)<=(r>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return x(this,r,e);case"utf8":case"utf-8":return Y(this,r,e);case"ascii":return L(this,r,e);case"latin1":case"binary":return D(this,r,e);case"base64":return S(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,r,e);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function b(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function R(t,r,e,n,i){if(0===t.length)return-1;if("string"==typeof e?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(i)return-1;e=t.length-1}else if(e<0){if(!i)return-1;e=0}if("string"==typeof r&&(r=f.from(r,n)),f.isBuffer(r))return 0===r.length?-1:_(t,r,e,n,i);if("number"==typeof r)return r&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,r,e):Uint8Array.prototype.lastIndexOf.call(t,r,e):_(t,[r],e,n,i);throw new TypeError("val must be string, number or Buffer")}function _(t,r,e,n,i){var o,u=1,f=t.length,s=r.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||r.length<2)return-1;u=2,f/=2,s/=2,e/=2}function h(t,r){return 1===u?t[r]:t.readUInt16BE(r*u)}if(i){var a=-1;for(o=e;o<f;o++)if(h(t,o)===h(r,-1===a?0:o-a)){if(-1===a&&(a=o),o-a+1===s)return a*u}else-1!==a&&(o-=o-a),a=-1}else for(e+s>f&&(e=f-s),o=e;o>=0;o--){for(var c=!0,l=0;l<s;l++)if(h(t,o+l)!==h(r,l)){c=!1;break}if(c)return o}return-1}function A(t,r,e,n){e=Number(e)||0;var i=t.length-e;n?(n=Number(n))>i&&(n=i):n=i;var o=r.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var u=0;u<n;++u){var f=parseInt(r.substr(2*u,2),16);if(isNaN(f))return u;t[e+u]=f}return u}function m(t,r,e,n){return Q($(r,t.length-e),t,e,n)}function P(t,r,e,n){return Q(G(r),t,e,n)}function T(t,r,e,n){return P(t,r,e,n)}function B(t,r,e,n){return Q(K(r),t,e,n)}function U(t,r,e,n){return Q(H(r,t.length-e),t,e,n)}function S(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function Y(t,r,e){e=Math.min(t.length,e);for(var n=[],i=r;i<e;){var o,u,f,s,h=t[i],a=null,c=h>239?4:h>223?3:h>191?2:1;if(i+c<=e)switch(c){case 1:h<128&&(a=h);break;case 2:128==(192&(o=t[i+1]))&&(s=(31&h)<<6|63&o)>127&&(a=s);break;case 3:o=t[i+1],u=t[i+2],128==(192&o)&&128==(192&u)&&(s=(15&h)<<12|(63&o)<<6|63&u)>2047&&(s<55296||s>57343)&&(a=s);break;case 4:o=t[i+1],u=t[i+2],f=t[i+3],128==(192&o)&&128==(192&u)&&128==(192&f)&&(s=(15&h)<<18|(63&o)<<12|(63&u)<<6|63&f)>65535&&s<1114112&&(a=s)}null===a?(a=65533,c=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=c}return O(n)}exports.Buffer=f,exports.SlowBuffer=d,exports.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:i(),exports.kMaxLength=o(),f.poolSize=8192,f._augment=function(t){return t.__proto__=f.prototype,t},f.from=function(t,r,e){return s(null,t,r,e)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(t,r,e){return a(null,t,r,e)},f.allocUnsafe=function(t){return c(null,t)},f.allocUnsafeSlow=function(t){return c(null,t)},f.isBuffer=function(t){return!(null==t||!t._isBuffer)},f.compare=function(t,r){if(!f.isBuffer(t)||!f.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var e=t.length,n=r.length,i=0,o=Math.min(e,n);i<o;++i)if(t[i]!==r[i]){e=t[i],n=r[i];break}return e<n?-1:n<e?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,r){if(!n(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);var e;if(void 0===r)for(r=0,e=0;e<t.length;++e)r+=t[e].length;var i=f.allocUnsafe(r),o=0;for(e=0;e<t.length;++e){var u=t[e];if(!f.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(i,o),o+=u.length}return i},f.byteLength=v,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)b(this,r,r+1);return this},f.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)b(this,r,r+3),b(this,r+1,r+2);return this},f.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)b(this,r,r+7),b(this,r+1,r+6),b(this,r+2,r+5),b(this,r+3,r+4);return this},f.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Y(this,0,t):E.apply(this,arguments)},f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){var t="",r=exports.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},f.prototype.compare=function(t,r,e,n,i){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===e&&(e=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),r<0||e>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&r>=e)return 0;if(n>=i)return-1;if(r>=e)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),u=(e>>>=0)-(r>>>=0),s=Math.min(o,u),h=this.slice(n,i),a=t.slice(r,e),c=0;c<s;++c)if(h[c]!==a[c]){o=h[c],u=a[c];break}return o<u?-1:u<o?1:0},f.prototype.includes=function(t,r,e){return-1!==this.indexOf(t,r,e)},f.prototype.indexOf=function(t,r,e){return R(this,t,r,e,!0)},f.prototype.lastIndexOf=function(t,r,e){return R(this,t,r,e,!1)},f.prototype.write=function(t,r,e,n){if(void 0===r)n="utf8",e=this.length,r=0;else if(void 0===e&&"string"==typeof r)n=r,e=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0,isFinite(e)?(e|=0,void 0===n&&(n="utf8")):(n=e,e=void 0)}var i=this.length-r;if((void 0===e||e>i)&&(e=i),t.length>0&&(e<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return A(this,t,r,e);case"utf8":case"utf-8":return m(this,t,r,e);case"ascii":return P(this,t,r,e);case"latin1":case"binary":return T(this,t,r,e);case"base64":return B(this,t,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,r,e);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function O(t){var r=t.length;if(r<=I)return String.fromCharCode.apply(String,t);for(var e="",n=0;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=I));return e}function L(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(127&t[i]);return n}function D(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(t[i]);return n}function x(t,r,e){var n=t.length;(!r||r<0)&&(r=0),(!e||e<0||e>n)&&(e=n);for(var i="",o=r;o<e;++o)i+=Z(t[o]);return i}function C(t,r,e){for(var n=t.slice(r,e),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function M(t,r,e){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+r>e)throw new RangeError("Trying to access beyond buffer length")}function k(t,r,e,n,i,o){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<o)throw new RangeError('"value" argument is out of bounds');if(e+n>t.length)throw new RangeError("Index out of range")}function N(t,r,e,n){r<0&&(r=65535+r+1);for(var i=0,o=Math.min(t.length-e,2);i<o;++i)t[e+i]=(r&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function z(t,r,e,n){r<0&&(r=4294967295+r+1);for(var i=0,o=Math.min(t.length-e,4);i<o;++i)t[e+i]=r>>>8*(n?i:3-i)&255}function F(t,r,e,n,i,o){if(e+n>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function j(t,r,n,i,o){return o||F(t,r,n,4,3.4028234663852886e38,-3.4028234663852886e38),e.write(t,r,n,i,23,4),n+4}function q(t,r,n,i,o){return o||F(t,r,n,8,1.7976931348623157e308,-1.7976931348623157e308),e.write(t,r,n,i,52,8),n+8}f.prototype.slice=function(t,r){var e,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(r=void 0===r?n:~~r)<0?(r+=n)<0&&(r=0):r>n&&(r=n),r<t&&(r=t),f.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,r)).__proto__=f.prototype;else{var i=r-t;e=new f(i,void 0);for(var o=0;o<i;++o)e[o]=this[o+t]}return e},f.prototype.readUIntLE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n},f.prototype.readUIntBE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t+--r],i=1;r>0&&(i*=256);)n+=this[t+--r]*i;return n},f.prototype.readUInt8=function(t,r){return r||M(t,1,this.length),this[t]},f.prototype.readUInt16LE=function(t,r){return r||M(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUInt16BE=function(t,r){return r||M(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUInt32LE=function(t,r){return r||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUInt32BE=function(t,r){return r||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readIntLE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*r)),n},f.prototype.readIntBE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=r,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*r)),o},f.prototype.readInt8=function(t,r){return r||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,r){r||M(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt16BE=function(t,r){r||M(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt32LE=function(t,r){return r||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,r){return r||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readFloatLE=function(t,r){return r||M(t,4,this.length),e.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,r){return r||M(t,4,this.length),e.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,r){return r||M(t,8,this.length),e.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,r){return r||M(t,8,this.length),e.read(this,t,!1,52,8)},f.prototype.writeUIntLE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||k(this,t,r,e,Math.pow(2,8*e)-1,0);var i=1,o=0;for(this[r]=255&t;++o<e&&(i*=256);)this[r+o]=t/i&255;return r+e},f.prototype.writeUIntBE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||k(this,t,r,e,Math.pow(2,8*e)-1,0);var i=e-1,o=1;for(this[r+i]=255&t;--i>=0&&(o*=256);)this[r+i]=t/o&255;return r+e},f.prototype.writeUInt8=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,1,255,0),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},f.prototype.writeUInt16LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},f.prototype.writeUInt16BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},f.prototype.writeUInt32LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):z(this,t,r,!0),r+4},f.prototype.writeUInt32BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):z(this,t,r,!1),r+4},f.prototype.writeIntLE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);k(this,t,r,e,i-1,-i)}var o=0,u=1,f=0;for(this[r]=255&t;++o<e&&(u*=256);)t<0&&0===f&&0!==this[r+o-1]&&(f=1),this[r+o]=(t/u>>0)-f&255;return r+e},f.prototype.writeIntBE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);k(this,t,r,e,i-1,-i)}var o=e-1,u=1,f=0;for(this[r+o]=255&t;--o>=0&&(u*=256);)t<0&&0===f&&0!==this[r+o+1]&&(f=1),this[r+o]=(t/u>>0)-f&255;return r+e},f.prototype.writeInt8=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,1,127,-128),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=255&t,r+1},f.prototype.writeInt16LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},f.prototype.writeInt16BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},f.prototype.writeInt32LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):z(this,t,r,!0),r+4},f.prototype.writeInt32BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):z(this,t,r,!1),r+4},f.prototype.writeFloatLE=function(t,r,e){return j(this,t,r,!0,e)},f.prototype.writeFloatBE=function(t,r,e){return j(this,t,r,!1,e)},f.prototype.writeDoubleLE=function(t,r,e){return q(this,t,r,!0,e)},f.prototype.writeDoubleBE=function(t,r,e){return q(this,t,r,!1,e)},f.prototype.copy=function(t,r,e,n){if(e||(e=0),n||0===n||(n=this.length),r>=t.length&&(r=t.length),r||(r=0),n>0&&n<e&&(n=e),n===e)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-r<n-e&&(n=t.length-r+e);var i,o=n-e;if(this===t&&e<r&&r<n)for(i=o-1;i>=0;--i)t[i+r]=this[i+e];else if(o<1e3||!f.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+r]=this[i+e];else Uint8Array.prototype.set.call(t,this.subarray(e,e+o),r);return o},f.prototype.fill=function(t,r,e,n){if("string"==typeof t){if("string"==typeof r?(n=r,r=0,e=this.length):"string"==typeof e&&(n=e,e=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(r<0||this.length<r||this.length<e)throw new RangeError("Out of range index");if(e<=r)return this;var o;if(r>>>=0,e=void 0===e?this.length:e>>>0,t||(t=0),"number"==typeof t)for(o=r;o<e;++o)this[o]=t;else{var u=f.isBuffer(t)?t:$(new f(t,n).toString()),s=u.length;for(o=0;o<e-r;++o)this[o+r]=u[o%s]}return this};var V=/[^+\/0-9A-Za-z-_]/g;function X(t){if((t=J(t).replace(V,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function J(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Z(t){return t<16?"0"+t.toString(16):t.toString(16)}function $(t,r){var e;r=r||1/0;for(var n=t.length,i=null,o=[],u=0;u<n;++u){if((e=t.charCodeAt(u))>55295&&e<57344){if(!i){if(e>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(u+1===n){(r-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(r-=3)>-1&&o.push(239,191,189),i=e;continue}e=65536+(i-55296<<10|e-56320)}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((r-=1)<0)break;o.push(e)}else if(e<2048){if((r-=2)<0)break;o.push(e>>6|192,63&e|128)}else if(e<65536){if((r-=3)<0)break;o.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return o}function G(t){for(var r=[],e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}function H(t,r){for(var e,n,i,o=[],u=0;u<t.length&&!((r-=2)<0);++u)n=(e=t.charCodeAt(u))>>8,i=e%256,o.push(i),o.push(n);return o}function K(t){return r.toByteArray(X(t))}function Q(t,r,e,n){for(var i=0;i<n&&!(i+e>=r.length||i>=t.length);++i)r[i+e]=t[i];return i}function W(t){return t!=t}
},{"base64-js":"yh9p","ieee754":"JgNJ","isarray":"REa7","buffer":"dskh"}],"tfm5":[function(require,module,exports) {
var define;
var Buffer = require("buffer").Buffer;
var e,n=require("buffer").Buffer;!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof e&&e.amd?e(t):(n=n||self).wrapGUI=t()}(this,function(){"use strict";var e=function(){},t={},o=[],r=[];function i(n,i){var l,a,s,d,c=r;for(d=arguments.length;2<d--;)o.push(arguments[d]);for(i&&null!=i.children&&(o.length||o.push(i.children),delete i.children);o.length;)if((a=o.pop())&&void 0!==a.pop)for(d=a.length;d--;)o.push(a[d]);else"boolean"==typeof a&&(a=null),(s="function"!=typeof n)&&(null==a?a="":"number"==typeof a?a=String(a):"string"!=typeof a&&(s=!1)),s&&l?c[c.length-1]+=a:c===r?c=[a]:c.push(a),l=s;var p=new e;return p.nodeName=n,p.children=c,p.attributes=null==i?void 0:i,p.key=null==i?void 0:i.key,void 0!==t.vnode&&t.vnode(p),p}function l(e,n){for(var t in n)e[t]=n[t];return e}function a(e,n){null!=e&&("function"==typeof e?e(n):e.current=n)}var s="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function d(e,n){return i(e.nodeName,l(l({},e.attributes),n),2<arguments.length?[].slice.call(arguments,2):e.children)}var c=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,p=[];function u(e){!e._dirty&&(e._dirty=!0)&&1==p.push(e)&&(t.debounceRendering||s)(f)}function f(){for(var e;e=p.pop();)e._dirty&&T(e)}function h(e,n){return e.normalizedNodeName===n||e.nodeName.toLowerCase()===n.toLowerCase()}function g(e){var n=l({},e.attributes);n.children=e.children;var t=e.nodeName.defaultProps;if(void 0!==t)for(var o in t)void 0===n[o]&&(n[o]=t[o]);return n}function m(e){var n=e.parentNode;n&&n.removeChild(e)}function _(e,n,t,o,r){if("className"===n&&(n="class"),"key"===n);else if("ref"===n)a(t,null),a(o,e);else if("class"!==n||r)if("style"===n){if(o&&"string"!=typeof o&&"string"!=typeof t||(e.style.cssText=o||""),o&&"object"==typeof o){if("string"!=typeof t)for(var i in t)i in o||(e.style[i]="");for(var i in o)e.style[i]="number"==typeof o[i]&&!1===c.test(i)?o[i]+"px":o[i]}}else if("dangerouslySetInnerHTML"===n)o&&(e.innerHTML=o.__html||"");else if("o"==n[0]&&"n"==n[1]){var l=n!==(n=n.replace(/Capture$/,""));n=n.toLowerCase().substring(2),o?t||e.addEventListener(n,b,l):e.removeEventListener(n,b,l),(e._listeners||(e._listeners={}))[n]=o}else if("list"!==n&&"type"!==n&&!r&&n in e){try{e[n]=null==o?"":o}catch(e){}null!=o&&!1!==o||"spellcheck"==n||e.removeAttribute(n)}else{var s=r&&n!==(n=n.replace(/^xlink:?/,""));null==o||!1===o?s?e.removeAttributeNS("http://www.w3.org/1999/xlink",n.toLowerCase()):e.removeAttribute(n):"function"!=typeof o&&(s?e.setAttributeNS("http://www.w3.org/1999/xlink",n.toLowerCase(),o):e.setAttribute(n,o))}else e.className=o||""}function b(e){return this._listeners[e.type](t.event&&t.event(e)||e)}var v=[],x=0,y=!1,C=!1;function w(){for(var e;e=v.shift();)t.afterMount&&t.afterMount(e),e.componentDidMount&&e.componentDidMount()}function k(e,n,t,o,r,i){x++||(y=null!=r&&void 0!==r.ownerSVGElement,C=null!=e&&!("__preactattr_"in e));var l=function e(n,t,o,r,i){var l=n,a=y;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return n&&void 0!==n.splitText&&n.parentNode&&(!n._component||i)?n.nodeValue!=t&&(n.nodeValue=t):(l=document.createTextNode(t),n&&(n.parentNode&&n.parentNode.replaceChild(l,n),H(n,!0))),l.__preactattr_=!0,l;var s=t.nodeName;if("function"==typeof s)return function(e,n,t,o){for(var r=e&&e._component,i=r,l=e,a=r&&e._componentConstructor===n.nodeName,s=a,d=g(n);r&&!s&&(r=r._parentComponent);)s=r.constructor===n.nodeName;return r&&s&&(!o||r._component)?(F(r,d,3,t,o),e=r.base):(i&&!a&&(j(i),e=l=null),r=S(n.nodeName,d,t),e&&!r.nextBase&&(r.nextBase=e,l=null),F(r,d,1,t,o),e=r.base,l&&e!==l&&(l._component=null,H(l,!1))),e}(n,t,o,r);if(y="svg"===s||"foreignObject"!==s&&y,s=String(s),(!n||!h(n,s))&&(l=function(e,n){var t=n?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return t.normalizedNodeName=e,t}(s,y),n)){for(;n.firstChild;)l.appendChild(n.firstChild);n.parentNode&&n.parentNode.replaceChild(l,n),H(n,!0)}var d=l.firstChild,c=l.__preactattr_,p=t.children;if(null==c){c=l.__preactattr_={};for(var u=l.attributes,f=u.length;f--;)c[u[f].name]=u[f].value}return!C&&p&&1===p.length&&"string"==typeof p[0]&&null!=d&&void 0!==d.splitText&&null==d.nextSibling?d.nodeValue!=p[0]&&(d.nodeValue=p[0]):(p&&p.length||null!=d)&&function(n,t,o,r,i){var l,a,s,d,c,p,u,f,g=n.childNodes,_=[],b={},v=0,x=0,y=g.length,C=0,w=t?t.length:0;if(0!==y)for(var k=0;k<y;k++){var N=g[k],B=N.__preactattr_,S=w&&B?N._component?N._component.__key:B.key:null;null!=S?(v++,b[S]=N):(B||(void 0!==N.splitText?!i||N.nodeValue.trim():i))&&(_[C++]=N)}if(0!==w)for(var k=0;k<w;k++){d=t[k],c=null;var S=d.key;if(null!=S)v&&void 0!==b[S]&&(c=b[S],b[S]=void 0,v--);else if(x<C)for(l=x;l<C;l++)if(void 0!==_[l]&&(p=a=_[l],f=i,"string"==typeof(u=d)||"number"==typeof u?void 0!==p.splitText:"string"==typeof u.nodeName?!p._componentConstructor&&h(p,u.nodeName):f||p._componentConstructor===u.nodeName)){c=a,_[l]=void 0,l===C-1&&C--,l===x&&x++;break}c=e(c,d,o,r),s=g[k],c&&c!==n&&c!==s&&(null==s?n.appendChild(c):c===s.nextSibling?m(s):n.insertBefore(c,s))}if(v)for(var k in b)void 0!==b[k]&&H(b[k],!1);for(;x<=C;)void 0!==(c=_[C--])&&H(c,!1)}(l,p,o,r,C||null!=c.dangerouslySetInnerHTML),function(e,n,t){var o;for(o in t)n&&null!=n[o]||null==t[o]||_(e,o,t[o],t[o]=void 0,y);for(o in n)"children"===o||"innerHTML"===o||o in t&&n[o]===("value"===o||"checked"===o?e[o]:t[o])||_(e,o,t[o],t[o]=n[o],y)}(l,t.attributes,c),y=a,l}(e,n,t,o,i);return r&&l.parentNode!==r&&r.appendChild(l),--x||(C=!1,i||w()),l}function H(e,n){var t=e._component;t?j(t):(null!=e.__preactattr_&&a(e.__preactattr_.ref,null),!1!==n&&null!=e.__preactattr_||m(e),N(e))}function N(e){for(e=e.lastChild;e;){var n=e.previousSibling;H(e,!0),e=n}}var B=[];function S(e,n,t){var o,r=B.length;for(e.prototype&&e.prototype.render?(o=new e(n,t),E.call(o,n,t)):((o=new E(n,t)).constructor=e,o.render=z);r--;)if(B[r].constructor===e)return o.nextBase=B[r].nextBase,B.splice(r,1),o;return o}function z(e,n,t){return this.constructor(e,t)}function F(e,n,o,r,i){e._disable||(e._disable=!0,e.__ref=n.ref,e.__key=n.key,delete n.ref,delete n.key,void 0===e.constructor.getDerivedStateFromProps&&(!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r)),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=n,e._disable=!1,0!==o&&(1!==o&&!1===t.syncComponentUpdates&&e.base?u(e):T(e,1,i)),a(e.__ref,e))}function T(e,n,o,r){if(!e._disable){var i,a,s,d=e.props,c=e.state,p=e.context,u=e.prevProps||d,f=e.prevState||c,h=e.prevContext||p,m=e.base,_=e.nextBase,b=m||_,y=e._component,C=!1,N=h;if(e.constructor.getDerivedStateFromProps&&(c=l(l({},c),e.constructor.getDerivedStateFromProps(d,c)),e.state=c),m&&(e.props=u,e.state=f,e.context=h,2!==n&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(d,c,p)?C=!0:e.componentWillUpdate&&e.componentWillUpdate(d,c,p),e.props=d,e.state=c,e.context=p),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!C){i=e.render(d,c,p),e.getChildContext&&(p=l(l({},p),e.getChildContext())),m&&e.getSnapshotBeforeUpdate&&(N=e.getSnapshotBeforeUpdate(u,f));var B,z,E=i&&i.nodeName;if("function"==typeof E){var R=g(i);(a=y)&&a.constructor===E&&R.key==a.__key?F(a,R,1,p,!1):(B=a,e._component=a=S(E,R,p),a.nextBase=a.nextBase||_,a._parentComponent=e,F(a,R,0,p,!1),T(a,1,o,!0)),z=a.base}else s=b,(B=y)&&(s=e._component=null),(b||1===n)&&(s&&(s._component=null),z=k(s,i,p,o||!m,b&&b.parentNode,!0));if(b&&z!==b&&a!==y){var U=b.parentNode;U&&z!==U&&(U.replaceChild(z,b),B||(b._component=null,H(b,!1)))}if(B&&j(B),(e.base=z)&&!r){for(var L=e,P=e;P=P._parentComponent;)(L=P).base=z;z._component=L,z._componentConstructor=L.constructor}}for(!m||o?v.push(e):C||(e.componentDidUpdate&&e.componentDidUpdate(u,f,N),t.afterUpdate&&t.afterUpdate(e));e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);x||r||w()}}function j(e){t.beforeUnmount&&t.beforeUnmount(e);var n=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var o=e._component;o?j(o):n&&(null!=n.__preactattr_&&a(n.__preactattr_.ref,null),m(e.nextBase=n),B.push(e),N(n)),a(e.__ref,null)}function E(e,n){this._dirty=!0,this.context=n,this.props=e,this.state=this.state||{},this._renderCallbacks=[]}function R(e,n,t){return k(t,e,{},!1,n,!1)}function U(){return{}}l(E.prototype,{setState:function(e,n){this.prevState||(this.prevState=this.state),this.state=l(l({},this.state),"function"==typeof e?e(this.state,this.props):e),n&&this._renderCallbacks.push(n),u(this)},forceUpdate:function(e){e&&this._renderCallbacks.push(e),T(this,2)},render:function(){}});var L={h:i,createElement:i,cloneElement:d,createRef:U,Component:E,render:R,rerender:f,options:t},P=Object.freeze({default:L,h:i,createElement:i,cloneElement:d,createRef:U,Component:E,render:R,rerender:f,options:t}),$=[],M=[];function O(e,n){if(n=n||{},void 0===e)throw new Error("insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).");var t,o=!0===n.prepend?"prepend":"append",r=void 0!==n.container?n.container:document.querySelector("head"),i=$.indexOf(r);return-1===i&&(i=$.push(r)-1,M[i]={}),void 0!==M[i]&&void 0!==M[i][o]?t=M[i][o]:(t=M[i][o]=function(){var e=document.createElement("style");return e.setAttribute("type","text/css"),e}(),"prepend"==o?r.insertBefore(t,r.childNodes[0]):r.appendChild(t)),65279===e.charCodeAt(0)&&(e=e.substr(1,e.length)),t.styleSheet?t.styleSheet.cssText+=e:t.textContent+=e,t}var W=O,D=O;W.insertCss=D;var A,I,V=(function(e){var t=function(){function e(t,r,i,l){"object"==typeof r&&(i=r.depth,l=r.prototype,r.filter,r=r.circular);var a=[],s=[],d=void 0!==n;return void 0===r&&(r=!0),void 0===i&&(i=1/0),function t(i,c){if(null===i)return null;if(0==c)return i;var p,u;if("object"!=typeof i)return i;if(e.__isArray(i))p=[];else if(e.__isRegExp(i))p=new RegExp(i.source,o(i)),i.lastIndex&&(p.lastIndex=i.lastIndex);else if(e.__isDate(i))p=new Date(i.getTime());else{if(d&&n.isBuffer(i))return p=n.allocUnsafe?n.allocUnsafe(i.length):new n(i.length),i.copy(p),p;void 0===l?(u=Object.getPrototypeOf(i),p=Object.create(u)):(p=Object.create(l),u=l)}if(r){var f=a.indexOf(i);if(-1!=f)return s[f];a.push(i),s.push(p)}for(var h in i){var g;u&&(g=Object.getOwnPropertyDescriptor(u,h)),g&&null==g.set||(p[h]=t(i[h],c-1))}return p}(t,i)}function t(e){return Object.prototype.toString.call(e)}function o(e){var n="";return e.global&&(n+="g"),e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),n}return e.clonePrototype=function(e){if(null===e)return null;var n=function(){};return n.prototype=e,new n},e.__objToStr=t,e.__isDate=function(e){return"object"==typeof e&&"[object Date]"===t(e)},e.__isArray=function(e){return"object"==typeof e&&"[object Array]"===t(e)},e.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===t(e)},e.__getRegExpFlags=o,e}();e.exports&&(e.exports=t)}(A={exports:{}}),A.exports),Y=function(e,n){return e=e||{},Object.keys(n).forEach(function(t){void 0===e[t]&&(e[t]=V(n[t]))}),e},q=(I=P)&&I.default||I,G=function(e){function n(){for(var n in q.Component.apply(this,arguments),e)"render"!==n&&"function"==typeof e[n]&&(this[n]=e[n].bind(this));e.init&&e.init.call(this)}return(n.prototype=Object.assign(Object.create(q.Component.prototype),e)).constructor=n},J=function(e){return/^[0-9\.\s]*$/.test(e=""+e)?e+"px":e},K={fontFamily:"'Helvetica', sans-serif",fontSize:13,sliderHeight:22,controlBgColor:"#444",fieldBgColor:"#333",fieldHoverColor:"#383838",fieldActiveColor:"#383838",fieldBorderColor:"#232323",fieldHeight:30,sectionHeadingBgColor:"#222",sectionHeadingHoverColor:"#444",sectionHeadingColor:"#e8e8e8",sectionHeadingBorderColor:"#222",controlBorderColor:"#666",sliderThumbColor:"#888",fontColor:"#e8e8e8",sectionHeadingHeight:24,minLabelWidth:110,minControlWidth:130,visibilityFontColor:"rgba(0, 0, 0, 0.3)",focusBorderColor:"#888",controlBorderRadius:2},Q=q.h,X={name:"select",component:G({render:function(){var e=this,n=this.props.field,t=n.$config,o=this.props.className;return Q("div",{className:o+"__field "+o+"__field--select"},Q("label",{className:o+"__label",htmlFor:o+"-"+n.path},Q("span",{className:o+"__labelText"},t.label||n.name)," ",Q("span",{className:o+"__container"},Q("select",{name:n.path,id:o+"-"+n.path,onChange:function(n){return e.props.field.value=n.target.value}},n.options.map(function(e){return Q("option",{value:e,selected:e===n.value},e)})))))}}),css:function(e,n){return"\n      ."+e+"__field--select select {\n        font-family: inherit;\n        font-size: inherit;\n        height: "+n.sliderHeight+";\n        width: 100%;\n        color: inherit;\n        -webkit-appearance: none;\n        -moz-appearance: none;\n        appearance: none;\n        background-color: "+n.controlBgColor+";\n        border: 1px solid "+n.controlBorderColor+";\n        outline: none;\n        margin: 0;\n        padding: 0 5px;\n        border-radius: "+n.controlBorderRadius+";\n        background-image: linear-gradient("+n.controlBorderColor+", "+n.controlBorderColor+"),\n          linear-gradient(-130deg, transparent 50%, "+n.controlBgColor+" 52%),\n          linear-gradient(-230deg, transparent 50%, "+n.controlBgColor+" 52%),\n          linear-gradient("+n.fontColor+" 42%, "+n.controlBgColor+" 42%);\n        background-repeat: no-repeat, no-repeat, no-repeat, no-repeat;\n        background-size: 1px 100%, 20px 16px, 20px 16px, 20px 60%;\n        background-position: right 20px center, right bottom, right bottom, right bottom;\n      }\n\n      ."+e+"__field--select select:focus {\n        "+n.focusBorder+"\n      }\n    "}},Z=function(e){var n,t=window.getComputedStyle(e),o=t.display,r=t.position,i=t.visibility,l=t.maxHeight,a=l.replace("px","").replace("%","");return"none"!==o&&"0"!==a?e.offsetHeight:(e.style.maxHeight="",e.style.position="absolute",e.style.visibility="hidden",e.style.display="block",n=e.offsetHeight,e.style.maxHeight=l,e.style.display=o,e.style.position=r,e.style.visibility=i,n)},ee=function(e,n){if("0"===e.style.maxHeight.replace("px","").replace("%","")){var t=Z(e)+"px";e.style.transition="max-height 0.1s ease-in-out",e.style.overflowY="hidden",e.style.maxHeight="0",e.style.display="block";var o=function(){e.style.transition="none",e.style.overflowY="visible",e.style.maxHeight="",e.removeEventListener("transitionend",o),n&&n()};e.addEventListener("transitionend",o),setTimeout(function(){e.style.maxHeight=t},20)}else t=Z(e)+"px",e.style.transition="max-height 0.1s ease-in-out",e.style.overflowY="hidden",e.style.maxHeight=t,e.style.display="block",o=function(){e.style.transition="none",e.removeEventListener("transitionend",o),n&&n()},e.addEventListener("transitionend",o),setTimeout(function(){e.style.maxHeight="0"},20)},ne=q.h,te={name:"section",component:G({init:function(){var e=this.props.field.$config.expanded;e=void 0===e||!!e,this.state={expanded:e}},toggleCollapsed:function(e){e.stopPropagation(),ee(this.contentsEl),this.setState({expanded:!this.state.expanded})},getRef:function(e){this.contentsEl=e,!1===this.state.expanded&&ee(this.contentsEl)},render:function(){var e=this,n=this.props.field,t=n.$config.label||n.name,o=this.props.className;return n.parentField||""!==t||(t="Controls"),ne("fieldset",{className:o+"__section "+(this.state.expanded?o+"__section--expanded":"")},ne("legend",{className:o+"__sectionHeading"},ne("button",{onClick:this.toggleCollapsed},t)),ne("div",{ref:this.getRef,className:o+"__sectionFields"},Object.keys(n.value.$displayFields).map(function(t){return ne(e.props.ControlComponent,{field:n.value.$path[t].$field})})))}}),css:function(e,n){return"\n      ."+e+"__section {\n        margin: 0;\n        margin-top: -1px;\n        padding: 0;\n        border: none;\n      }\n\n      ."+e+"__sectionHeading {\n        border: 1px solid "+n.sectionHeadingBorderColor+";\n        position: relative;\n        z-index: 1;\n        box-sizing: border-box;\n      }\n\n      ."+e+"__sectionFields {\n        margin-left: 4px;\n        box-sizing: border-box;\n      }\n\n      ."+e+"__sectionFields ."+e+"__field {\n        border-bottom: 1px solid "+n.fieldBorderColor+";\n        box-sizing: border-box;\n      }\n\n      ."+e+"__sectionFields ."+e+"__sectionFields {\n        border-right: none;\n        margin-right: 0;\n      }\n\n      ."+e+" > ."+e+"__section:first-child > ."+e+"__sectionHeading:first-child {\n        border-right: 1px solid "+n.sectionHeadingBorderColor+";\n      }\n\n      ."+e+"__sectionHeading {\n        padding: 0;\n        font-family: inherit;\n        user-select: none;\n        -moz-user-select: -moz-none;\n        text-indent: 5px;\n        cursor: pointer;\n        width: 100%;\n\n        color: "+n.sectionHeadingColor+";\n        background-color: "+n.sectionHeadingBgColor+";\n        height: "+n.sectionHeadingHeight+";\n        line-height: "+n.sectionHeadingHeight+";\n      }\n\n      ."+e+"__sectionHeading button:focus {\n        background-color: "+n.sectionHeadingHoverColor+";\n      }\n\n      ."+e+"__sectionHeading > button {\n        height: 100%;\n        vertical-align: middle;\n        font-size: 1.0em;\n        cursor: pointer;\n        text-align: left;\n        outline: none;\n        color: inherit;\n        font-size: inherit;\n        font-family: inherit;\n        background: transparent;\n        border: none;\n        border-radius: 0;\n        display: block;\n        width: 100%;\n      }\n\n      ."+e+"__sectionHeading:hover {\n        background-color: "+n.sectionHeadingHoverColor+";\n      }\n\n      ."+e+"__sectionHeading > button::before {\n        transform: translate(0, -1px) rotate(90deg);\n      }\n\n      ."+e+"__sectionHeading > button::before {\n        content: '';\n        display: inline-block;\n        transform-origin: 50% 50%;\n        margin-right: 0.5em;\n        font-size: 0.5em;\n        vertical-align: middle;\n      }\n\n      ."+e+"__section--expanded > ."+e+"__sectionHeading > button::before {\n        transform: none;\n        content: '';\n      }\n    "}},oe=q.h,re={name:"slider",component:G({render:function(){var e=this,n=this.props.field,t=n.$config,o=this.props.className;return oe("div",{className:o+"__field "+o+"__field--slider"},oe("label",{className:o+"__label",htmlFor:o+"-"+n.path},oe("span",{className:o+"__labelText"},t.label||n.name)," ",oe("span",{className:o+"__container"},oe("input",{id:o+"-"+n.path,name:n.path,type:"range",min:this.props.field.inverseMapping(n.min),max:this.props.field.inverseMapping(n.max),step:(this.props.field.inverseMapping(this.props.field.max)-this.props.field.inverseMapping(this.props.field.min))/this.props.field.steps,value:this.props.field.inverseMapping(n.value),onInput:function(n){return e.props.field.value=parseFloat(e.props.field.mapping(n.target.value))}}),oe("span",{className:o+"__sliderValue"},n.value.toFixed(4).replace(/\.?0*$/,"")))))}}),css:function(e,n){return"\n      ."+e+"__field--slider input[type=range] {\n        width: 100%;\n        height: "+n.sliderHeight+";\n        -webkit-appearance: none;\n        vertical-align: middle;\n        border-radius: "+n.controlBorderRadius+";\n        margin: 0;\n        cursor: resize-ew;\n        border: 1px solid "+n.controlBorderColor+";\n      }\n\n      ."+e+"__field--slider input[type=range]:focus {\n        "+n.focusBorder+"\n      }\n\n      ."+e+"__field--slider input[type=range]::-webkit-slider-thumb {\n        height: "+n.sliderHeight+";\n        width: "+n.sliderHeight+";\n        background: "+n.sliderThumbColor+";\n        border-radius: 0;\n        cursor: ew-resize;\n        -webkit-appearance: none;\n      }\n\n      ."+e+"__field--slider input[type=range]::-moz-range-thumb {\n        height: "+n.sliderHeight+";\n        width: "+n.sliderHeight+";\n        border-radius: 0;\n        background: "+n.sliderThumbColor+";\n        cursor: ew-resize;\n      }\n\n      ."+e+"__field--slider input[type=range]::-ms-thumb {\n        height: "+n.sliderHeight+";\n        width: "+n.sliderHeight+";\n        border-radius: 0;\n        background: "+n.sliderThumbColor+";\n        cursor: ew-resize;\n      }\n\n      ."+e+"__field--slider input[type=range]::-webkit-slider-runnable-track {\n        height: "+n.sliderHeight+";\n        cursor: ew-resize;\n        background: "+n.controlBgColor+";\n      }\n\n      ."+e+"__field--slider input[type=range]::-moz-range-track {\n        height: "+n.sliderHeight+";\n        cursor: ew-resize;\n        background: "+n.controlBgColor+";\n      }\n\n      ."+e+"__field--slider input[type=range]::-ms-track {\n        height: "+n.sliderHeight+";\n        cursor: ew-resize;\n        background: transparent;\n        border-color: transparent;\n        color: transparent;\n      }\n\n      ."+e+"__field--slider input[type=range]::-ms-fill-lower {\n        background: "+n.controlBgColor+";\n      }\n\n      ."+e+"__field--slider input[type=range]::-ms-fill-upper {\n        background: "+n.controlBgColor+";\n      }\n\n      ."+e+"__field--slider input[type=range]:focus::-ms-fill-lower {\n        background: "+n.controlBgColor+";\n        "+n.focusBorder+"\n      }\n\n      ."+e+"__field--slider input[type=range]:focus::-ms-fill-upper {\n        background: "+n.controlBgColor+";\n        "+n.focusBorder+"\n      }\n\n      ."+e+"__sliderValue {\n        position: absolute;\n        pointer-events: none;\n        top: 0;\n        z-index: 11;\n        line-height: "+n.fieldHeight+";\n        height: "+n.fieldHeight+";\n        display: inline-block;\n        right: 15px;\n        text-shadow:  1px  0   "+n.visibilityFontColor+",\n                      0    1px "+n.visibilityFontColor+",\n                     -1px  0   "+n.visibilityFontColor+",\n                      0   -1px "+n.visibilityFontColor+",\n                      1px  1px "+n.visibilityFontColor+",\n                      1px -1px "+n.visibilityFontColor+",\n                     -1px  1px "+n.visibilityFontColor+",\n                     -1px -1px "+n.visibilityFontColor+";\n      }\n    "}},ie=q.h,le={name:"checkbox",component:G({render:function(){var e=this,n=this.props.field,t=n.$config,o=this.props.className;return ie("div",{className:o+"__field "+o+"__field--checkbox"},ie("label",{className:o+"__label",htmlFor:o+"-"+n.path},ie("span",{className:o+"__labelText"},t.label||n.name)," ",ie("span",{className:o+"__container"},ie("input",{id:o+"-"+n.path,name:n.path,type:"checkbox",checked:n.value,onInput:function(n){return e.props.field.value=n.target.checked}}))))}}),css:function(e,n){return"\n      ."+e+"__field--checkbox input[type=checkbox] {\n        height: 20px;\n        width: 20px;\n        margin-bottom: 0.2em;\n      }\n\n      ."+e+"__field--checkbox input[type=checkbox]:focus {\n        "+n.focusBorder+"\n      }\n    "}},ae=q.h,se={name:"textinput",component:G({render:function(){var e=this,n=this.props.field,t=n.$config,o=this.props.className;return ae("div",{className:o+"__field "+o+"__field--text"},ae("label",{className:o+"__label",htmlFor:o+"-"+n.path},ae("span",{className:o+"__labelText"},t.label||n.name)," ",ae("span",{className:o+"__container"},ae("input",{id:o+"-"+n.path,name:n.path,type:"text",value:n.value,onInput:function(n){return e.props.field.value=n.target.value}}))))}}),css:function(e,n){return"\n      ."+e+"__field--text input[type=text] {\n        font-size: inherit;\n        font-family: inherit;\n        width: 100%;\n        margin: 0;\n        padding: 0 5px;\n        border: none;\n        height: "+n.sliderHeight+";\n        border-radius: "+n.controlBorderRadius+";\n        background-color: "+n.controlBgColor+";\n        border: 1px solid "+n.controlBorderColor+";\n        color: inherit;\n      }\n\n      ."+e+"__field--text input[type=text]:focus {\n        "+n.focusBorder+"\n      }\n    "}},de=q.h,ce={name:"button",component:G({render:function(){var e=this.props.field,n=e.$config,t=this.props.className;return de("div",{className:t+"__field "+t+"__field--button"},de("button",{onClick:e.value},n.label||e.name))}}),css:function(e,n){return"\n      ."+e+"__field--button button {\n        height: "+n.fieldHeight+";\n        font-size: inherit;\n        font-family: inherit;\n        outline: none;\n        cursor: pointer;\n        text-align: center;\n        display: block;\n        background: transparent;\n        color: inherit;\n        font-size: 1.0em;\n        width: 100%;\n        border: none;\n        border-radius: 0;\n      }\n\n      ."+e+"__field--button > button:hover {\n        background-color: "+n.fieldHoverColor+";\n      }\n\n      ."+e+"__field--button > button:active {\n        background-color: "+n.fieldActiveColor+";\n      }\n\n      ."+e+"__field--button > button:focus {\n        "+n.focusBorder+"\n      }\n\n      ."+e+"__field--button > button::before {\n        content: '';\n        width: 3px;\n        display: inline-block;\n        vertical-align: middle;\n        position: absolute;\n        top: 0;\n        left: 0;\n        bottom: 0;\n      }\n    "}},pe=q.h,ue={name:"color",component:G({render:function(){var e=this,n=this.props.field,t=n.$config,o=this.props.className;return pe("div",{className:o+"__field "+o+"__field--color"},pe("label",{className:o+"__label",htmlFor:o+"-"+n.path},pe("span",{className:o+"__labelText"},t.label||n.name)," ",pe("span",{className:o+"__container"},pe("input",{id:o+"-"+n.path,name:n.path,type:"color",value:n.value,onInput:function(n){e.props.field.value=n.target.value}}))))}}),css:function(e,n){return"\n      ."+e+"__field--color input[type=color] {\n        margin: 0;\n        border: 1px solid #aaa;\n        width: 50px;\n        height: "+n.sliderHeight+";\n        border-radius: "+n.controlBorderRadius+";\n        padding: 0;\n      }\n\n      ."+e+"__field--color input[type=color]::-webkit-color-swatch-wrapper {\n        padding: 0px;\n        background-color: #888;\n      }\n\n      ."+e+"__field--color input[type=color]:focus {\n        "+n.focusBorder+"\n      }\n    "}},fe=q.h,he={name:"raw",component:G({getRef:function(e){this.el=e},getContent:function(e){return this.content=e.field.value,"function"==typeof this.content&&(this.content=this.content(fe,{field:e.field,state:e.state})),this.content},render:function(){var e=this.props.className;return fe("div",{className:e+"__field--raw "+e+"__field"},fe("div",{ref:this.getRef,className:e+"__rawContent"},this.getContent(this.props)))}}),css:function(e,n){return"\n      ."+e+"__field--raw {\n        height: auto;\n        padding: 0 7px 0 10px;\n        overflow: hidden;\n      }\n\n      ."+e+"__rawContent {\n        max-width: 100%;\n        margin: 0;\n        padding: 0;\n      }\n\n      ."+e+"__rawContent a {\n        color: inherit;\n      }\n\n      ."+e+"__rawContent::before {\n        background-color: #aaa;\n      }\n\n      ."+e+"__rawContent::before {\n        content: '';\n        width: 3px;\n        display: inline-block;\n        vertical-align: middle;\n        position: absolute;\n        top: 0;\n        left: 0;\n        bottom: 0;\n      }\n\n      ."+e+"__rawContent > p:first-child {\n        margin-top: 5px;\n      }\n\n      ."+e+"__rawContent > p:last-child{\n        margin-bottom: 5px;\n      }\n\n      ."+e+"__rawContent p {\n        line-height: 1.8;\n      }\n\n      ."+e+"__rawContent pre {\n        line-height: 1.3;\n        font-size: 0.8em;\n        margin: 0;\n      }\n    "}},ge=function(){var e={};function n(n,t){(t=Y(t||{},{containerCSS:"position:fixed;top:0;right:8px",style:!0,className:"controlPanel-"+Math.random().toString(36).substring(2,15),expanded:!0})).root=t.root||document.body;var o=t.className;n.$field.$config.expanded=t.expanded;var r=G({render:function(){return q.h(function(n){var t=e[n];if(!t)throw new Error('Unrecognized component, "'+n+'"');return t}(this.props.field.type).component,{ControlComponent:r,className:o,field:this.props.field,state:n,h:q.h})}}),i=G({state:{dummy:0},componentDidMount:function(){var e=this;this.props.state.$field.onChanges(function(n){e.setState({dummy:e.state.dummy+1})})},getRef:function(e){for(var n=["mousedown","mouseup","mousemove","touchstart","touchmove","touchend","wheel"],o=0;o<n.length;o++)e.addEventListener(n[o],function(e){e.stopPropagation()});t.containerCSS&&(e.style.cssText=t.containerCSS)},render:function(){return q.h("div",{className:""+o,ref:this.getRef},q.h(r,{field:this.props.state.$field}))}});return t.style&&W(function(e,n,t){return(n=Object.assign({},Y(n||{},K))).fontSize=J(n.fontSize),n.sliderHeight=J(n.sliderHeight),n.fieldHeight=J(n.fieldHeight),n.sectionHeadingHeight=J(n.sectionHeadingHeight),n.minLabelWidth=J(n.minLabelWidth),n.minControlWidth=J(n.minControlWidth),n.controlBorderRadius=J(n.controlBorderRadius),n.focusBorder="\n    outline: none;\n    border-color: "+n.focusBorderColor+";\n    box-shadow: 0 0 3px "+n.focusBorderColor+";\n  ","\n    ."+e+" {\n      color: "+n.fontColor+";\n      "+(n.fontSize?"font-size: "+n.fontSize:"")+";\n      "+(n.fontFamily?"font-family: "+n.fontFamily:"")+";\n      max-width: 100%;\n    }\n\n    ."+e+"__field {\n      position: relative;\n      background-color: "+n.fieldBgColor+";\n      border-right: 1px solid "+n.fieldBorderColor+";\n    }\n\n    ."+e+"__label {\n      display: block;\n      height: "+n.fieldHeight+";\n      line-height: "+n.fieldHeight+";\n      display: flex;\n      flex-direction: row;\n      background-color: "+n.fieldBgColor+";\n    }\n\n    ."+e+"__field:hover {\n      background-color: "+n.fieldHoverColor+";\n    }\n\n    ."+e+"__container {\n      display: flex;\n      flex-direction: row;\n      align-content: stretch;\n      justify-content: stretch;\n    \n      height: "+n.fieldHeight+";\n      flex: 1;\n      position: relative;\n      align-items: center;\n      position: relative;\n\n      min-width: "+n.minControlWidth+";\n      width: "+n.fieldHeight+";\n      padding-right: 8px;\n      text-indent: 8px;\n    }\n\n    ."+e+"__labelText {\n      user-select: none;\n      -moz-user-select: -moz-none;\n      text-indent: 8px;\n      margin-right: 4px;\n      display: inline-block;\n      min-width: "+n.minLabelWidth+";\n      line-height: "+n.fieldHeight+";\n    }\n\n    ."+e+"__field::before {\n      content: '';\n      width: 3px;\n      display: inline-block;\n      vertical-align: middle;\n      position: absolute;\n      top: 0;\n      left: 0;\n      bottom: 0;\n    }\n\n    ."+e+"__field--text::before { background-color: #49f; }\n    ."+e+"__field--color::before { background-color: #94f; }\n    ."+e+"__field--checkbox::before { background-color: #f49; }\n    ."+e+"__field--slider::before { background-color: #f84; }\n    ."+e+"__field--select::before { background-color: #8f4; }\n    ."+e+"__field--button > button::before { background-color: #8ff; }\n\n    "+Object.keys(t).map(function(o){var r=t[o].css;return r?r(e,n):""}).join("\n")+"\n  "}(o,t.theme,e)),q.render(q.h(i,{state:n}),t.root),n}return n.registerComponent=function(t){return e[t.name]=t,n},n.registerComponents=function(e){for(var t=0;t<e.length;t++)n.registerComponent(e[t]);return n},n}();return ge.registerComponents([X,te,re,le,se,ce,ue,he]),ge});
},{"buffer":"dskh"}],"Wleo":[function(require,module,exports) {
"use strict";module.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};
},{}],"v4cc":[function(require,module,exports) {
function r(r,t){return h(r)||e(r,t)||a(r,t)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(r,n){if(r){if("string"==typeof r)return t(r,n);var a=Object.prototype.toString.call(r).slice(8,-1);return"Object"===a&&r.constructor&&(a=r.constructor.name),"Map"===a||"Set"===a?Array.from(r):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?t(r,n):void 0}}function t(r,n){(null==n||n>r.length)&&(n=r.length);for(var a=0,t=new Array(n);a<n;a++)t[a]=r[a];return t}function e(r,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r)){var a=[],t=!0,e=!1,h=void 0;try{for(var o,u=r[Symbol.iterator]();!(t=(o=u.next()).done)&&(a.push(o.value),!n||a.length!==n);t=!0);}catch(l){e=!0,h=l}finally{try{t||null==u.return||u.return()}finally{if(e)throw h}}return a}}function h(r){if(Array.isArray(r))return r}for(var o=require("color-name"),u={},l=0,c=Object.keys(o);l<c.length;l++){var i=c[l];u[o[i]]=i}var s={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};module.exports=s;for(var b=0,f=Object.keys(s);b<f.length;b++){var v=f[b];if(!("channels"in s[v]))throw new Error("missing channels property: "+v);if(!("labels"in s[v]))throw new Error("missing channel labels property: "+v);if(s[v].labels.length!==s[v].channels)throw new Error("channel and label counts mismatch: "+v);var g=s[v],M=g.channels,y=g.labels;delete s[v].channels,delete s[v].labels,Object.defineProperty(s[v],"channels",{value:M}),Object.defineProperty(s[v],"labels",{value:y})}function m(r,n){return Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2)+Math.pow(r[2]-n[2],2)}s.rgb.hsl=function(r){var n,a=r[0]/255,t=r[1]/255,e=r[2]/255,h=Math.min(a,t,e),o=Math.max(a,t,e),u=o-h;o===h?n=0:a===o?n=(t-e)/u:t===o?n=2+(e-a)/u:e===o&&(n=4+(a-t)/u),(n=Math.min(60*n,360))<0&&(n+=360);var l=(h+o)/2;return[n,100*(o===h?0:l<=.5?u/(o+h):u/(2-o-h)),100*l]},s.rgb.hsv=function(r){var n,a,t,e,h,o=r[0]/255,u=r[1]/255,l=r[2]/255,c=Math.max(o,u,l),i=c-Math.min(o,u,l),s=function(r){return(c-r)/6/i+.5};return 0===i?(e=0,h=0):(h=i/c,n=s(o),a=s(u),t=s(l),o===c?e=t-a:u===c?e=1/3+n-t:l===c&&(e=2/3+a-n),e<0?e+=1:e>1&&(e-=1)),[360*e,100*h,100*c]},s.rgb.hwb=function(r){var n=r[0],a=r[1],t=r[2];return[s.rgb.hsl(r)[0],100*(1/255*Math.min(n,Math.min(a,t))),100*(t=1-1/255*Math.max(n,Math.max(a,t)))]},s.rgb.cmyk=function(r){var n=r[0]/255,a=r[1]/255,t=r[2]/255,e=Math.min(1-n,1-a,1-t);return[100*((1-n-e)/(1-e)||0),100*((1-a-e)/(1-e)||0),100*((1-t-e)/(1-e)||0),100*e]},s.rgb.keyword=function(r){var n=u[r];if(n)return n;for(var a,t=1/0,e=0,h=Object.keys(o);e<h.length;e++){var l=h[e],c=m(r,o[l]);c<t&&(t=c,a=l)}return a},s.keyword.rgb=function(r){return o[r]},s.rgb.xyz=function(r){var n=r[0]/255,a=r[1]/255,t=r[2]/255;return[100*(.4124*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.3576*(a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92)+.1805*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)),100*(.2126*n+.7152*a+.0722*t),100*(.0193*n+.1192*a+.9505*t)]},s.rgb.lab=function(r){var n=s.rgb.xyz(r),a=n[0],t=n[1],e=n[2];return t/=100,e/=108.883,a=(a/=95.047)>.008856?Math.pow(a,1/3):7.787*a+16/116,[116*(t=t>.008856?Math.pow(t,1/3):7.787*t+16/116)-16,500*(a-t),200*(t-(e=e>.008856?Math.pow(e,1/3):7.787*e+16/116))]},s.hsl.rgb=function(r){var n,a,t,e=r[0]/360,h=r[1]/100,o=r[2]/100;if(0===h)return[t=255*o,t,t];for(var u=2*o-(n=o<.5?o*(1+h):o+h-o*h),l=[0,0,0],c=0;c<3;c++)(a=e+1/3*-(c-1))<0&&a++,a>1&&a--,t=6*a<1?u+6*(n-u)*a:2*a<1?n:3*a<2?u+(n-u)*(2/3-a)*6:u,l[c]=255*t;return l},s.hsl.hsv=function(r){var n=r[0],a=r[1]/100,t=r[2]/100,e=a,h=Math.max(t,.01);return a*=(t*=2)<=1?t:2-t,e*=h<=1?h:2-h,[n,100*(0===t?2*e/(h+e):2*a/(t+a)),100*((t+a)/2)]},s.hsv.rgb=function(r){var n=r[0]/60,a=r[1]/100,t=r[2]/100,e=Math.floor(n)%6,h=n-Math.floor(n),o=255*t*(1-a),u=255*t*(1-a*h),l=255*t*(1-a*(1-h));switch(t*=255,e){case 0:return[t,l,o];case 1:return[u,t,o];case 2:return[o,t,l];case 3:return[o,u,t];case 4:return[l,o,t];case 5:return[t,o,u]}},s.hsv.hsl=function(r){var n,a,t=r[0],e=r[1]/100,h=r[2]/100,o=Math.max(h,.01);a=(2-e)*h;var u=(2-e)*o;return n=e*o,[t,100*(n=(n/=u<=1?u:2-u)||0),100*(a/=2)]},s.hwb.rgb=function(r){var n,a=r[0]/360,t=r[1]/100,e=r[2]/100,h=t+e;h>1&&(t/=h,e/=h);var o=Math.floor(6*a),u=1-e;n=6*a-o,0!=(1&o)&&(n=1-n);var l,c,i,s=t+n*(u-t);switch(o){default:case 6:case 0:l=u,c=s,i=t;break;case 1:l=s,c=u,i=t;break;case 2:l=t,c=u,i=s;break;case 3:l=t,c=s,i=u;break;case 4:l=s,c=t,i=u;break;case 5:l=u,c=t,i=s}return[255*l,255*c,255*i]},s.cmyk.rgb=function(r){var n=r[0]/100,a=r[1]/100,t=r[2]/100,e=r[3]/100;return[255*(1-Math.min(1,n*(1-e)+e)),255*(1-Math.min(1,a*(1-e)+e)),255*(1-Math.min(1,t*(1-e)+e))]},s.xyz.rgb=function(r){var n,a,t,e=r[0]/100,h=r[1]/100,o=r[2]/100;return a=-.9689*e+1.8758*h+.0415*o,t=.0557*e+-.204*h+1.057*o,n=(n=3.2406*e+-1.5372*h+-.4986*o)>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:12.92*a,t=t>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,[255*(n=Math.min(Math.max(0,n),1)),255*(a=Math.min(Math.max(0,a),1)),255*(t=Math.min(Math.max(0,t),1))]},s.xyz.lab=function(r){var n=r[0],a=r[1],t=r[2];return a/=100,t/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116)-16,500*(n-a),200*(a-(t=t>.008856?Math.pow(t,1/3):7.787*t+16/116))]},s.lab.xyz=function(r){var n,a,t,e=r[0];n=r[1]/500+(a=(e+16)/116),t=a-r[2]/200;var h=Math.pow(a,3),o=Math.pow(n,3),u=Math.pow(t,3);return a=h>.008856?h:(a-16/116)/7.787,n=o>.008856?o:(n-16/116)/7.787,t=u>.008856?u:(t-16/116)/7.787,[n*=95.047,a*=100,t*=108.883]},s.lab.lch=function(r){var n,a=r[0],t=r[1],e=r[2];return(n=360*Math.atan2(e,t)/2/Math.PI)<0&&(n+=360),[a,Math.sqrt(t*t+e*e),n]},s.lch.lab=function(r){var n=r[0],a=r[1],t=r[2]/360*2*Math.PI;return[n,a*Math.cos(t),a*Math.sin(t)]},s.rgb.ansi16=function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=r(n,3),e=t[0],h=t[1],o=t[2],u=null===a?s.rgb.hsv(n)[2]:a;if(0===(u=Math.round(u/50)))return 30;var l=30+(Math.round(o/255)<<2|Math.round(h/255)<<1|Math.round(e/255));return 2===u&&(l+=60),l},s.hsv.ansi16=function(r){return s.rgb.ansi16(s.hsv.rgb(r),r[2])},s.rgb.ansi256=function(r){var n=r[0],a=r[1],t=r[2];return n===a&&a===t?n<8?16:n>248?231:Math.round((n-8)/247*24)+232:16+36*Math.round(n/255*5)+6*Math.round(a/255*5)+Math.round(t/255*5)},s.ansi16.rgb=function(r){var n=r%10;if(0===n||7===n)return r>50&&(n+=3.5),[n=n/10.5*255,n,n];var a=.5*(1+~~(r>50));return[(1&n)*a*255,(n>>1&1)*a*255,(n>>2&1)*a*255]},s.ansi256.rgb=function(r){if(r>=232){var n=10*(r-232)+8;return[n,n,n]}var a;return r-=16,[Math.floor(r/36)/5*255,Math.floor((a=r%36)/6)/5*255,a%6/5*255]},s.rgb.hex=function(r){var n=(((255&Math.round(r[0]))<<16)+((255&Math.round(r[1]))<<8)+(255&Math.round(r[2]))).toString(16).toUpperCase();return"000000".substring(n.length)+n},s.hex.rgb=function(r){var n=r.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!n)return[0,0,0];var a=n[0];3===n[0].length&&(a=a.split("").map(function(r){return r+r}).join(""));var t=parseInt(a,16);return[t>>16&255,t>>8&255,255&t]},s.rgb.hcg=function(r){var n,a=r[0]/255,t=r[1]/255,e=r[2]/255,h=Math.max(Math.max(a,t),e),o=Math.min(Math.min(a,t),e),u=h-o;return n=u<=0?0:h===a?(t-e)/u%6:h===t?2+(e-a)/u:4+(a-t)/u,n/=6,[360*(n%=1),100*u,100*(u<1?o/(1-u):0)]},s.hsl.hcg=function(r){var n=r[1]/100,a=r[2]/100,t=a<.5?2*n*a:2*n*(1-a),e=0;return t<1&&(e=(a-.5*t)/(1-t)),[r[0],100*t,100*e]},s.hsv.hcg=function(r){var n=r[1]/100,a=r[2]/100,t=n*a,e=0;return t<1&&(e=(a-t)/(1-t)),[r[0],100*t,100*e]},s.hcg.rgb=function(r){var n=r[0]/360,a=r[1]/100,t=r[2]/100;if(0===a)return[255*t,255*t,255*t];var e,h=[0,0,0],o=n%1*6,u=o%1,l=1-u;switch(Math.floor(o)){case 0:h[0]=1,h[1]=u,h[2]=0;break;case 1:h[0]=l,h[1]=1,h[2]=0;break;case 2:h[0]=0,h[1]=1,h[2]=u;break;case 3:h[0]=0,h[1]=l,h[2]=1;break;case 4:h[0]=u,h[1]=0,h[2]=1;break;default:h[0]=1,h[1]=0,h[2]=l}return e=(1-a)*t,[255*(a*h[0]+e),255*(a*h[1]+e),255*(a*h[2]+e)]},s.hcg.hsv=function(r){var n=r[1]/100,a=n+r[2]/100*(1-n),t=0;return a>0&&(t=n/a),[r[0],100*t,100*a]},s.hcg.hsl=function(r){var n=r[1]/100,a=r[2]/100*(1-n)+.5*n,t=0;return a>0&&a<.5?t=n/(2*a):a>=.5&&a<1&&(t=n/(2*(1-a))),[r[0],100*t,100*a]},s.hcg.hwb=function(r){var n=r[1]/100,a=n+r[2]/100*(1-n);return[r[0],100*(a-n),100*(1-a)]},s.hwb.hcg=function(r){var n=r[1]/100,a=1-r[2]/100,t=a-n,e=0;return t<1&&(e=(a-t)/(1-t)),[r[0],100*t,100*e]},s.apple.rgb=function(r){return[r[0]/65535*255,r[1]/65535*255,r[2]/65535*255]},s.rgb.apple=function(r){return[r[0]/255*65535,r[1]/255*65535,r[2]/255*65535]},s.gray.rgb=function(r){return[r[0]/100*255,r[0]/100*255,r[0]/100*255]},s.gray.hsl=function(r){return[0,0,r[0]]},s.gray.hsv=s.gray.hsl,s.gray.hwb=function(r){return[0,100,r[0]]},s.gray.cmyk=function(r){return[0,0,0,r[0]]},s.gray.lab=function(r){return[r[0],0,0]},s.gray.hex=function(r){var n=255&Math.round(r[0]/100*255),a=((n<<16)+(n<<8)+n).toString(16).toUpperCase();return"000000".substring(a.length)+a},s.rgb.gray=function(r){return[(r[0]+r[1]+r[2])/3/255*100]};
},{"color-name":"Wleo"}],"ZMFB":[function(require,module,exports) {
var n=require("./conversions");function r(){for(var r={},e=Object.keys(n),t=e.length,a=0;a<t;a++)r[e[a]]={distance:-1,parent:null};return r}function e(e){var t=r(),a=[e];for(t[e].distance=0;a.length;)for(var o=a.pop(),u=Object.keys(n[o]),c=u.length,i=0;i<c;i++){var s=u[i],f=t[s];-1===f.distance&&(f.distance=t[o].distance+1,f.parent=o,a.unshift(s))}return t}function t(n,r){return function(e){return r(n(e))}}function a(r,e){for(var a=[e[r].parent,r],o=n[e[r].parent][r],u=e[r].parent;e[u].parent;)a.unshift(e[u].parent),o=t(n[e[u].parent][u],o),u=e[u].parent;return o.conversion=a,o}module.exports=function(n){for(var r=e(n),t={},o=Object.keys(r),u=o.length,c=0;c<u;c++){var i=o[c];null!==r[i].parent&&(t[i]=a(i,r))}return t};
},{"./conversions":"v4cc"}],"rLkC":[function(require,module,exports) {
function n(r){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(r)}var r=require("./conversions"),e=require("./route"),o={},t=Object.keys(r);function c(n){var r=function(){for(var r=arguments.length,e=new Array(r),o=0;o<r;o++)e[o]=arguments[o];var t=e[0];return null==t?t:(t.length>1&&(e=t),n(e))};return"conversion"in n&&(r.conversion=n.conversion),r}function u(r){var e=function(){for(var e=arguments.length,o=new Array(e),t=0;t<e;t++)o[t]=arguments[t];var c=o[0];if(null==c)return c;c.length>1&&(o=c);var u=r(o);if("object"===n(u))for(var i=u.length,f=0;f<i;f++)u[f]=Math.round(u[f]);return u};return"conversion"in r&&(e.conversion=r.conversion),e}t.forEach(function(n){o[n]={},Object.defineProperty(o[n],"channels",{value:r[n].channels}),Object.defineProperty(o[n],"labels",{value:r[n].labels});var t=e(n);Object.keys(t).forEach(function(r){var e=t[r];o[n][r]=u(e),o[n][r].raw=c(e)})}),module.exports=o;
},{"./conversions":"v4cc","./route":"ZMFB"}],"cHCQ":[function(require,module,exports) {
"use strict";function e(){this.__data__=[],this.size=0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
},{}],"SRq7":[function(require,module,exports) {
"use strict";function e(e,t){return e===t||e!=e&&t!=t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
},{}],"Hp84":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./eq.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r,t){for(var u=r.length;u--;)if((0,e.default)(r[u][0],t))return u;return-1}var u=t;exports.default=u;
},{"./eq.js":"SRq7"}],"NMSb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_assocIndexOf.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=Array.prototype,a=r.splice;function s(t){var r=this.__data__,s=(0,e.default)(r,t);return!(s<0)&&(s==r.length-1?r.pop():a.call(r,s,1),--this.size,!0)}var o=s;exports.default=o;
},{"./_assocIndexOf.js":"Hp84"}],"P9vD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_assocIndexOf.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){var r=this.__data__,u=(0,e.default)(r,t);return u<0?void 0:r[u][1]}var u=r;exports.default=u;
},{"./_assocIndexOf.js":"Hp84"}],"mbsC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_assocIndexOf.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){return(0,e.default)(this.__data__,t)>-1}var u=r;exports.default=u;
},{"./_assocIndexOf.js":"Hp84"}],"GGNI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_assocIndexOf.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t,r){var s=this.__data__,u=(0,e.default)(s,t);return u<0?(++this.size,s.push([t,r])):s[u][1]=r,this}var s=r;exports.default=s;
},{"./_assocIndexOf.js":"Hp84"}],"UlXa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("./_listCacheClear.js")),t=s(require("./_listCacheDelete.js")),r=s(require("./_listCacheGet.js")),l=s(require("./_listCacheHas.js")),a=s(require("./_listCacheSet.js"));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var l=e[t];this.set(l[0],l[1])}}u.prototype.clear=e.default,u.prototype.delete=t.default,u.prototype.get=r.default,u.prototype.has=l.default,u.prototype.set=a.default;var o=u;exports.default=o;
},{"./_listCacheClear.js":"cHCQ","./_listCacheDelete.js":"NMSb","./_listCacheGet.js":"P9vD","./_listCacheHas.js":"mbsC","./_listCacheSet.js":"GGNI"}],"DBFA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_ListCache.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(){this.__data__=new e.default,this.size=0}var s=r;exports.default=s;
},{"./_ListCache.js":"UlXa"}],"vtGq":[function(require,module,exports) {
"use strict";function e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
},{}],"jNIi":[function(require,module,exports) {
"use strict";function e(e){return this.__data__.get(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
},{}],"HYiT":[function(require,module,exports) {
"use strict";function e(e){return this.__data__.has(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
},{}],"iJ7y":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t="object"==typeof e&&e&&e.Object===Object&&e,o=t;exports.default=o;
},{}],"ygki":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_freeGlobal.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r="object"==typeof self&&self&&self.Object===Object&&self,l=e.default||r||Function("return this")(),s=l;exports.default=s;
},{"./_freeGlobal.js":"iJ7y"}],"Oi8n":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_root.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=e.default.Symbol,o=r;exports.default=o;
},{"./_root.js":"ygki"}],"InRc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_Symbol.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=Object.prototype,a=r.hasOwnProperty,o=r.toString,l=e.default?e.default.toStringTag:void 0;function u(e){var t=a.call(e,l),r=e[l];try{e[l]=void 0;var u=!0}catch(i){}var d=o.call(e);return u&&(t?e[l]=r:delete e[l]),d}var d=u;exports.default=d;
},{"./_Symbol.js":"Oi8n"}],"iwg4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=Object.prototype,t=e.toString;function r(e){return t.call(e)}var o=r;exports.default=o;
},{}],"svpX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./_Symbol.js")),t=u(require("./_getRawTag.js")),r=u(require("./_objectToString.js"));function u(e){return e&&e.__esModule?e:{default:e}}var o="[object Null]",d="[object Undefined]",l=e.default?e.default.toStringTag:void 0;function a(e){return null==e?void 0===e?d:o:l&&l in Object(e)?(0,t.default)(e):(0,r.default)(e)}var i=a;exports.default=i;
},{"./_Symbol.js":"Oi8n","./_getRawTag.js":"InRc","./_objectToString.js":"iwg4"}],"DTZk":[function(require,module,exports) {
"use strict";function e(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
},{}],"tWvT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./_baseGetTag.js")),t=r(require("./isObject.js"));function r(e){return e&&e.__esModule?e:{default:e}}var u="[object AsyncFunction]",o="[object Function]",n="[object GeneratorFunction]",a="[object Proxy]";function c(r){if(!(0,t.default)(r))return!1;var c=(0,e.default)(r);return c==o||c==n||c==u||c==a}var i=c;exports.default=i;
},{"./_baseGetTag.js":"svpX","./isObject.js":"DTZk"}],"xFkS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./_root.js"));function r(e){return e&&e.__esModule?e:{default:e}}var t=e.default["__core-js_shared__"],o=t;exports.default=o;
},{"./_root.js":"ygki"}],"pULC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./_coreJsData.js"));function r(e){return e&&e.__esModule?e:{default:e}}var t=function(){var r=/[^.]+$/.exec(e.default&&e.default.keys&&e.default.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function u(e){return!!t&&t in e}var a=u;exports.default=a;
},{"./_coreJsData.js":"xFkS"}],"UKJK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=Function.prototype,r=t.toString;function e(t){if(null!=t){try{return r.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var o=e;exports.default=o;
},{}],"Zczf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./isFunction.js")),t=u(require("./_isMasked.js")),r=u(require("./isObject.js")),o=u(require("./_toSource.js"));function u(e){return e&&e.__esModule?e:{default:e}}var s=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,n=Function.prototype,i=Object.prototype,c=n.toString,l=i.hasOwnProperty,p=RegExp("^"+c.call(l).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(u){return!(!(0,r.default)(u)||(0,t.default)(u))&&((0,e.default)(u)?p:a).test((0,o.default)(u))}var f=d;exports.default=f;
},{"./isFunction.js":"tWvT","./_isMasked.js":"pULC","./isObject.js":"DTZk","./_toSource.js":"UKJK"}],"ZVQn":[function(require,module,exports) {
"use strict";function e(e,t){return null==e?void 0:e[t]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
},{}],"tx41":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./_baseIsNative.js")),t=r(require("./_getValue.js"));function r(e){return e&&e.__esModule?e:{default:e}}function u(r,u){var a=(0,t.default)(r,u);return(0,e.default)(a)?a:void 0}var a=u;exports.default=a;
},{"./_baseIsNative.js":"Zczf","./_getValue.js":"ZVQn"}],"hhFe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./_getNative.js")),t=r(require("./_root.js"));function r(e){return e&&e.__esModule?e:{default:e}}var u=(0,e.default)(t.default,"Map"),a=u;exports.default=a;
},{"./_getNative.js":"tx41","./_root.js":"ygki"}],"YsDH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_getNative.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=(0,e.default)(Object,"create"),u=r;exports.default=u;
},{"./_getNative.js":"tx41"}],"sJnX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_nativeCreate.js"));function t(e){return e&&e.__esModule?e:{default:e}}function u(){this.__data__=e.default?(0,e.default)(null):{},this.size=0}var r=u;exports.default=r;
},{"./_nativeCreate.js":"YsDH"}],"c9sB":[function(require,module,exports) {
"use strict";function e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
},{}],"zYTU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_nativeCreate.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r="__lodash_hash_undefined__",a=Object.prototype,o=a.hasOwnProperty;function u(t){var a=this.__data__;if(e.default){var u=a[t];return u===r?void 0:u}return o.call(a,t)?a[t]:void 0}var _=u;exports.default=_;
},{"./_nativeCreate.js":"YsDH"}],"ZFwF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_nativeCreate.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=Object.prototype,a=r.hasOwnProperty;function o(t){var r=this.__data__;return e.default?void 0!==r[t]:a.call(r,t)}var u=o;exports.default=u;
},{"./_nativeCreate.js":"YsDH"}],"i3LK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_nativeCreate.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r="__lodash_hash_undefined__";function a(t,a){var s=this.__data__;return this.size+=this.has(t)?0:1,s[t]=e.default&&void 0===a?r:a,this}var s=a;exports.default=s;
},{"./_nativeCreate.js":"YsDH"}],"tE4I":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./_hashClear.js")),t=u(require("./_hashDelete.js")),r=u(require("./_hashGet.js")),a=u(require("./_hashHas.js")),s=u(require("./_hashSet.js"));function u(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}o.prototype.clear=e.default,o.prototype.delete=t.default,o.prototype.get=r.default,o.prototype.has=a.default,o.prototype.set=s.default;var l=o;exports.default=l;
},{"./_hashClear.js":"sJnX","./_hashDelete.js":"c9sB","./_hashGet.js":"zYTU","./_hashHas.js":"ZFwF","./_hashSet.js":"i3LK"}],"S4lD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./_Hash.js")),t=r(require("./_ListCache.js")),a=r(require("./_Map.js"));function r(e){return e&&e.__esModule?e:{default:e}}function s(){this.size=0,this.__data__={hash:new e.default,map:new(a.default||t.default),string:new e.default}}var u=s;exports.default=u;
},{"./_Hash.js":"tE4I","./_ListCache.js":"UlXa","./_Map.js":"hhFe"}],"yCDP":[function(require,module,exports) {
"use strict";function e(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
},{}],"QOd1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_isKeyable.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t,r){var a=t.__data__;return(0,e.default)(r)?a["string"==typeof r?"string":"hash"]:a.map}var a=r;exports.default=a;
},{"./_isKeyable.js":"yCDP"}],"kigP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_getMapData.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){var r=(0,e.default)(this,t).delete(t);return this.size-=r?1:0,r}var u=r;exports.default=u;
},{"./_getMapData.js":"QOd1"}],"uJAD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_getMapData.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){return(0,e.default)(this,t).get(t)}var u=r;exports.default=u;
},{"./_getMapData.js":"QOd1"}],"h8gm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_getMapData.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){return(0,e.default)(this,t).has(t)}var u=r;exports.default=u;
},{"./_getMapData.js":"QOd1"}],"VMmx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_getMapData.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t,r){var s=(0,e.default)(this,t),u=s.size;return s.set(t,r),this.size+=s.size==u?0:1,this}var s=r;exports.default=s;
},{"./_getMapData.js":"QOd1"}],"Ov7L":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("./_mapCacheClear.js")),t=o(require("./_mapCacheDelete.js")),r=o(require("./_mapCacheGet.js")),a=o(require("./_mapCacheHas.js")),u=o(require("./_mapCacheSet.js"));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}l.prototype.clear=e.default,l.prototype.delete=t.default,l.prototype.get=r.default,l.prototype.has=a.default,l.prototype.set=u.default;var p=l;exports.default=p;
},{"./_mapCacheClear.js":"S4lD","./_mapCacheDelete.js":"kigP","./_mapCacheGet.js":"uJAD","./_mapCacheHas.js":"h8gm","./_mapCacheSet.js":"VMmx"}],"yppq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("./_ListCache.js")),t=a(require("./_Map.js")),s=a(require("./_MapCache.js"));function a(e){return e&&e.__esModule?e:{default:e}}var r=200;function i(a,i){var u=this.__data__;if(u instanceof e.default){var _=u.__data__;if(!t.default||_.length<r-1)return _.push([a,i]),this.size=++u.size,this;u=this.__data__=new s.default(_)}return u.set(a,i),this.size=u.size,this}var u=i;exports.default=u;
},{"./_ListCache.js":"UlXa","./_Map.js":"hhFe","./_MapCache.js":"Ov7L"}],"sIK7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("./_ListCache.js")),t=o(require("./_stackClear.js")),r=o(require("./_stackDelete.js")),s=o(require("./_stackGet.js")),a=o(require("./_stackHas.js")),u=o(require("./_stackSet.js"));function o(e){return e&&e.__esModule?e:{default:e}}function i(t){var r=this.__data__=new e.default(t);this.size=r.size}i.prototype.clear=t.default,i.prototype.delete=r.default,i.prototype.get=s.default,i.prototype.has=a.default,i.prototype.set=u.default;var l=i;exports.default=l;
},{"./_ListCache.js":"UlXa","./_stackClear.js":"DBFA","./_stackDelete.js":"vtGq","./_stackGet.js":"jNIi","./_stackHas.js":"HYiT","./_stackSet.js":"yppq"}],"rhit":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_getNative.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=function(){try{var t=(0,e.default)(Object,"defineProperty");return t({},"",{}),t}catch(r){}}(),u=r;exports.default=u;
},{"./_getNative.js":"tx41"}],"jqVF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./_defineProperty.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r,t,u){"__proto__"==t&&e.default?(0,e.default)(r,t,{configurable:!0,enumerable:!0,value:u,writable:!0}):r[t]=u}var u=t;exports.default=u;
},{"./_defineProperty.js":"rhit"}],"pKPs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./_baseAssignValue.js")),t=u(require("./eq.js"));function u(e){return e&&e.__esModule?e:{default:e}}function r(u,r,s){(void 0===s||(0,t.default)(u[r],s))&&(void 0!==s||r in u)||(0,e.default)(u,r,s)}var s=r;exports.default=s;
},{"./_baseAssignValue.js":"jqVF","./eq.js":"SRq7"}],"zHzo":[function(require,module,exports) {
"use strict";function e(e){return function(r,t,o){for(var u=-1,n=Object(r),a=o(r),f=a.length;f--;){var i=a[e?f:++u];if(!1===t(n[i],i,n))break}return r}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=e;exports.default=r;
},{}],"dPps":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./_createBaseFor.js"));function r(e){return e&&e.__esModule?e:{default:e}}var t=(0,e.default)(),u=t;exports.default=u;
},{"./_createBaseFor.js":"zHzo"}],"sSk5":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("./_root.js"));function o(e){return e&&e.__esModule?e:{default:e}}var t="object"==typeof exports&&exports&&!exports.nodeType&&exports,r=t&&"object"==typeof module&&module&&!module.nodeType&&module,u=r&&r.exports===t,d=u?e.default.Buffer:void 0,s=d?d.allocUnsafe:void 0;function l(e,o){if(o)return e.slice();var t=e.length,r=s?s(t):new e.constructor(t);return e.copy(r),r}var n=l;exports.default=n;
},{"./_root.js":"ygki"}],"D7yG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./_root.js"));function r(e){return e&&e.__esModule?e:{default:e}}var t=e.default.Uint8Array,u=t;exports.default=u;
},{"./_root.js":"ygki"}],"iOAS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_Uint8Array.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){var r=new t.constructor(t.byteLength);return new e.default(r).set(new e.default(t)),r}var u=r;exports.default=u;
},{"./_Uint8Array.js":"D7yG"}],"IuwR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./_cloneArrayBuffer.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r,t){var u=t?(0,e.default)(r.buffer):r.buffer;return new r.constructor(u,r.byteOffset,r.length)}var u=t;exports.default=u;
},{"./_cloneArrayBuffer.js":"iOAS"}],"jl6w":[function(require,module,exports) {
"use strict";function e(e,r){var t=-1,o=e.length;for(r||(r=Array(o));++t<o;)r[t]=e[t];return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=e;exports.default=r;
},{}],"xRHu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./isObject.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=Object.create,u=function(){function t(){}return function(u){if(!(0,e.default)(u))return{};if(r)return r(u);t.prototype=u;var o=new t;return t.prototype=void 0,o}}(),o=u;exports.default=o;
},{"./isObject.js":"DTZk"}],"u9EY":[function(require,module,exports) {
"use strict";function e(e,t){return function(r){return e(t(r))}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
},{}],"CtKb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_overArg.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=(0,e.default)(Object.getPrototypeOf,Object),o=r;exports.default=o;
},{"./_overArg.js":"u9EY"}],"ypTI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=Object.prototype;function e(e){var o=e&&e.constructor;return e===("function"==typeof o&&o.prototype||t)}var o=e;exports.default=o;
},{}],"zPkw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./_baseCreate.js")),t=u(require("./_getPrototype.js")),r=u(require("./_isPrototype.js"));function u(e){return e&&e.__esModule?e:{default:e}}function o(u){return"function"!=typeof u.constructor||(0,r.default)(u)?{}:(0,e.default)((0,t.default)(u))}var s=o;exports.default=s;
},{"./_baseCreate.js":"xRHu","./_getPrototype.js":"CtKb","./_isPrototype.js":"ypTI"}],"UKR9":[function(require,module,exports) {
"use strict";function e(e){return null!=e&&"object"==typeof e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
},{}],"oeDp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./_baseGetTag.js")),t=r(require("./isObjectLike.js"));function r(e){return e&&e.__esModule?e:{default:e}}var u="[object Arguments]";function s(r){return(0,t.default)(r)&&(0,e.default)(r)==u}var a=s;exports.default=a;
},{"./_baseGetTag.js":"svpX","./isObjectLike.js":"UKR9"}],"al6I":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./_baseIsArguments.js")),t=r(require("./isObjectLike.js"));function r(e){return e&&e.__esModule?e:{default:e}}var u=Object.prototype,l=u.hasOwnProperty,a=u.propertyIsEnumerable,s=(0,e.default)(function(){return arguments}())?e.default:function(e){return(0,t.default)(e)&&l.call(e,"callee")&&!a.call(e,"callee")},o=s;exports.default=o;
},{"./_baseIsArguments.js":"oeDp","./isObjectLike.js":"UKR9"}],"qLhI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=Array.isArray,r=e;exports.default=r;
},{}],"mCUm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=9007199254740991;function t(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=e}var r=t;exports.default=r;
},{}],"i0Cg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./isFunction.js")),t=u(require("./isLength.js"));function u(e){return e&&e.__esModule?e:{default:e}}function r(u){return null!=u&&(0,t.default)(u.length)&&!(0,e.default)(u)}var n=r;exports.default=n;
},{"./isFunction.js":"tWvT","./isLength.js":"mCUm"}],"jj7M":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./isArrayLike.js")),r=t(require("./isObjectLike.js"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t){return(0,r.default)(t)&&(0,e.default)(t)}var i=u;exports.default=i;
},{"./isArrayLike.js":"i0Cg","./isObjectLike.js":"UKR9"}],"Lq1O":[function(require,module,exports) {
"use strict";function e(){return!1}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
},{}],"wmtC":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_root.js")),o=t(require("./stubFalse.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r="object"==typeof exports&&exports&&!exports.nodeType&&exports,u=r&&"object"==typeof module&&module&&!module.nodeType&&module,d=u&&u.exports===r,s=d?e.default.Buffer:void 0,f=s?s.isBuffer:void 0,l=f||o.default,p=l;exports.default=p;
},{"./_root.js":"ygki","./stubFalse.js":"Lq1O"}],"TS5f":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("./_baseGetTag.js")),t=o(require("./_getPrototype.js")),r=o(require("./isObjectLike.js"));function o(e){return e&&e.__esModule?e:{default:e}}var u="[object Object]",n=Function.prototype,a=Object.prototype,c=n.toString,l=a.hasOwnProperty,i=c.call(Object);function s(o){if(!(0,r.default)(o)||(0,e.default)(o)!=u)return!1;var n=(0,t.default)(o);if(null===n)return!0;var a=l.call(n,"constructor")&&n.constructor;return"function"==typeof a&&a instanceof a&&c.call(a)==i}var f=s;exports.default=f;
},{"./_baseGetTag.js":"svpX","./_getPrototype.js":"CtKb","./isObjectLike.js":"UKR9"}],"hZsA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("./_baseGetTag.js")),t=o(require("./isLength.js")),r=o(require("./isObjectLike.js"));function o(e){return e&&e.__esModule?e:{default:e}}var a="[object Arguments]",c="[object Array]",j="[object Boolean]",b="[object Date]",n="[object Error]",u="[object Function]",i="[object Map]",l="[object Number]",s="[object Object]",y="[object RegExp]",A="[object Set]",d="[object String]",f="[object WeakMap]",p="[object ArrayBuffer]",g="[object DataView]",v="[object Float32Array]",_="[object Float64Array]",x="[object Int8Array]",M="[object Int16Array]",U="[object Int32Array]",m="[object Uint8Array]",q="[object Uint8ClampedArray]",F="[object Uint16Array]",I="[object Uint32Array]",O={};function h(o){return(0,r.default)(o)&&(0,t.default)(o.length)&&!!O[(0,e.default)(o)]}O[v]=O[_]=O[x]=O[M]=O[U]=O[m]=O[q]=O[F]=O[I]=!0,O[a]=O[c]=O[p]=O[j]=O[g]=O[b]=O[n]=O[u]=O[i]=O[l]=O[s]=O[y]=O[A]=O[d]=O[f]=!1;var k=h;exports.default=k;
},{"./_baseGetTag.js":"svpX","./isLength.js":"mCUm","./isObjectLike.js":"UKR9"}],"pmj6":[function(require,module,exports) {
"use strict";function e(e){return function(t){return e(t)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
},{}],"oPFz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_freeGlobal.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=r&&"object"==typeof module&&module&&!module.nodeType&&module,u=o&&o.exports===r,d=u&&e.default.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||d&&d.binding&&d.binding("util")}catch(t){}}(),l=s;exports.default=l;
},{"./_freeGlobal.js":"iJ7y"}],"fnl5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./_baseIsTypedArray.js")),r=u(require("./_baseUnary.js")),t=u(require("./_nodeUtil.js"));function u(e){return e&&e.__esModule?e:{default:e}}var a=t.default&&t.default.isTypedArray,d=a?(0,r.default)(a):e.default,s=d;exports.default=s;
},{"./_baseIsTypedArray.js":"hZsA","./_baseUnary.js":"pmj6","./_nodeUtil.js":"oPFz"}],"yVGE":[function(require,module,exports) {
"use strict";function t(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t;exports.default=e;
},{}],"v5uL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_baseAssignValue.js")),r=t(require("./eq.js"));function t(e){return e&&e.__esModule?e:{default:e}}var u=Object.prototype,a=u.hasOwnProperty;function o(t,u,o){var s=t[u];a.call(t,u)&&(0,r.default)(s,o)&&(void 0!==o||u in t)||(0,e.default)(t,u,o)}var s=o;exports.default=s;
},{"./_baseAssignValue.js":"jqVF","./eq.js":"SRq7"}],"YOPJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_assignValue.js")),r=t(require("./_baseAssignValue.js"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t,u,a,s){var o=!a;a||(a={});for(var d=-1,i=u.length;++d<i;){var l=u[d],n=s?s(a[l],t[l],l,a,t):void 0;void 0===n&&(n=t[l]),o?(0,r.default)(a,l,n):(0,e.default)(a,l,n)}return a}var a=u;exports.default=a;
},{"./_assignValue.js":"v5uL","./_baseAssignValue.js":"jqVF"}],"MXGH":[function(require,module,exports) {
"use strict";function e(e,r){for(var t=-1,o=Array(e);++t<e;)o[t]=r(t);return o}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=e;exports.default=r;
},{}],"GFSo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(r,o){var u=typeof r;return!!(o=null==o?e:o)&&("number"==u||"symbol"!=u&&t.test(r))&&r>-1&&r%1==0&&r<o}var o=r;exports.default=o;
},{}],"AxCa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=f(require("./_baseTimes.js")),r=f(require("./isArguments.js")),t=f(require("./isArray.js")),u=f(require("./isBuffer.js")),s=f(require("./_isIndex.js")),a=f(require("./isTypedArray.js"));function f(e){return e&&e.__esModule?e:{default:e}}var i=Object.prototype,l=i.hasOwnProperty;function n(f,i){var n=(0,t.default)(f),d=!n&&(0,r.default)(f),o=!n&&!d&&(0,u.default)(f),p=!n&&!d&&!o&&(0,a.default)(f),j=n||d||o||p,y=j?(0,e.default)(f.length,String):[],v=y.length;for(var b in f)!i&&!l.call(f,b)||j&&("length"==b||o&&("offset"==b||"parent"==b)||p&&("buffer"==b||"byteLength"==b||"byteOffset"==b)||(0,s.default)(b,v))||y.push(b);return y}var d=n;exports.default=d;
},{"./_baseTimes.js":"MXGH","./isArguments.js":"al6I","./isArray.js":"qLhI","./isBuffer.js":"wmtC","./_isIndex.js":"GFSo","./isTypedArray.js":"fnl5"}],"Cp0p":[function(require,module,exports) {
"use strict";function e(e){var r=[];if(null!=e)for(var t in Object(e))r.push(t);return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=e;exports.default=r;
},{}],"gfWF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./isObject.js")),r=u(require("./_isPrototype.js")),t=u(require("./_nativeKeysIn.js"));function u(e){return e&&e.__esModule?e:{default:e}}var o=Object.prototype,s=o.hasOwnProperty;function a(u){if(!(0,e.default)(u))return(0,t.default)(u);var o=(0,r.default)(u),a=[];for(var i in u)("constructor"!=i||!o&&s.call(u,i))&&a.push(i);return a}var i=a;exports.default=i;
},{"./isObject.js":"DTZk","./_isPrototype.js":"ypTI","./_nativeKeysIn.js":"Cp0p"}],"DXqq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./_arrayLikeKeys.js")),r=u(require("./_baseKeysIn.js")),t=u(require("./isArrayLike.js"));function u(e){return e&&e.__esModule?e:{default:e}}function s(u){return(0,t.default)(u)?(0,e.default)(u,!0):(0,r.default)(u)}var a=s;exports.default=a;
},{"./_arrayLikeKeys.js":"AxCa","./_baseKeysIn.js":"gfWF","./isArrayLike.js":"i0Cg"}],"MGUh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./_copyObject.js")),t=r(require("./keysIn.js"));function r(e){return e&&e.__esModule?e:{default:e}}function u(r){return(0,e.default)(r,(0,t.default)(r))}var o=u;exports.default=o;
},{"./_copyObject.js":"YOPJ","./keysIn.js":"DXqq"}],"eIyh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=_(require("./_assignMergeValue.js")),r=_(require("./_cloneBuffer.js")),u=_(require("./_cloneTypedArray.js")),t=_(require("./_copyArray.js")),i=_(require("./_initCloneObject.js")),a=_(require("./isArguments.js")),s=_(require("./isArray.js")),l=_(require("./isArrayLikeObject.js")),f=_(require("./isBuffer.js")),d=_(require("./isFunction.js")),j=_(require("./isObject.js")),o=_(require("./isPlainObject.js")),n=_(require("./isTypedArray.js")),q=_(require("./_safeGet.js")),c=_(require("./toPlainObject.js"));function _(e){return e&&e.__esModule?e:{default:e}}function v(_,v,y,p,b,A,O){var g=(0,q.default)(_,y),x=(0,q.default)(v,y),M=O.get(x);if(M)(0,e.default)(_,y,M);else{var P=A?A(g,x,y+"",_,v,O):void 0,B=void 0===P;if(B){var T=(0,s.default)(x),k=!T&&(0,f.default)(x),m=!T&&!k&&(0,n.default)(x);P=x,T||k||m?(0,s.default)(g)?P=g:(0,l.default)(g)?P=(0,t.default)(g):k?(B=!1,P=(0,r.default)(x,!0)):m?(B=!1,P=(0,u.default)(x,!0)):P=[]:(0,o.default)(x)||(0,a.default)(x)?(P=g,(0,a.default)(g)?P=(0,c.default)(g):(0,j.default)(g)&&!(0,d.default)(g)||(P=(0,i.default)(x))):B=!1}B&&(O.set(x,P),b(P,x,p,A,O),O.delete(x)),(0,e.default)(_,y,P)}}var y=v;exports.default=y;
},{"./_assignMergeValue.js":"pKPs","./_cloneBuffer.js":"sSk5","./_cloneTypedArray.js":"IuwR","./_copyArray.js":"jl6w","./_initCloneObject.js":"zPkw","./isArguments.js":"al6I","./isArray.js":"qLhI","./isArrayLikeObject.js":"jj7M","./isBuffer.js":"wmtC","./isFunction.js":"tWvT","./isObject.js":"DTZk","./isPlainObject.js":"TS5f","./isTypedArray.js":"fnl5","./_safeGet.js":"yVGE","./toPlainObject.js":"MGUh"}],"un5G":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=d(require("./_Stack.js")),r=d(require("./_assignMergeValue.js")),u=d(require("./_baseFor.js")),t=d(require("./_baseMergeDeep.js")),s=d(require("./isObject.js")),a=d(require("./keysIn.js")),i=d(require("./_safeGet.js"));function d(e){return e&&e.__esModule?e:{default:e}}function f(d,l,o,n,j){d!==l&&(0,u.default)(l,function(u,a){if(j||(j=new e.default),(0,s.default)(u))(0,t.default)(d,l,a,o,f,n,j);else{var _=n?n((0,i.default)(d,a),u,a+"",d,l,j):void 0;void 0===_&&(_=u),(0,r.default)(d,a,_)}},a.default)}var l=f;exports.default=l;
},{"./_Stack.js":"sIK7","./_assignMergeValue.js":"pKPs","./_baseFor.js":"dPps","./_baseMergeDeep.js":"eIyh","./isObject.js":"DTZk","./keysIn.js":"DXqq","./_safeGet.js":"yVGE"}],"AUrc":[function(require,module,exports) {
"use strict";function e(e){return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
},{}],"p8Y1":[function(require,module,exports) {
"use strict";function e(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=e;exports.default=r;
},{}],"v8UI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=e(require("./_apply.js"));function e(r){return r&&r.__esModule?r:{default:r}}var t=Math.max;function a(e,a,u){return a=t(void 0===a?e.length-1:a,0),function(){for(var o=arguments,n=-1,f=t(o.length-a,0),l=Array(f);++n<f;)l[n]=o[a+n];n=-1;for(var d=Array(a+1);++n<a;)d[n]=o[n];return d[a]=u(l),(0,r.default)(e,this,d)}}var u=a;exports.default=u;
},{"./_apply.js":"p8Y1"}],"L11X":[function(require,module,exports) {
"use strict";function e(e){return function(){return e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
},{}],"zNbT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./constant.js")),t=u(require("./_defineProperty.js")),r=u(require("./identity.js"));function u(e){return e&&e.__esModule?e:{default:e}}var a=t.default?function(r,u){return(0,t.default)(r,"toString",{configurable:!0,enumerable:!1,value:(0,e.default)(u),writable:!0})}:r.default,i=a;exports.default=i;
},{"./constant.js":"L11X","./_defineProperty.js":"rhit","./identity.js":"AUrc"}],"iVIH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=800,r=16,t=Date.now;function o(o){var u=0,a=0;return function(){var n=t(),i=r-(n-a);if(a=n,i>0){if(++u>=e)return arguments[0]}else u=0;return o.apply(void 0,arguments)}}var u=o;exports.default=u;
},{}],"MUdw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./_baseSetToString.js")),t=r(require("./_shortOut.js"));function r(e){return e&&e.__esModule?e:{default:e}}var u=(0,t.default)(e.default),s=u;exports.default=s;
},{"./_baseSetToString.js":"zNbT","./_shortOut.js":"iVIH"}],"EzvV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./identity.js")),t=u(require("./_overRest.js")),r=u(require("./_setToString.js"));function u(e){return e&&e.__esModule?e:{default:e}}function s(u,s){return(0,r.default)((0,t.default)(u,s,e.default),u+"")}var d=s;exports.default=d;
},{"./identity.js":"AUrc","./_overRest.js":"v8UI","./_setToString.js":"MUdw"}],"xaac":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("./eq.js")),r=i(require("./isArrayLike.js")),t=i(require("./_isIndex.js")),u=i(require("./isObject.js"));function i(e){return e&&e.__esModule?e:{default:e}}function s(i,s,n){if(!(0,u.default)(n))return!1;var a=typeof s;return!!("number"==a?(0,r.default)(n)&&(0,t.default)(s,n.length):"string"==a&&s in n)&&(0,e.default)(n[s],i)}var n=s;exports.default=n;
},{"./eq.js":"SRq7","./isArrayLike.js":"i0Cg","./_isIndex.js":"GFSo","./isObject.js":"DTZk"}],"Mccr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./_baseRest.js")),t=r(require("./_isIterateeCall.js"));function r(e){return e&&e.__esModule?e:{default:e}}function u(r){return(0,e.default)(function(e,u){var o=-1,i=u.length,n=i>1?u[i-1]:void 0,a=i>2?u[2]:void 0;for(n=r.length>3&&"function"==typeof n?(i--,n):void 0,a&&(0,t.default)(u[0],u[1],a)&&(n=i<3?void 0:n,i=1),e=Object(e);++o<i;){var d=u[o];d&&r(e,d,o,n)}return e})}var o=u;exports.default=o;
},{"./_baseRest.js":"EzvV","./_isIterateeCall.js":"xaac"}],"qRtw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_baseMerge.js")),r=t(require("./_createAssigner.js"));function t(e){return e&&e.__esModule?e:{default:e}}var u=(0,r.default)(function(r,t,u){(0,e.default)(r,t,u)}),s=u;exports.default=s;
},{"./_baseMerge.js":"un5G","./_createAssigner.js":"Mccr"}],"Z7xV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./_baseGetTag.js")),t=r(require("./isObjectLike.js"));function r(e){return e&&e.__esModule?e:{default:e}}var u="[object Symbol]";function o(r){return"symbol"==typeof r||(0,t.default)(r)&&(0,e.default)(r)==u}var s=o;exports.default=s;
},{"./_baseGetTag.js":"svpX","./isObjectLike.js":"UKR9"}],"LnD9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./isArray.js")),r=t(require("./isSymbol.js"));function t(e){return e&&e.__esModule?e:{default:e}}var u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/;function o(t,o){if((0,e.default)(t))return!1;var s=typeof t;return!("number"!=s&&"symbol"!=s&&"boolean"!=s&&null!=t&&!(0,r.default)(t))||(l.test(t)||!u.test(t)||null!=o&&t in Object(o))}var s=o;exports.default=s;
},{"./isArray.js":"qLhI","./isSymbol.js":"Z7xV"}],"mNqw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_MapCache.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r="Expected a function";function a(t,u){if("function"!=typeof t||null!=u&&"function"!=typeof u)throw new TypeError(r);var n=function(){var e=arguments,r=u?u.apply(this,e):e[0],a=n.cache;if(a.has(r))return a.get(r);var c=t.apply(this,e);return n.cache=a.set(r,c)||a,c};return n.cache=new(a.Cache||e.default),n}a.Cache=e.default;var u=a;exports.default=u;
},{"./_MapCache.js":"Ov7L"}],"ZHiD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./memoize.js"));function r(e){return e&&e.__esModule?e:{default:e}}var t=500;function u(r){var u=(0,e.default)(r,function(e){return a.size===t&&a.clear(),e}),a=u.cache;return u}var a=u;exports.default=a;
},{"./memoize.js":"mNqw"}],"Zn9S":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./_memoizeCapped.js"));function r(e){return e&&e.__esModule?e:{default:e}}var t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,a=(0,e.default)(function(e){var r=[];return 46===e.charCodeAt(0)&&r.push(""),e.replace(t,function(e,t,a,d){r.push(a?d.replace(u,"$1"):t||e)}),r}),d=a;exports.default=d;
},{"./_memoizeCapped.js":"ZHiD"}],"Ghew":[function(require,module,exports) {
"use strict";function e(e,r){for(var t=-1,o=null==e?0:e.length,u=Array(o);++t<o;)u[t]=r(e[t],t,e);return u}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=e;exports.default=r;
},{}],"fELs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("./_Symbol.js")),r=a(require("./_arrayMap.js")),t=a(require("./isArray.js")),u=a(require("./isSymbol.js"));function a(e){return e&&e.__esModule?e:{default:e}}var i=1/0,o=e.default?e.default.prototype:void 0,f=o?o.toString:void 0;function l(e){if("string"==typeof e)return e;if((0,t.default)(e))return(0,r.default)(e,l)+"";if((0,u.default)(e))return f?f.call(e):"";var a=e+"";return"0"==a&&1/e==-i?"-0":a}var d=l;exports.default=d;
},{"./_Symbol.js":"Oi8n","./_arrayMap.js":"Ghew","./isArray.js":"qLhI","./isSymbol.js":"Z7xV"}],"qnJJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_baseToString.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){return null==t?"":(0,e.default)(t)}var u=r;exports.default=u;
},{"./_baseToString.js":"fELs"}],"KyMu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("./isArray.js")),r=s(require("./_isKey.js")),t=s(require("./_stringToPath.js")),u=s(require("./toString.js"));function s(e){return e&&e.__esModule?e:{default:e}}function i(s,i){return(0,e.default)(s)?s:(0,r.default)(s,i)?[s]:(0,t.default)((0,u.default)(s))}var a=i;exports.default=a;
},{"./isArray.js":"qLhI","./_isKey.js":"LnD9","./_stringToPath.js":"Zn9S","./toString.js":"qnJJ"}],"RSkD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./isSymbol.js"));function r(e){return e&&e.__esModule?e:{default:e}}var t=1/0;function u(r){if("string"==typeof r||(0,e.default)(r))return r;var u=r+"";return"0"==u&&1/r==-t?"-0":u}var o=u;exports.default=o;
},{"./isSymbol.js":"Z7xV"}],"w3eF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./_castPath.js")),t=r(require("./_toKey.js"));function r(e){return e&&e.__esModule?e:{default:e}}function u(r,u){for(var o=0,a=(u=(0,e.default)(u,r)).length;null!=r&&o<a;)r=r[(0,t.default)(u[o++])];return o&&o==a?r:void 0}var o=u;exports.default=o;
},{"./_castPath.js":"KyMu","./_toKey.js":"RSkD"}],"Kbhy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("./_assignValue.js")),r=o(require("./_castPath.js")),t=o(require("./_isIndex.js")),u=o(require("./isObject.js")),a=o(require("./_toKey.js"));function o(e){return e&&e.__esModule?e:{default:e}}function i(o,i,s,d){if(!(0,u.default)(o))return o;for(var f=-1,l=(i=(0,r.default)(i,o)).length,n=l-1,_=o;null!=_&&++f<l;){var v=(0,a.default)(i[f]),c=s;if("__proto__"===v||"constructor"===v||"prototype"===v)return o;if(f!=n){var j=_[v];void 0===(c=d?d(j,v,_):void 0)&&(c=(0,u.default)(j)?j:(0,t.default)(i[f+1])?[]:{})}(0,e.default)(_,v,c),_=_[v]}return o}var s=i;exports.default=s;
},{"./_assignValue.js":"v5uL","./_castPath.js":"KyMu","./_isIndex.js":"GFSo","./isObject.js":"DTZk","./_toKey.js":"RSkD"}],"sXOS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./_baseGet.js")),t=u(require("./_baseSet.js")),r=u(require("./_castPath.js"));function u(e){return e&&e.__esModule?e:{default:e}}function a(u,a,s){for(var d=-1,f=a.length,l={};++d<f;){var o=a[d],i=(0,e.default)(u,o);s(i,o)&&(0,t.default)(l,(0,r.default)(o,u),i)}return l}var s=a;exports.default=s;
},{"./_baseGet.js":"w3eF","./_baseSet.js":"Kbhy","./_castPath.js":"KyMu"}],"k9tN":[function(require,module,exports) {
"use strict";function e(e,t){return null!=e&&t in Object(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
},{}],"vTiw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=l(require("./_castPath.js")),r=l(require("./isArguments.js")),t=l(require("./isArray.js")),u=l(require("./_isIndex.js")),s=l(require("./isLength.js")),a=l(require("./_toKey.js"));function l(e){return e&&e.__esModule?e:{default:e}}function i(l,i,d){for(var f=-1,n=(i=(0,e.default)(i,l)).length,o=!1;++f<n;){var j=(0,a.default)(i[f]);if(!(o=null!=l&&d(l,j)))break;l=l[j]}return o||++f!=n?o:!!(n=null==l?0:l.length)&&(0,s.default)(n)&&(0,u.default)(j,n)&&((0,t.default)(l)||(0,r.default)(l))}var d=i;exports.default=d;
},{"./_castPath.js":"KyMu","./isArguments.js":"al6I","./isArray.js":"qLhI","./_isIndex.js":"GFSo","./isLength.js":"mCUm","./_toKey.js":"RSkD"}],"Ozwg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./_baseHasIn.js")),t=r(require("./_hasPath.js"));function r(e){return e&&e.__esModule?e:{default:e}}function u(r,u){return null!=r&&(0,t.default)(r,u,e.default)}var a=u;exports.default=a;
},{"./_baseHasIn.js":"k9tN","./_hasPath.js":"vTiw"}],"vw3o":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_basePickBy.js")),r=t(require("./hasIn.js"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t,u){return(0,e.default)(t,u,function(e,u){return(0,r.default)(t,u)})}var n=u;exports.default=n;
},{"./_basePickBy.js":"sXOS","./hasIn.js":"Ozwg"}],"MtbE":[function(require,module,exports) {
"use strict";function e(e,t){for(var r=-1,o=t.length,u=e.length;++r<o;)e[u+r]=t[r];return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
},{}],"OnWk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./_Symbol.js")),r=u(require("./isArguments.js")),t=u(require("./isArray.js"));function u(e){return e&&e.__esModule?e:{default:e}}var a=e.default?e.default.isConcatSpreadable:void 0;function s(e){return(0,t.default)(e)||(0,r.default)(e)||!!(a&&e&&e[a])}var d=s;exports.default=d;
},{"./_Symbol.js":"Oi8n","./isArguments.js":"al6I","./isArray.js":"qLhI"}],"AIuU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_arrayPush.js")),r=t(require("./_isFlattenable.js"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t,a,l,s,n){var o=-1,d=t.length;for(l||(l=r.default),n||(n=[]);++o<d;){var f=t[o];a>0&&l(f)?a>1?u(f,a-1,l,s,n):(0,e.default)(n,f):s||(n[n.length]=f)}return n}var a=u;exports.default=a;
},{"./_arrayPush.js":"MtbE","./_isFlattenable.js":"OnWk"}],"SnBt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_baseFlatten.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){return(null==t?0:t.length)?(0,e.default)(t,1):[]}var u=r;exports.default=u;
},{"./_baseFlatten.js":"AIuU"}],"rhCp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./flatten.js")),t=u(require("./_overRest.js")),r=u(require("./_setToString.js"));function u(e){return e&&e.__esModule?e:{default:e}}function o(u){return(0,r.default)((0,t.default)(u,void 0,e.default),u+"")}var s=o;exports.default=s;
},{"./flatten.js":"SnBt","./_overRest.js":"v8UI","./_setToString.js":"MUdw"}],"S1Px":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./_basePick.js")),t=r(require("./_flatRest.js"));function r(e){return e&&e.__esModule?e:{default:e}}var u=(0,t.default)(function(t,r){return null==t?{}:(0,e.default)(t,r)}),l=u;exports.default=l;
},{"./_basePick.js":"vw3o","./_flatRest.js":"rhCp"}],"imeZ":[function(require,module,exports) {
var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,e=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function t(r,e){var t=e.replace(/\/{2,9}/g,"/").split("/");return"/"!=e.substr(0,1)&&0!==e.length||t.splice(0,1),"/"==e.substr(e.length-1,1)&&t.splice(t.length-1,1),t}function s(r,e){var t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,e,s){e&&(t[e]=s)}),t}module.exports=function(u){var a=u,n=u.indexOf("["),o=u.indexOf("]");-1!=n&&-1!=o&&(u=u.substring(0,n)+u.substring(n,o).replace(/:/g,";")+u.substring(o,u.length));for(var i=r.exec(u||""),p={},c=14;c--;)p[e[c]]=i[c]||"";return-1!=n&&-1!=o&&(p.source=a,p.host=p.host.substring(1,p.host.length-1).replace(/;/g,":"),p.authority=p.authority.replace("[","").replace("]","").replace(/;/g,":"),p.ipv6uri=!0),p.pathNames=t(p,p.path),p.queryKey=s(p,p.query),p};
},{}],"IAgR":[function(require,module,exports) {
var s=1e3,e=60*s,r=60*e,a=24*r,n=7*a,c=365.25*a;function t(t){if(!((t=String(t)).length>100)){var u=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(u){var i=parseFloat(u[1]);switch((u[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return i*c;case"weeks":case"week":case"w":return i*n;case"days":case"day":case"d":return i*a;case"hours":case"hour":case"hrs":case"hr":case"h":return i*r;case"minutes":case"minute":case"mins":case"min":case"m":return i*e;case"seconds":case"second":case"secs":case"sec":case"s":return i*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function u(n){var c=Math.abs(n);return c>=a?Math.round(n/a)+"d":c>=r?Math.round(n/r)+"h":c>=e?Math.round(n/e)+"m":c>=s?Math.round(n/s)+"s":n+"ms"}function i(n){var c=Math.abs(n);return c>=a?o(n,c,a,"day"):c>=r?o(n,c,r,"hour"):c>=e?o(n,c,e,"minute"):c>=s?o(n,c,s,"second"):n+" ms"}function o(s,e,r,a){var n=e>=1.5*r;return Math.round(s/r)+" "+a+(n?"s":"")}module.exports=function(s,e){e=e||{};var r=typeof s;if("string"===r&&s.length>0)return t(s);if("number"===r&&isFinite(s))return e.long?i(s):u(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))};
},{}],"Kest":[function(require,module,exports) {
function e(e){return o(e)||t(e)||n(e)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,r){if(e){if("string"==typeof e)return a(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,r):void 0}}function t(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function o(e){if(Array.isArray(e))return a(e)}function a(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function i(r){function n(e){var r,o=null;function a(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];if(a.enabled){var i=a,s=Number(new Date),u=s-(r||s);i.diff=u,i.prev=r,i.curr=s,r=s,t[0]=n.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var l=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(e,r){if("%%"===e)return"%";l++;var o=n.formatters[r];if("function"==typeof o){var a=t[l];e=o.call(i,a),t.splice(l,1),l--}return e}),n.formatArgs.call(i,t),(i.log||n.log).apply(i,t)}}return a.namespace=e,a.useColors=n.useColors(),a.color=n.selectColor(e),a.extend=t,a.destroy=n.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:function(){return null===o?n.enabled(e):o},set:function(e){o=e}}),"function"==typeof n.init&&n.init(a),a}function t(e,r){var t=n(this.namespace+(void 0===r?":":r)+e);return t.log=this.log,t}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},n.disable=function(){var r=[].concat(e(n.names.map(o)),e(n.skips.map(o).map(function(e){return"-"+e}))).join(",");return n.enable(""),r},n.enable=function(e){var r;n.save(e),n.names=[],n.skips=[];var t=("string"==typeof e?e:"").split(/[\s,]+/),o=t.length;for(r=0;r<o;r++)t[r]&&("-"===(e=t[r].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))},n.enabled=function(e){if("*"===e[e.length-1])return!0;var r,t;for(r=0,t=n.skips.length;r<t;r++)if(n.skips[r].test(e))return!1;for(r=0,t=n.names.length;r<t;r++)if(n.names[r].test(e))return!0;return!1},n.humanize=require("ms"),n.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(r).forEach(function(e){n[e]=r[e]}),n.names=[],n.skips=[],n.formatters={},n.selectColor=function(e){for(var r=0,t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return n.colors[Math.abs(r)%n.colors.length]},n.enable(n.load()),n}module.exports=i;
},{"ms":"IAgR"}],"jcLW":[function(require,module,exports) {
var process = require("process");
var e=require("process");function o(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function C(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+module.exports.humanize(this.diff),this.useColors){var o="color: "+this.color;e.splice(1,0,o,"color: inherit");var C=0,t=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(C++,"%c"===e&&(t=C))}),e.splice(t,0,o)}}function t(e){try{e?exports.storage.setItem("debug",e):exports.storage.removeItem("debug")}catch(o){}}function r(){var o;try{o=exports.storage.getItem("debug")}catch(C){}return!o&&void 0!==e&&"env"in e&&(o=void 0),o}function n(){try{return localStorage}catch(e){}}exports.formatArgs=C,exports.save=t,exports.load=r,exports.useColors=o,exports.storage=n(),exports.destroy=function(){var e=!1;return function(){e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}}(),exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],exports.log=console.debug||console.log||function(){},module.exports=require("./common")(exports);var{formatters:s}=module.exports;s.j=function(e){try{return JSON.stringify(e)}catch(o){return"[UnexpectedJSONParseError]: "+o.message}};
},{"./common":"Kest","process":"pBGv"}],"NC0g":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.url=void 0;var t=require("parseuri"),o=require("debug")("socket.io-client:url");function r(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",p=arguments.length>2?arguments[2]:void 0,s=r;p=p||"undefined"!=typeof location&&location,null==r&&(r=p.protocol+"//"+p.host),"string"==typeof r&&("/"===r.charAt(0)&&(r="/"===r.charAt(1)?p.protocol+r:p.host+r),/^(https?|wss?):\/\//.test(r)||(o("protocol-less url %s",r),r=void 0!==p?p.protocol+"//"+r:"https://"+r),o("parse %s",r),s=t(r)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";var l=-1!==s.host.indexOf(":")?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+l+":"+s.port+e,s.href=s.protocol+"://"+l+(p&&p.port===s.port?"":":"+s.port),s}exports.url=r;
},{"parseuri":"imeZ","debug":"jcLW"}],"mYnU":[function(require,module,exports) {
try{module.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){module.exports=!1}
},{}],"ViVL":[function(require,module,exports) {
module.exports=(()=>"undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")())();
},{}],"cVUh":[function(require,module,exports) {
const e=require("has-cors"),t=require("./globalThis");module.exports=function(n){const c=n.xdomain,o=n.xscheme,r=n.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!c||e))return new XMLHttpRequest}catch(i){}try{if("undefined"!=typeof XDomainRequest&&!o&&r)return new XDomainRequest}catch(i){}if(!c)try{return new(t[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(i){}};
},{"has-cors":"mYnU","./globalThis":"ViVL"}],"MMLY":[function(require,module,exports) {
var e=Object.create(null);e.open="0",e.close="1",e.ping="2",e.pong="3",e.message="4",e.upgrade="5",e.noop="6";var r=Object.create(null);Object.keys(e).forEach(function(a){r[e[a]]=a});var a={type:"error",data:"parser error"};module.exports={PACKET_TYPES:e,PACKET_TYPES_REVERSE:r,ERROR_PACKET:a};
},{}],"UafP":[function(require,module,exports) {
var r=require("./commons"),e=r.PACKET_TYPES,n="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),o="function"==typeof ArrayBuffer,f=function(r){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer},t=function(r,t,a){var i=r.type,c=r.data;return n&&c instanceof Blob?t?a(c):u(c,a):o&&(c instanceof ArrayBuffer||f(c))?t?a(c instanceof ArrayBuffer?c:c.buffer):u(new Blob([c]),a):a(e[i]+(c||""))},u=function(r,e){var n=new FileReader;return n.onload=function(){var r=n.result.split(",")[1];e("b"+r)},n.readAsDataURL(r)};module.exports=t;
},{"./commons":"MMLY"}],"vLJO":[function(require,module,exports) {
!function(n){"use strict";exports.encode=function(e){var r,t=new Uint8Array(e),i=t.length,f="";for(r=0;r<i;r+=3)f+=n[t[r]>>2],f+=n[(3&t[r])<<4|t[r+1]>>4],f+=n[(15&t[r+1])<<2|t[r+2]>>6],f+=n[63&t[r+2]];return i%3==2?f=f.substring(0,f.length-1)+"=":i%3==1&&(f=f.substring(0,f.length-2)+"=="),f},exports.decode=function(e){var r,t,i,f,g,o=.75*e.length,u=e.length,s=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var d=new ArrayBuffer(o),h=new Uint8Array(d);for(r=0;r<u;r+=4)t=n.indexOf(e[r]),i=n.indexOf(e[r+1]),f=n.indexOf(e[r+2]),g=n.indexOf(e[r+3]),h[s++]=t<<2|i>>4,h[s++]=(15&i)<<4|f>>2,h[s++]=(3&f)<<6|63&g;return d}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");
},{}],"BVy5":[function(require,module,exports) {
var r,e=require("./commons"),t=e.PACKET_TYPES_REVERSE,a=e.ERROR_PACKET,n="function"==typeof ArrayBuffer;n&&(r=require("base64-arraybuffer"));var u=function(r,e){if("string"!=typeof r)return{type:"message",data:s(r,e)};var n=r.charAt(0);return"b"===n?{type:"message",data:f(r.substring(1),e)}:t[n]?r.length>1?{type:t[n],data:r.substring(1)}:{type:t[n]}:a},f=function(e,t){if(r){var a=r.decode(e);return s(a,t)}return{base64:!0,data:e}},s=function(r,e){switch(e){case"blob":return r instanceof ArrayBuffer?new Blob([r]):r;case"arraybuffer":default:return r}};module.exports=u;
},{"./commons":"MMLY","base64-arraybuffer":"vLJO"}],"fAXJ":[function(require,module,exports) {
var e=require("./encodePacket"),o=require("./decodePacket"),r=String.fromCharCode(30),n=function(o,n){var a=o.length,c=new Array(a),t=0;o.forEach(function(o,d){e(o,!1,function(e){c[d]=e,++t===a&&n(c.join(r))})})},a=function(e,n){for(var a=e.split(r),c=[],t=0;t<a.length;t++){var d=o(a[t],n);if(c.push(d),"error"===d.type)break}return c};module.exports={protocol:4,encodePacket:e,encodePayload:n,decodePacket:o,decodePayload:a};
},{"./encodePacket":"UafP","./decodePacket":"BVy5"}],"Wr69":[function(require,module,exports) {
function t(t){if(t)return e(t)}function e(e){for(var s in t.prototype)e[s]=t.prototype[s];return e}"undefined"!=typeof module&&(module.exports=t),t.prototype.on=t.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},t.prototype.once=function(t,e){function s(){this.off(t,s),e.apply(this,arguments)}return s.fn=e,this.on(t,s),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var s,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((s=r[i])===e||s.fn===e){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},t.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),s=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(s){r=0;for(var i=(s=s.slice(0)).length;r<i;++r)s[r].apply(this,e)}return this},t.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},t.prototype.hasListeners=function(t){return!!this.listeners(t).length};
},{}],"HBl9":[function(require,module,exports) {
const t=require("engine.io-parser"),e=require("component-emitter");class r extends e{constructor(t){super(),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,e){const r=new Error(t);return r.type="TransportError",r.description=e,this.emit("error",r),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)}onOpen(){this.readyState="open",this.writable=!0,this.emit("open")}onData(e){const r=t.decodePacket(e,this.socket.binaryType);this.onPacket(r)}onPacket(t){this.emit("packet",t)}onClose(){this.readyState="closed",this.emit("close")}}module.exports=r;
},{"engine.io-parser":"fAXJ","component-emitter":"Wr69"}],"vs2a":[function(require,module,exports) {
exports.encode=function(e){var n="";for(var o in e)e.hasOwnProperty(o)&&(n.length&&(n+="&"),n+=encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return n},exports.decode=function(e){for(var n={},o=e.split("&"),t=0,r=o.length;t<r;t++){var d=o[t].split("=");n[decodeURIComponent(d[0])]=decodeURIComponent(d[1])}return n};
},{}],"t9Jt":[function(require,module,exports) {
"use strict";var r,e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),t=64,n={},o=0,u=0;function a(r){var n="";do{n=e[r%t]+n,r=Math.floor(r/t)}while(r>0);return n}function c(r){var e=0;for(u=0;u<r.length;u++)e=e*t+n[r.charAt(u)];return e}function f(){var e=a(+new Date);return e!==r?(o=0,r=e):e+"."+a(o++)}for(;u<t;u++)n[e[u]]=u;f.encode=a,f.decode=c,module.exports=f;
},{}],"hsm0":[function(require,module,exports) {
const t=require("../transport"),e=require("parseqs"),i=require("engine.io-parser"),s=require("yeast"),o=require("debug")("engine.io-client:polling");class n extends t{get name(){return"polling"}doOpen(){this.poll()}pause(t){const e=this;function i(){o("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){let t=0;this.polling&&(o("we are currently polling - waiting to pause"),t++,this.once("pollComplete",function(){o("pre-pause polling complete"),--t||i()})),this.writable||(o("we are currently writing - waiting to pause"),t++,this.once("drain",function(){o("pre-pause writing complete"),--t||i()}))}else i()}poll(){o("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}onData(t){const e=this;o("polling got data %s",t);i.decodePayload(t,this.socket.binaryType).forEach(function(t,i,s){if("opening"===e.readyState&&"open"===t.type&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():o('ignoring poll - transport state "%s"',this.readyState))}doClose(){const t=this;function e(){o("writing close packet"),t.write([{type:"close"}])}"open"===this.readyState?(o("transport open - closing"),e()):(o("transport not open - deferring close"),this.once("open",e))}write(t){this.writable=!1,i.encodePayload(t,t=>{this.doWrite(t,()=>{this.writable=!0,this.emit("drain")})})}uri(){let t=this.query||{};const i=this.opts.secure?"https":"http";let o="";return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=s()),this.supportsBinary||t.sid||(t.b64=1),t=e.encode(t),this.opts.port&&("https"===i&&443!==Number(this.opts.port)||"http"===i&&80!==Number(this.opts.port))&&(o=":"+this.opts.port),t.length&&(t="?"+t),i+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+o+this.opts.path+t}}module.exports=n;
},{"../transport":"HBl9","parseqs":"vs2a","engine.io-parser":"fAXJ","yeast":"t9Jt","debug":"jcLW"}],"k9hq":[function(require,module,exports) {
module.exports.pick=((e,...r)=>r.reduce((r,o)=>(e.hasOwnProperty(o)&&(r[o]=e[o]),r),{}));
},{}],"tzUF":[function(require,module,exports) {
const t=require("xmlhttprequest-ssl"),e=require("./polling"),s=require("component-emitter"),{pick:o}=require("../util"),r=require("../globalThis"),n=require("debug")("engine.io-client:polling-xhr");function i(){}const a=null!=new t({xdomain:!1}).responseType;class h extends e{constructor(t){if(super(t),"undefined"!=typeof location){const e="https:"===location.protocol;let s=location.port;s||(s=e?443:80),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||s!==t.port,this.xs=t.secure!==e}const e=t&&t.forceBase64;this.supportsBinary=a&&!e}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new u(this.uri(),t)}doWrite(t,e){const s=this.request({method:"POST",data:t}),o=this;s.on("success",e),s.on("error",function(t){o.onError("xhr post error",t)})}doPoll(){n("xhr poll");const t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t}}class u extends s{constructor(t,e){super(),this.opts=e,this.method=e.method||"GET",this.uri=t,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.create()}create(){const e=o(this.opts,"agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const s=this.xhr=new t(e),r=this;try{n("xhr open %s: %s",this.method,this.uri),s.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let t in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(t)&&s.setRequestHeader(t,this.opts.extraHeaders[t])}}catch(i){}if("POST"===this.method)try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}try{s.setRequestHeader("Accept","*/*")}catch(i){}"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),this.hasXDR()?(s.onload=function(){r.onLoad()},s.onerror=function(){r.onError(s.responseText)}):s.onreadystatechange=function(){4===s.readyState&&(200===s.status||1223===s.status?r.onLoad():setTimeout(function(){r.onError("number"==typeof s.status?s.status:0)},0))},n("xhr data %s",this.data),s.send(this.data)}catch(i){return void setTimeout(function(){r.onError(i)},0)}"undefined"!=typeof document&&(this.index=u.requestsCount++,u.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(t){this.emit("data",t),this.onSuccess()}onError(t){this.emit("error",t),this.cleanup(!0)}cleanup(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=i:this.xhr.onreadystatechange=i,t)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete u.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&this.onData(t)}hasXDR(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR}abort(){this.cleanup()}}if(u.requestsCount=0,u.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",c);else if("function"==typeof addEventListener){addEventListener("onpagehide"in r?"pagehide":"unload",c,!1)}function c(){for(let t in u.requests)u.requests.hasOwnProperty(t)&&u.requests[t].abort()}module.exports=h,module.exports.Request=u;
},{"xmlhttprequest-ssl":"cVUh","./polling":"hsm0","component-emitter":"Wr69","../util":"k9hq","../globalThis":"ViVL","debug":"jcLW"}],"ruO5":[function(require,module,exports) {
const e=require("./polling"),t=require("../globalThis"),r=/\n/g,i=/\\n/g;let o;function n(){}class s extends e{constructor(e){super(e),this.query=this.query||{},o||(o=t.___eio=t.___eio||[]),this.index=o.length;const r=this;o.push(function(e){r.onData(e)}),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",function(){r.script&&(r.script.onerror=n)},!1)}get supportsBinary(){return!1}doClose(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),super.doClose()}doPoll(){const e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};const r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(t,r):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){const e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)}doWrite(e,t){const o=this;let n;if(!this.form){const e=document.createElement("form"),t=document.createElement("textarea"),r=this.iframeId="eio_iframe_"+this.index;e.className="socketio",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.target=r,e.method="POST",e.setAttribute("accept-charset","utf-8"),t.name="d",e.appendChild(t),document.body.appendChild(e),this.form=e,this.area=t}function s(){a(),t()}function a(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(e){o.onError("jsonp polling iframe removal error",e)}try{const t='<iframe src="javascript:0" name="'+o.iframeId+'">';n=document.createElement(t)}catch(e){(n=document.createElement("iframe")).name=o.iframeId,n.src="javascript:0"}n.id=o.iframeId,o.form.appendChild(n),o.iframe=n}this.form.action=this.uri(),a(),e=e.replace(i,"\\\n"),this.area.value=e.replace(r,"\\n");try{this.form.submit()}catch(c){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===o.iframe.readyState&&s()}:this.iframe.onload=s}}module.exports=s;
},{"./polling":"hsm0","../globalThis":"ViVL"}],"IKuD":[function(require,module,exports) {
const e=require("../globalThis");module.exports={WebSocket:e.WebSocket||e.MozWebSocket,usingBrowserWebSocket:!0,defaultBinaryType:"arraybuffer"};
},{"../globalThis":"ViVL"}],"ExHC":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer;const t=require("../transport"),s=require("engine.io-parser"),o=require("parseqs"),r=require("yeast"),{pick:i}=require("../util"),{WebSocket:n,usingBrowserWebSocket:a,defaultBinaryType:p}=require("./websocket-constructor"),c=require("debug")("engine.io-client:websocket"),h="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class u extends t{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,s=h?{}:i(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=a&&!h?t?new n(e,t):new n(e):new n(e,t,s)}catch(o){return this.emit("error",o)}this.ws.binaryType=this.socket.binaryType||p,this.addEventListeners()}addEventListeners(){const e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}}write(t){const o=this;this.writable=!1;let r=t.length,i=0;const n=r;for(;i<n;i++)!function(t){s.encodePacket(t,o.supportsBinary,function(s){const i={};if(!a&&(t.options&&(i.compress=t.options.compress),o.opts.perMessageDeflate)){("string"==typeof s?e.byteLength(s):s.length)<o.opts.perMessageDeflate.threshold&&(i.compress=!1)}try{a?o.ws.send(s):o.ws.send(s,i)}catch(n){c("websocket closed before onclose event")}--r||p()})}(t[i]);function p(){o.emit("flush"),setTimeout(function(){o.writable=!0,o.emit("drain")},0)}}onClose(){t.prototype.onClose.call(this)}doClose(){void 0!==this.ws&&this.ws.close()}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let s="";return this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(s=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=r()),this.supportsBinary||(e.b64=1),(e=o.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+s+this.opts.path+e}check(){return!(!n||"__initialize"in n&&this.name===u.prototype.name)}}module.exports=u;
},{"../transport":"HBl9","engine.io-parser":"fAXJ","parseqs":"vs2a","yeast":"t9Jt","../util":"k9hq","./websocket-constructor":"IKuD","debug":"jcLW","buffer":"dskh"}],"xQDS":[function(require,module,exports) {
const e=require("xmlhttprequest-ssl"),o=require("./polling-xhr"),t=require("./polling-jsonp"),n=require("./websocket");function r(n){let r,i=!1,s=!1;const l=!1!==n.jsonp;if("undefined"!=typeof location){const e="https:"===location.protocol;let o=location.port;o||(o=e?443:80),i=n.hostname!==location.hostname||o!==n.port,s=n.secure!==e}if(n.xdomain=i,n.xscheme=s,"open"in(r=new e(n))&&!n.forceJSONP)return new o(n);if(!l)throw new Error("JSONP disabled");return new t(n)}exports.polling=r,exports.websocket=n;
},{"xmlhttprequest-ssl":"cVUh","./polling-xhr":"tzUF","./polling-jsonp":"ruO5","./websocket":"ExHC"}],"APvO":[function(require,module,exports) {
const t=require("./transports/index"),e=require("component-emitter"),s=require("debug")("engine.io-client:socket"),r=require("engine.io-parser"),o=require("parseuri"),i=require("parseqs");class n extends e{constructor(t,e={}){super(),t&&"object"==typeof t&&(e=t,t=null),t?(t=o(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=o(e.host).host),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.transports=e.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{}},e),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=i.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,this.open()}createTransport(e){s('creating transport "%s"',e);const o=a(this.opts.query);o.EIO=r.protocol,o.transport=e,this.id&&(o.sid=this.id);const i=Object.assign({},this.opts.transportOptions[e],this.opts,{query:o,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return s("options: %j",i),new t[e](i)}open(){let t;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){const t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(e){return s("error while creating transport: %s",e),this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){s("setting transport %s",t.name);const e=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})}probe(t){s('probing transport "%s"',t);let e=this.createTransport(t,{probe:1}),r=!1;const o=this;function i(){if(o.onlyBinaryUpgrades){const t=!this.supportsBinary&&o.transport.supportsBinary;r=r||t}r||(s('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",function(i){if(!r)if("pong"===i.type&&"probe"===i.data){if(s('probe transport "%s" pong',t),o.upgrading=!0,o.emit("upgrading",e),!e)return;n.priorWebsocketSuccess="websocket"===e.name,s('pausing current transport "%s"',o.transport.name),o.transport.pause(function(){r||"closed"!==o.readyState&&(s("changing transport and sending upgrade packet"),l(),o.setTransport(e),e.send([{type:"upgrade"}]),o.emit("upgrade",e),e=null,o.upgrading=!1,o.flush())})}else{s('probe transport "%s" failed',t);const r=new Error("probe error");r.transport=e.name,o.emit("upgradeError",r)}}))}function a(){r||(r=!0,l(),e.close(),e=null)}function p(r){const i=new Error("probe error: "+r);i.transport=e.name,a(),s('probe transport "%s" failed because of error: %s',t,r),o.emit("upgradeError",i)}function h(){p("transport closed")}function c(){p("socket closed")}function u(t){e&&t.name!==e.name&&(s('"%s" works - aborting "%s"',t.name,e.name),a())}function l(){e.removeListener("open",i),e.removeListener("error",p),e.removeListener("close",h),o.removeListener("close",c),o.removeListener("upgrading",u)}n.priorWebsocketSuccess=!1,e.once("open",i),e.once("error",p),e.once("close",h),this.once("close",c),this.once("upgrading",u),e.open()}onOpen(){if(s("socket open"),this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){s("starting upgrade probes");let t=0;const e=this.upgrades.length;for(;t<e;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(s('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emit("pong");break;case"error":const e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else s('packet received with socket readyState "%s"',this.readyState)}onHandshake(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=setTimeout(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout)}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()}flush(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))}write(t,e,s){return this.sendPacket("message",t,e,s),this}send(t,e,s){return this.sendPacket("message",t,e,s),this}sendPacket(t,e,s,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof s&&(r=s,s=null),"closing"===this.readyState||"closed"===this.readyState)return;(s=s||{}).compress=!1!==s.compress;const o={type:t,data:e,options:s};this.emit("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}close(){const t=this;function e(){t.onClose("forced close"),s("socket closing - telling transport to close"),t.transport.close()}function r(){t.removeListener("upgrade",r),t.removeListener("upgradeError",r),e()}function o(){t.once("upgrade",r),t.once("upgradeError",r)}return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",function(){this.upgrading?o():e()}):this.upgrading?o():e()),this}onError(t){s("socket error %j",t),n.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)}onClose(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){s('socket close with reason: "%s"',t);const r=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),r.writeBuffer=[],r.prevBufferLen=0}}filterUpgrades(t){const e=[];let s=0;const r=t.length;for(;s<r;s++)~this.transports.indexOf(t[s])&&e.push(t[s]);return e}}function a(t){const e={};for(let s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);return e}n.priorWebsocketSuccess=!1,n.protocol=r.protocol,module.exports=n;
},{"./transports/index":"xQDS","component-emitter":"Wr69","debug":"jcLW","engine.io-parser":"fAXJ","parseuri":"imeZ","parseqs":"vs2a"}],"h0uD":[function(require,module,exports) {
const e=require("./socket");module.exports=((r,o)=>new e(r,o)),module.exports.Socket=e,module.exports.protocol=e.protocol,module.exports.Transport=require("./transport"),module.exports.transports=require("./transports/index"),module.exports.parser=require("engine.io-parser");
},{"./socket":"APvO","./transport":"HBl9","./transports/index":"xQDS","engine.io-parser":"fAXJ"}],"UYfZ":[function(require,module,exports) {
"use strict";function t(r){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasBinary=exports.isBinary=void 0;var r="function"==typeof ArrayBuffer,o=function(t){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer},e=Object.prototype.toString,n="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===e.call(Blob),f="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===e.call(File);function i(t){return r&&(t instanceof ArrayBuffer||o(t))||n&&t instanceof Blob||f&&t instanceof File}function u(r,o){if(!r||"object"!==t(r))return!1;if(Array.isArray(r)){for(var e=0,n=r.length;e<n;e++)if(u(r[e]))return!0;return!1}if(i(r))return!0;if(r.toJSON&&"function"==typeof r.toJSON&&1===arguments.length)return u(r.toJSON(),!0);for(var f in r)if(Object.prototype.hasOwnProperty.call(r,f)&&u(r[f]))return!0;return!1}exports.isBinary=i,exports.hasBinary=u;
},{}],"zHTC":[function(require,module,exports) {
"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.reconstructPacket=exports.deconstructPacket=void 0;var t=require("./is-binary");function e(r){var t=[],e=r.data,o=r;return o.data=n(e,t),o.attachments=t.length,{packet:o,buffers:t}}function n(e,o){if(!e)return e;if(t.isBinary(e)){var a={_placeholder:!0,num:o.length};return o.push(e),a}if(Array.isArray(e)){for(var u=new Array(e.length),c=0;c<e.length;c++)u[c]=n(e[c],o);return u}if("object"===r(e)&&!(e instanceof Date)){var i={};for(var f in e)e.hasOwnProperty(f)&&(i[f]=n(e[f],o));return i}return e}function o(r,t){return r.data=a(r.data,t),r.attachments=void 0,r}function a(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]=a(t[n],e);else if("object"===r(t))for(var o in t)t.hasOwnProperty(o)&&(t[o]=a(t[o],e));return t}exports.deconstructPacket=e,exports.reconstructPacket=o;
},{"./is-binary":"UYfZ"}],"GVVZ":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,n,o){return(e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=r(t,e);if(o){var c=Object.getOwnPropertyDescriptor(o,e);return c.get?c.get.call(n):c.value}})(t,n,o||t)}function r(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=u();return function(){var r,n=s(t);if(e){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return i(this,r)}}function i(e,r){return!r||"object"!==t(r)&&"function"!=typeof r?a(e):r}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e,r){return e&&p(t.prototype,e),r&&p(t,r),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Decoder=exports.Encoder=exports.PacketType=exports.protocol=void 0;var y,h=require("component-emitter"),d=require("./binary"),b=require("./is-binary"),N=require("debug")("socket.io-parser");exports.protocol=5,function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(y=exports.PacketType||(exports.PacketType={}));var E=function(){function t(){f(this,t)}return l(t,[{key:"encode",value:function(t){return N("encoding packet %j",t),t.type!==y.EVENT&&t.type!==y.ACK||!b.hasBinary(t)?[this.encodeAsString(t)]:(t.type=t.type===y.EVENT?y.BINARY_EVENT:y.BINARY_ACK,this.encodeAsBinary(t))}},{key:"encodeAsString",value:function(t){var e=""+t.type;return t.type!==y.BINARY_EVENT&&t.type!==y.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data)),N("encoded %j as %s",t,e),e}},{key:"encodeAsBinary",value:function(t){var e=d.deconstructPacket(t),r=this.encodeAsString(e.packet),n=e.buffers;return n.unshift(r),n}}]),t}();exports.Encoder=E;var v=function(r){n(i,h);var o=c(i);function i(){return f(this,i),o.call(this)}return l(i,[{key:"add",value:function(t){var r;if("string"==typeof t)(r=this.decodeString(t)).type===y.BINARY_EVENT||r.type===y.BINARY_ACK?(this.reconstructor=new R(r),0===r.attachments&&e(s(i.prototype),"emit",this).call(this,"decoded",r)):e(s(i.prototype),"emit",this).call(this,"decoded",r);else{if(!b.isBinary(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(r=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,e(s(i.prototype),"emit",this).call(this,"decoded",r))}}},{key:"decodeString",value:function(t){var e=0,r={type:Number(t.charAt(0))};if(void 0===y[r.type])throw new Error("unknown packet type "+r.type);if(r.type===y.BINARY_EVENT||r.type===y.BINARY_ACK){for(var n=e+1;"-"!==t.charAt(++e)&&e!=t.length;);var o=t.substring(n,e);if(o!=Number(o)||"-"!==t.charAt(e))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"===t.charAt(e+1)){for(var c=e+1;++e;){if(","===t.charAt(e))break;if(e===t.length)break}r.nsp=t.substring(c,e)}else r.nsp="/";var a=t.charAt(e+1);if(""!==a&&Number(a)==a){for(var u=e+1;++e;){var s=t.charAt(e);if(null==s||Number(s)!=s){--e;break}if(e===t.length)break}r.id=Number(t.substring(u,e+1))}if(t.charAt(++e)){var f=A(t.substr(e));if(!i.isPayloadValid(r.type,f))throw new Error("invalid payload");r.data=f}return N("decoded %s as %j",t,r),r}},{key:"destroy",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:"isPayloadValid",value:function(e,r){switch(e){case y.CONNECT:return"object"===t(r);case y.DISCONNECT:return void 0===r;case y.CONNECT_ERROR:return"string"==typeof r||"object"===t(r);case y.EVENT:case y.BINARY_EVENT:return Array.isArray(r)&&r.length>0;case y.ACK:case y.BINARY_ACK:return Array.isArray(r)}}}]),i}();function A(t){try{return JSON.parse(t)}catch(e){return!1}}exports.Decoder=v;var R=function(){function t(e){f(this,t),this.packet=e,this.buffers=[],this.reconPack=e}return l(t,[{key:"takeBinaryData",value:function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=d.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),t}();
},{"component-emitter":"Wr69","./binary":"zHTC","./is-binary":"UYfZ","debug":"jcLW"}],"N9LN":[function(require,module,exports) {
"use strict";function e(e,o,t){return e.on(o,t),function(){e.off(o,t)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.on=void 0,exports.on=e;
},{}],"t1Qm":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=n(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,a=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return c=t.done,t},e:function(t){a=!0,s=t},f:function(){try{c||null==i.return||i.return()}finally{if(a)throw s}}}}function n(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=a(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function a(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=y();return function(){var n,i=d(t);if(e){var r=d(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?p(e):n}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Socket=void 0;var v=require("socket.io-parser"),k=require("component-emitter"),b=require("./on"),m=require("debug")("socket.io-client:socket"),g=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),_=function(t){u(i,k);var n=h(i);function i(t,e,o){var s;return r(this,i),(s=n.call(this)).receiveBuffer=[],s.sendBuffer=[],s.ids=0,s.acks={},s.flags={},s.io=t,s.nsp=e,s.ids=0,s.acks={},s.receiveBuffer=[],s.sendBuffer=[],s.connected=!1,s.disconnected=!0,s.flags={},o&&o.auth&&(s.auth=o.auth),s.io._autoConnect&&s.open(),s}return s(i,[{key:"subEvents",value:function(){if(!this.subs){var t=this.io;this.subs=[b.on(t,"open",this.onopen.bind(this)),b.on(t,"packet",this.onpacket.bind(this)),b.on(t,"error",this.onerror.bind(this)),b.on(t,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen(),this)}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.unshift("message"),this.emit.apply(this,e),this}},{key:"emit",value:function(t){if(g.hasOwnProperty(t))throw new Error('"'+t+'" is a reserved event name');for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];n.unshift(t);var r={type:v.PacketType.EVENT,data:n,options:{}};r.options.compress=!1!==this.flags.compress,"function"==typeof n[n.length-1]&&(m("emitting packet with ack id %d",this.ids),this.acks[this.ids]=n.pop(),r.id=this.ids++);var o=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!o||!this.connected)?m("discard packet as the transport is not currently writable"):this.connected?this.packet(r):this.sendBuffer.push(r),this.flags={},this}},{key:"packet",value:function(t){t.nsp=this.nsp,this.io._packet(t)}},{key:"onopen",value:function(){var t=this;m("transport is open - connecting"),"function"==typeof this.auth?this.auth(function(e){t.packet({type:v.PacketType.CONNECT,data:e})}):this.packet({type:v.PacketType.CONNECT,data:this.auth})}},{key:"onerror",value:function(t){this.connected||c(d(i.prototype),"emit",this).call(this,"connect_error",t)}},{key:"onclose",value:function(t){m("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,c(d(i.prototype),"emit",this).call(this,"disconnect",t)}},{key:"onpacket",value:function(t){if(t.nsp===this.nsp)switch(t.type){case v.PacketType.CONNECT:if(t.data&&t.data.sid){var e=t.data.sid;this.onconnect(e)}else c(d(i.prototype),"emit",this).call(this,"connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case v.PacketType.EVENT:case v.PacketType.BINARY_EVENT:this.onevent(t);break;case v.PacketType.ACK:case v.PacketType.BINARY_ACK:this.onack(t);break;case v.PacketType.DISCONNECT:this.ondisconnect();break;case v.PacketType.CONNECT_ERROR:var n=new Error(t.data.message);n.data=t.data.data,c(d(i.prototype),"emit",this).call(this,"connect_error",n)}}},{key:"onevent",value:function(t){var e=t.data||[];m("emitting event %j",e),null!=t.id&&(m("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}},{key:"emitEvent",value:function(t){if(this._anyListeners&&this._anyListeners.length){var n,r=e(this._anyListeners.slice());try{for(r.s();!(n=r.n()).done;){n.value.apply(this,t)}}catch(o){r.e(o)}finally{r.f()}}c(d(i.prototype),"emit",this).apply(this,t)}},{key:"ack",value:function(t){var e=this,n=!1;return function(){if(!n){n=!0;for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];m("sending ack %j",r),e.packet({type:v.PacketType.ACK,id:t,data:r})}}}},{key:"onack",value:function(t){var e=this.acks[t.id];"function"==typeof e?(m("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):m("bad ack %s",t.id)}},{key:"onconnect",value:function(t){m("socket connected with id %s",t),this.id=t,this.connected=!0,this.disconnected=!1,c(d(i.prototype),"emit",this).call(this,"connect"),this.emitBuffered()}},{key:"emitBuffered",value:function(){var t=this;this.receiveBuffer.forEach(function(e){return t.emitEvent(e)}),this.receiveBuffer=[],this.sendBuffer.forEach(function(e){return t.packet(e)}),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){m("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach(function(t){return t()}),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&(m("performing disconnect (%s)",this.nsp),this.packet({type:v.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(t){return this.flags.compress=t,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"onAny",value:function(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}},{key:"prependAny",value:function(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}},{key:"offAny",value:function(t){if(!this._anyListeners)return this;if(t){for(var e=this._anyListeners,n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}}]),i}();exports.Socket=_;
},{"socket.io-parser":"GVVZ","component-emitter":"Wr69","./on":"N9LN","debug":"jcLW"}],"pAuI":[function(require,module,exports) {
function t(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}module.exports=t,t.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var i=Math.random(),o=Math.floor(i*this.jitter*t);t=0==(1&Math.floor(10*i))?t-o:t+o}return 0|Math.min(t,this.max)},t.prototype.reset=function(){this.attempts=0},t.prototype.setMin=function(t){this.ms=t},t.prototype.setMax=function(t){this.max=t},t.prototype.setJitter=function(t){this.jitter=t};
},{}],"eK1u":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function i(t,e,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=r(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function r(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=h();return function(){var n,o=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return u(this,n)}}function u(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?l(e):n}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Manager=void 0;var p=require("engine.io-client"),y=require("./socket"),d=require("component-emitter"),v=require("socket.io-parser"),m=require("./on"),b=require("backo2"),k=require("debug")("socket.io-client:manager"),_=function(n){c(s,d);var r=a(s);function s(n,o){var i;e(this,s),(i=r.call(this)).nsps={},i.subs=[],n&&"object"===t(n)&&(o=n,n=void 0),(o=o||{}).path=o.path||"/socket.io",i.opts=o,i.reconnection(!1!==o.reconnection),i.reconnectionAttempts(o.reconnectionAttempts||1/0),i.reconnectionDelay(o.reconnectionDelay||1e3),i.reconnectionDelayMax(o.reconnectionDelayMax||5e3),i.randomizationFactor(o.randomizationFactor||.5),i.backoff=new b({min:i.reconnectionDelay(),max:i.reconnectionDelayMax(),jitter:i.randomizationFactor()}),i.timeout(null==o.timeout?2e4:o.timeout),i._readyState="closed",i.uri=n;var c=o.parser||v;return i.encoder=new c.Encoder,i.decoder=new c.Decoder,i._autoConnect=!1!==o.autoConnect,i._autoConnect&&i.open(),i}return o(s,[{key:"reconnection",value:function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}},{key:"reconnectionAttempts",value:function(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}},{key:"reconnectionDelay",value:function(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}},{key:"randomizationFactor",value:function(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}},{key:"reconnectionDelayMax",value:function(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}},{key:"timeout",value:function(t){return arguments.length?(this._timeout=t,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(t){var e=this;if(k("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;k("opening %s",this.uri),this.engine=p(this.uri,this.opts);var n=this.engine,o=this;this._readyState="opening",this.skipReconnect=!1;var r=m.on(n,"open",function(){o.onopen(),t&&t()}),c=m.on(n,"error",function(n){k("error"),o.cleanup(),o._readyState="closed",i(f(s.prototype),"emit",e).call(e,"error",n),t?t(n):o.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;k("connect attempt will timeout after %d",a),0===a&&r();var u=setTimeout(function(){k("connect attempt timed out after %d",a),r(),n.close(),n.emit("error",new Error("timeout"))},a);this.subs.push(function(){clearTimeout(u)})}return this.subs.push(r),this.subs.push(c),this}},{key:"connect",value:function(t){return this.open(t)}},{key:"onopen",value:function(){k("open"),this.cleanup(),this._readyState="open",i(f(s.prototype),"emit",this).call(this,"open");var t=this.engine;this.subs.push(m.on(t,"ping",this.onping.bind(this)),m.on(t,"data",this.ondata.bind(this)),m.on(t,"error",this.onerror.bind(this)),m.on(t,"close",this.onclose.bind(this)),m.on(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){i(f(s.prototype),"emit",this).call(this,"ping")}},{key:"ondata",value:function(t){this.decoder.add(t)}},{key:"ondecoded",value:function(t){i(f(s.prototype),"emit",this).call(this,"packet",t)}},{key:"onerror",value:function(t){k("error",t),i(f(s.prototype),"emit",this).call(this,"error",t)}},{key:"socket",value:function(t,e){var n=this.nsps[t];return n||(n=new y.Socket(this,t,e),this.nsps[t]=n),n}},{key:"_destroy",value:function(t){for(var e=0,n=Object.keys(this.nsps);e<n.length;e++){var o=n[e];if(this.nsps[o].active)return void k("socket %s is still active, skipping close",o)}this._close()}},{key:"_packet",value:function(t){k("writing packet %j",t);for(var e=this.encoder.encode(t),n=0;n<e.length;n++)this.engine.write(e[n],t.options)}},{key:"cleanup",value:function(){k("cleanup"),this.subs.forEach(function(t){return t()}),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){k("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,"opening"===this._readyState&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(t){k("onclose"),this.cleanup(),this.backoff.reset(),this._readyState="closed",i(f(s.prototype),"emit",this).call(this,"close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var t=this;if(this._reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)k("reconnect failed"),this.backoff.reset(),i(f(s.prototype),"emit",this).call(this,"reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();k("will wait %dms before reconnect attempt",n),this._reconnecting=!0;var o=setTimeout(function(){e.skipReconnect||(k("attempting reconnect"),i(f(s.prototype),"emit",t).call(t,"reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(function(n){n?(k("reconnect attempt error"),e._reconnecting=!1,e.reconnect(),i(f(s.prototype),"emit",t).call(t,"reconnect_error",n)):(k("reconnect success"),e.onreconnect())}))},n);this.subs.push(function(){clearTimeout(o)})}}},{key:"onreconnect",value:function(){var t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),i(f(s.prototype),"emit",this).call(this,"reconnect",t)}}]),s}();exports.Manager=_;
},{"engine.io-client":"h0uD","./socket":"t1Qm","component-emitter":"Wr69","socket.io-parser":"GVVZ","./on":"N9LN","backo2":"pAuI","debug":"jcLW"}],"pPpY":[function(require,module,exports) {
"use strict";function e(r){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Socket=exports.io=exports.Manager=exports.protocol=void 0;var r=require("./url"),o=require("./manager"),t=require("./socket");Object.defineProperty(exports,"Socket",{enumerable:!0,get:function(){return t.Socket}});var n=require("debug")("socket.io-client");module.exports=exports=u;var c=exports.managers={};function u(t,u){"object"===e(t)&&(u=t,t=void 0),u=u||{};var i,a=r.url(t,u.path),p=a.source,s=a.id,f=a.path,y=c[s]&&f in c[s].nsps;return u.forceNew||u["force new connection"]||!1===u.multiplex||y?(n("ignoring socket cache for %s",p),i=new o.Manager(p,u)):(c[s]||(n("new io instance for %s",p),c[s]=new o.Manager(p,u)),i=c[s]),a.query&&!u.query&&(u.query=a.queryKey),i.socket(a.path,u)}exports.io=u;var i=require("socket.io-parser");Object.defineProperty(exports,"protocol",{enumerable:!0,get:function(){return i.protocol}}),exports.connect=u;var a=require("./manager");Object.defineProperty(exports,"Manager",{enumerable:!0,get:function(){return a.Manager}});
},{"./url":"NC0g","./manager":"eK1u","./socket":"t1Qm","debug":"jcLW","socket.io-parser":"GVVZ"}],"uWh2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isDirective=exports.directive=void 0;const e=new WeakMap,t=t=>(...s)=>{const i=t(...s);return e.set(i,!0),i};exports.directive=t;const s=t=>"function"==typeof t&&e.has(t);exports.isDirective=s;
},{}],"ytxR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.removeNodes=exports.reparentNodes=exports.isCEPolyfill=void 0;const e="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback;exports.isCEPolyfill=e;const o=(e,o,l=null,s=null)=>{for(;o!==l;){const l=o.nextSibling;e.insertBefore(o,s),o=l}};exports.reparentNodes=o;const l=(e,o,l=null)=>{for(;o!==l;){const l=o.nextSibling;e.removeChild(o),o=l}};exports.removeNodes=l;
},{}],"pnLb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.nothing=exports.noChange=void 0;const e={};exports.noChange=e;const o={};exports.nothing=o;
},{}],"Av0K":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.lastAttributeNameRegex=exports.createMarker=exports.isTemplatePartActive=exports.Template=exports.boundAttributeSuffix=exports.markerRegex=exports.nodeMarker=exports.marker=void 0;const e=`{{lit-${String(Math.random()).slice(2)}}}`;exports.marker=e;const t=`\x3c!--${e}--\x3e`;exports.nodeMarker=t;const r=new RegExp(`${e}|${t}`);exports.markerRegex=r;const s="$lit$";exports.boundAttributeSuffix=s;class o{constructor(t,o){this.parts=[],this.element=o;const i=[],l=[],p=document.createTreeWalker(o.content,133,null,!1);let c=0,d=-1,u=0;const{strings:f,values:{length:h}}=t;for(;u<h;){const t=p.nextNode();if(null!==t){if(d++,1===t.nodeType){if(t.hasAttributes()){const e=t.attributes,{length:o}=e;let i=0;for(let t=0;t<o;t++)n(e[t].name,s)&&i++;for(;i-- >0;){const e=f[u],o=x.exec(e)[2],n=o.toLowerCase()+s,i=t.getAttribute(n);t.removeAttribute(n);const a=i.split(r);this.parts.push({type:"attribute",index:d,name:o,strings:a}),u+=a.length-1}}"TEMPLATE"===t.tagName&&(l.push(t),p.currentNode=t.content)}else if(3===t.nodeType){const o=t.data;if(o.indexOf(e)>=0){const e=t.parentNode,l=o.split(r),p=l.length-1;for(let r=0;r<p;r++){let o,i=l[r];if(""===i)o=a();else{const e=x.exec(i);null!==e&&n(e[2],s)&&(i=i.slice(0,e.index)+e[1]+e[2].slice(0,-s.length)+e[3]),o=document.createTextNode(i)}e.insertBefore(o,t),this.parts.push({type:"node",index:++d})}""===l[p]?(e.insertBefore(a(),t),i.push(t)):t.data=l[p],u+=p}}else if(8===t.nodeType)if(t.data===e){const e=t.parentNode;null!==t.previousSibling&&d!==c||(d++,e.insertBefore(a(),t)),c=d,this.parts.push({type:"node",index:d}),null===t.nextSibling?t.data="":(i.push(t),d--),u++}else{let r=-1;for(;-1!==(r=t.data.indexOf(e,r+1));)this.parts.push({type:"node",index:-1}),u++}}else p.currentNode=l.pop()}for(const e of i)e.parentNode.removeChild(e)}}exports.Template=o;const n=(e,t)=>{const r=e.length-t.length;return r>=0&&e.slice(r)===t},i=e=>-1!==e.index;exports.isTemplatePartActive=i;const a=()=>document.createComment("");exports.createMarker=a;const x=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;exports.lastAttributeNameRegex=x;
},{}],"bn5t":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TemplateInstance=void 0;var e=require("./dom.js"),t=require("./template.js");class s{constructor(e,t,s){this.__parts=[],this.template=e,this.processor=t,this.options=s}update(e){let t=0;for(const s of this.__parts)void 0!==s&&s.setValue(e[t]),t++;for(const s of this.__parts)void 0!==s&&s.commit()}_clone(){const s=e.isCEPolyfill?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),o=[],r=this.template.parts,n=document.createTreeWalker(s,133,null,!1);let i,p=0,l=0,a=n.nextNode();for(;p<r.length;)if(i=r[p],(0,t.isTemplatePartActive)(i)){for(;l<i.index;)l++,"TEMPLATE"===a.nodeName&&(o.push(a),n.currentNode=a.content),null===(a=n.nextNode())&&(n.currentNode=o.pop(),a=n.nextNode());if("node"===i.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(a.previousSibling),this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(a,i.name,i.strings,this.options));p++}else this.__parts.push(void 0),p++;return e.isCEPolyfill&&(document.adoptNode(s),customElements.upgrade(s)),s}}exports.TemplateInstance=s;
},{"./dom.js":"ytxR","./template.js":"Av0K"}],"cVNN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGTemplateResult=exports.TemplateResult=void 0;var e=require("./dom.js"),t=require("./template.js");const s=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:e=>e}),r=` ${t.marker} `;class l{constructor(e,t,s,r){this.strings=e,this.values=t,this.type=s,this.processor=r}getHTML(){const e=this.strings.length-1;let s="",l=!1;for(let n=0;n<e;n++){const e=this.strings[n],i=e.lastIndexOf("\x3c!--");l=(i>-1||l)&&-1===e.indexOf("--\x3e",i+1);const o=t.lastAttributeNameRegex.exec(e);s+=null===o?e+(l?r:t.nodeMarker):e.substr(0,o.index)+o[1]+o[2]+t.boundAttributeSuffix+o[3]+t.marker}return s+=this.strings[e]}getTemplateElement(){const e=document.createElement("template");let t=this.getHTML();return void 0!==s&&(t=s.createHTML(t)),e.innerHTML=t,e}}exports.TemplateResult=l;class n extends l{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const t=super.getTemplateElement(),s=t.content,r=s.firstChild;return s.removeChild(r),(0,e.reparentNodes)(s,r.firstChild),t}}exports.SVGTemplateResult=n;
},{"./dom.js":"ytxR","./template.js":"Av0K"}],"atl2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventPart=exports.PropertyPart=exports.PropertyCommitter=exports.BooleanAttributePart=exports.NodePart=exports.AttributePart=exports.AttributeCommitter=exports.isIterable=exports.isPrimitive=void 0;var t=require("./directive.js"),e=require("./dom.js"),i=require("./part.js"),s=require("./template-instance.js"),n=require("./template-result.js"),r=require("./template.js");const o=t=>null===t||!("object"==typeof t||"function"==typeof t);exports.isPrimitive=o;const a=t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]);exports.isIterable=a;class h{constructor(t,e,i){this.dirty=!0,this.element=t,this.name=e,this.strings=i,this.parts=[];for(let s=0;s<i.length-1;s++)this.parts[s]=this._createPart()}_createPart(){return new l(this)}_getValue(){const t=this.strings,e=t.length-1,i=this.parts;if(1===e&&""===t[0]&&""===t[1]){const t=i[0].value;if("symbol"==typeof t)return String(t);if("string"==typeof t||!a(t))return t}let s="";for(let n=0;n<e;n++){s+=t[n];const e=i[n];if(void 0!==e){const t=e.value;if(o(t)||!a(t))s+="string"==typeof t?t:String(t);else for(const e of t)s+="string"==typeof e?e:String(e)}}return s+=t[e]}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}exports.AttributeCommitter=h;class l{constructor(t){this.value=void 0,this.committer=t}setValue(e){e===i.noChange||o(e)&&e===this.value||(this.value=e,(0,t.isDirective)(e)||(this.committer.dirty=!0))}commit(){for(;(0,t.isDirective)(this.value);){const t=this.value;this.value=i.noChange,t(this)}this.value!==i.noChange&&this.committer.commit()}}exports.AttributePart=l;class u{constructor(t){this.value=void 0,this.__pendingValue=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild((0,r.createMarker)()),this.endNode=t.appendChild((0,r.createMarker)())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.__insert(this.startNode=(0,r.createMarker)()),t.__insert(this.endNode=(0,r.createMarker)())}insertAfterPart(t){t.__insert(this.startNode=(0,r.createMarker)()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.__pendingValue=t}commit(){if(null===this.startNode.parentNode)return;for(;(0,t.isDirective)(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=i.noChange,t(this)}const e=this.__pendingValue;e!==i.noChange&&(o(e)?e!==this.value&&this.__commitText(e):e instanceof n.TemplateResult?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):a(e)?this.__commitIterable(e):e===i.nothing?(this.value=i.nothing,this.clear()):this.__commitText(e))}__insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}__commitNode(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}__commitText(t){const e=this.startNode.nextSibling,i="string"==typeof(t=null==t?"":t)?t:String(t);e===this.endNode.previousSibling&&3===e.nodeType?e.data=i:this.__commitNode(document.createTextNode(i)),this.value=t}__commitTemplateResult(t){const e=this.options.templateFactory(t);if(this.value instanceof s.TemplateInstance&&this.value.template===e)this.value.update(t.values);else{const i=new s.TemplateInstance(e,t.processor,this.options),n=i._clone();i.update(t.values),this.__commitNode(n),this.value=i}}__commitIterable(t){Array.isArray(this.value)||(this.value=[],this.clear());const e=this.value;let i,s=0;for(const n of t)void 0===(i=e[s])&&(i=new u(this.options),e.push(i),0===s?i.appendIntoPart(this):i.insertAfterPart(e[s-1])),i.setValue(n),i.commit(),s++;s<e.length&&(e.length=s,this.clear(i&&i.endNode))}clear(t=this.startNode){(0,e.removeNodes)(this.startNode.parentNode,t.nextSibling,this.endNode)}}exports.NodePart=u;class d{constructor(t,e,i){if(this.value=void 0,this.__pendingValue=void 0,2!==i.length||""!==i[0]||""!==i[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=e,this.strings=i}setValue(t){this.__pendingValue=t}commit(){for(;(0,t.isDirective)(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=i.noChange,t(this)}if(this.__pendingValue===i.noChange)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=i.noChange}}exports.BooleanAttributePart=d;class c extends h{constructor(t,e,i){super(t,e,i),this.single=2===i.length&&""===i[0]&&""===i[1]}_createPart(){return new p(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}exports.PropertyCommitter=c;class p extends l{}exports.PropertyPart=p;let _=!1;(()=>{try{const e={get capture(){return _=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(t){}})();class m{constructor(t,e,i){this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=e,this.eventContext=i,this.__boundHandleEvent=(t=>this.handleEvent(t))}setValue(t){this.__pendingValue=t}commit(){for(;(0,t.isDirective)(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=i.noChange,t(this)}if(this.__pendingValue===i.noChange)return;const e=this.__pendingValue,s=this.value,n=null==e||null!=s&&(e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive),r=null!=e&&(null==s||n);n&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),r&&(this.__options=v(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=i.noChange}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}exports.EventPart=m;const v=t=>t&&(_?{capture:t.capture,passive:t.passive,once:t.once}:t.capture);
},{"./directive.js":"uWh2","./dom.js":"ytxR","./part.js":"pnLb","./template-instance.js":"bn5t","./template-result.js":"cVNN","./template.js":"Av0K"}],"LBiL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultTemplateProcessor=exports.DefaultTemplateProcessor=void 0;var e=require("./parts.js");class t{handleAttributeExpressions(t,r,s,o){const a=r[0];if("."===a){return new e.PropertyCommitter(t,r.slice(1),s).parts}return"@"===a?[new e.EventPart(t,r.slice(1),o.eventContext)]:"?"===a?[new e.BooleanAttributePart(t,r.slice(1),s)]:new e.AttributeCommitter(t,r,s).parts}handleTextExpression(t){return new e.NodePart(t)}}exports.DefaultTemplateProcessor=t;const r=new t;exports.defaultTemplateProcessor=r;
},{"./parts.js":"atl2"}],"gbKZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.templateFactory=t,exports.templateCaches=void 0;var e=require("./template.js");function t(t){let s=r.get(t.type);void 0===s&&(s={stringsArray:new WeakMap,keyString:new Map},r.set(t.type,s));let n=s.stringsArray.get(t.strings);if(void 0!==n)return n;const a=t.strings.join(e.marker);return void 0===(n=s.keyString.get(a))&&(n=new e.Template(t,t.getTemplateElement()),s.keyString.set(a,n)),s.stringsArray.set(t.strings,n),n}const r=new Map;exports.templateCaches=r;
},{"./template.js":"Av0K"}],"Fhpq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=exports.parts=void 0;var e=require("./dom.js"),t=require("./parts.js"),r=require("./template-factory.js");const s=new WeakMap;exports.parts=s;const o=(o,a,p)=>{let d=s.get(a);void 0===d&&((0,e.removeNodes)(a,a.firstChild),s.set(a,d=new t.NodePart(Object.assign({templateFactory:r.templateFactory},p))),d.appendInto(a)),d.setValue(o),d.commit()};exports.render=o;
},{"./dom.js":"ytxR","./parts.js":"atl2","./template-factory.js":"gbKZ"}],"SPDu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"DefaultTemplateProcessor",{enumerable:!0,get:function(){return e.DefaultTemplateProcessor}}),Object.defineProperty(exports,"defaultTemplateProcessor",{enumerable:!0,get:function(){return e.defaultTemplateProcessor}}),Object.defineProperty(exports,"SVGTemplateResult",{enumerable:!0,get:function(){return t.SVGTemplateResult}}),Object.defineProperty(exports,"TemplateResult",{enumerable:!0,get:function(){return t.TemplateResult}}),Object.defineProperty(exports,"directive",{enumerable:!0,get:function(){return r.directive}}),Object.defineProperty(exports,"isDirective",{enumerable:!0,get:function(){return r.isDirective}}),Object.defineProperty(exports,"removeNodes",{enumerable:!0,get:function(){return n.removeNodes}}),Object.defineProperty(exports,"reparentNodes",{enumerable:!0,get:function(){return n.reparentNodes}}),Object.defineProperty(exports,"noChange",{enumerable:!0,get:function(){return o.noChange}}),Object.defineProperty(exports,"nothing",{enumerable:!0,get:function(){return o.nothing}}),Object.defineProperty(exports,"AttributeCommitter",{enumerable:!0,get:function(){return i.AttributeCommitter}}),Object.defineProperty(exports,"AttributePart",{enumerable:!0,get:function(){return i.AttributePart}}),Object.defineProperty(exports,"BooleanAttributePart",{enumerable:!0,get:function(){return i.BooleanAttributePart}}),Object.defineProperty(exports,"EventPart",{enumerable:!0,get:function(){return i.EventPart}}),Object.defineProperty(exports,"isIterable",{enumerable:!0,get:function(){return i.isIterable}}),Object.defineProperty(exports,"isPrimitive",{enumerable:!0,get:function(){return i.isPrimitive}}),Object.defineProperty(exports,"NodePart",{enumerable:!0,get:function(){return i.NodePart}}),Object.defineProperty(exports,"PropertyCommitter",{enumerable:!0,get:function(){return i.PropertyCommitter}}),Object.defineProperty(exports,"PropertyPart",{enumerable:!0,get:function(){return i.PropertyPart}}),Object.defineProperty(exports,"parts",{enumerable:!0,get:function(){return u.parts}}),Object.defineProperty(exports,"render",{enumerable:!0,get:function(){return u.render}}),Object.defineProperty(exports,"templateCaches",{enumerable:!0,get:function(){return p.templateCaches}}),Object.defineProperty(exports,"templateFactory",{enumerable:!0,get:function(){return p.templateFactory}}),Object.defineProperty(exports,"TemplateInstance",{enumerable:!0,get:function(){return a.TemplateInstance}}),Object.defineProperty(exports,"createMarker",{enumerable:!0,get:function(){return s.createMarker}}),Object.defineProperty(exports,"isTemplatePartActive",{enumerable:!0,get:function(){return s.isTemplatePartActive}}),Object.defineProperty(exports,"Template",{enumerable:!0,get:function(){return s.Template}}),exports.svg=exports.html=void 0;var e=require("./lib/default-template-processor.js"),t=require("./lib/template-result.js"),r=require("./lib/directive.js"),n=require("./lib/dom.js"),o=require("./lib/part.js"),i=require("./lib/parts.js"),u=require("./lib/render.js"),p=require("./lib/template-factory.js"),a=require("./lib/template-instance.js"),s=require("./lib/template.js");"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0");const l=(r,...n)=>new t.TemplateResult(r,n,"html",e.defaultTemplateProcessor);exports.html=l;const c=(r,...n)=>new t.SVGTemplateResult(r,n,"svg",e.defaultTemplateProcessor);exports.svg=c;
},{"./lib/default-template-processor.js":"LBiL","./lib/template-result.js":"cVNN","./lib/directive.js":"uWh2","./lib/dom.js":"ytxR","./lib/part.js":"pnLb","./lib/parts.js":"atl2","./lib/render.js":"Fhpq","./lib/template-factory.js":"gbKZ","./lib/template-instance.js":"bn5t","./lib/template.js":"Av0K"}],"ht4F":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.each=void 0;const e=Array.prototype.forEach,t=(t,r)=>(e.call(r,t),r);exports.each=t;var r=t;exports.default=r;
},{}],"u8rC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.reduce=void 0;const e=Array.prototype.reduce,r=(r,t,o)=>void 0===o?e.call(t,r):e.call(t,r,o);exports.reduce=r;var t=r;exports.default=t;
},{}],"Eek0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.map=void 0;var e=require("./reduce");const r=(r,t,o=[])=>(0,e.reduce)((e,o,s)=>(e[s]=r(o,s,t,e),e),t,o||t);exports.map=r;var t=r;exports.default=t;
},{"./reduce":"u8rC"}],"KPn5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.range=void 0;const e=e=>Array(e).fill();exports.range=e;var r=e;exports.default=r;
},{}],"OLNA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.positions=exports.dim=exports.count=exports.vertices=void 0;var e=[[-1,-1],[-1,4],[4,-1]];exports.vertices=e;var t=e.length;exports.count=t;var r=2;exports.dim=r;var o=e.flat();exports.positions=o;var s=o;exports.default=s;
},{}],"zE7s":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.iterable=void 0;const e=(e,t=!1)=>e instanceof Object&&("function"==typeof e[Symbol.iterator]||t||"[object Number]"===toString.call(e.length));exports.iterable=e;var t=e;exports.default=t;
},{}],"jWsf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.onReadyState=e,exports.join=exports.rootPath=void 0;var t="/".concat((location.href.match(/:\/\/.+?\/([^\/\?]+?(?=[\/\?]|$))?/i)||[])[1]||"","/").replace(/(?:\/|.+\.html?)+/gi,"/");function e(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"complete";function o(){return document.readyState===e&&(t(),!0)}return o()||document.addEventListener("readystatechange",o)}exports.rootPath=t;var o=function(t){return function(e,o){return t.call(e,o)}}(Array.prototype.join);exports.join=o;
},{}],"kpll":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.dataToPath=void 0;var t=e(require("@epok.tech/fn-lists/map"));function e(t){return t&&t.__esModule?t:{default:t}}var a=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,t.default)(function(e){return(0,t.default)(parseFloat,e.match(/[0-9\.]+/gi),0)},e.match(/[^A-Z\s]+/gi),a)};exports.dataToPath=a;var r=a;exports.default=r;
},{"@epok.tech/fn-lists/map":"Eek0"}],"h3KG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.type=void 0;const[{length:e},{length:t}]="[object {type}]".split("{type}"),o=o=>toString.call(o).slice(e,-t);exports.type=o;var p=o;exports.default=p;
},{}],"uhVV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.isNumber=void 0;var e=require("./type");const r=r=>"Number"===(0,e.type)(r);exports.isNumber=r;var t=r;exports.default=t;
},{"./type":"h3KG"}],"dXVs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.isString=void 0;var e=require("./type");const t=t=>"String"===(0,e.type)(t);exports.isString=t;var r=t;exports.default=r;
},{"./type":"h3KG"}],"cLv1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Type=exports.channel=exports.cutoff=exports.radius=exports.scale=exports.size=exports.sdfPath=exports.svgPath=exports.dataPath=void 0;var s="./src/assets/holds/paths.json";exports.dataPath=s;var e="./src/assets/holds/svg/";exports.svgPath=e;var r="./src/assets/holds/sdf/";exports.sdfPath=r;var t=[3e3,3e3];exports.size=t;var a=.8;exports.scale=a;var o=1;exports.radius=o;var p=.1;exports.cutoff=p;var x=0;exports.channel=x;var d=Uint8ClampedArray;exports.Type=d;
},{}],"uHKU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.pathToSVG=exports.pathToShape=void 0;var t=n(require("@epok.tech/fn-lists/reduce")),e=n(require("@epok.tech/is-type/number")),r=n(require("@epok.tech/is-type/string")),o=n(require("./data-to-path")),a=require("../assets/holds/meta");function n(t){return t&&t.__esModule?t:{default:t}}var u=function a(n){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'fill="white"';if(!(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]))return'<path d="M '.concat(n,' z" ').concat(u,"/>");var i=(0,r.default)(n)?(0,o.default)(n):n;return i&&i[0]?(0,e.default)(i[0][0]||(0,r.default)(i[0]))?'<path d="M '.concat((0,t.default)(function(t,e,r){return t+(r?" L ":"")+(e.join?e.join(","):e)},i,""),' z" ').concat(u,"/>"):(0,t.default)(function(t,e){return t+a(e)},i,""):""};exports.pathToShape=u;var i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.size,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return'<svg viewBox="0 0 '.concat(e[0]," ").concat(e[1],'" ')+'width="'.concat(e[0],'" height="').concat(e[1],'" ')+'xmlns="http://www.w3.org/2000/svg" '.concat(r,">")+u(t)+"</svg>"};exports.pathToSVG=i;var c=i;exports.default=c;
},{"@epok.tech/fn-lists/reduce":"u8rC","@epok.tech/is-type/number":"uhVV","@epok.tech/is-type/string":"dXVs","./data-to-path":"kpll","../assets/holds/meta":"cLv1"}],"g8Gp":[function(require,module,exports) {
function e(e,n,o){return n<o?e<n?n:e>o?o:e:e<o?o:e>n?n:e}module.exports=e;
},{}],"IkMn":[function(require,module,exports) {
"use strict";var a=require("clamp");module.exports=t;var r=1e20;function t(t,e){e||(e={});var o,i,w,d,f,h,s,l,y,v,g,A=null==e.cutoff?.25:e.cutoff,u=null==e.radius?8:e.radius,c=e.channel||0;if(ArrayBuffer.isView(t)||Array.isArray(t)){if(!e.width||!e.height)throw Error("For raw data width and height should be provided by options");o=e.width,i=e.height,d=t,h=e.stride?e.stride:Math.floor(t.length/o/i)}else window.HTMLCanvasElement&&t instanceof window.HTMLCanvasElement?(s=(l=t).getContext("2d"),o=l.width,i=l.height,d=(y=s.getImageData(0,0,o,i)).data,h=4):window.CanvasRenderingContext2D&&t instanceof window.CanvasRenderingContext2D?(s=t,o=(l=t.canvas).width,i=l.height,d=(y=s.getImageData(0,0,o,i)).data,h=4):window.ImageData&&t instanceof window.ImageData&&(y=t,o=t.width,i=t.height,d=y.data,h=4);if(w=Math.max(o,i),window.Uint8ClampedArray&&d instanceof window.Uint8ClampedArray||window.Uint8Array&&d instanceof window.Uint8Array)for(f=d,d=Array(o*i),v=0,g=f.length;v<g;v++)d[v]=f[v*h+c]/255;else if(1!==h)throw Error("Raw data can have only 1 value per pixel");var m=Array(o*i),p=Array(o*i),C=Array(w),M=Array(w),x=Array(w+1),D=Array(w);for(v=0,g=o*i;v<g;v++){var E=d[v];m[v]=1===E?0:0===E?r:Math.pow(Math.max(0,.5-E),2),p[v]=1===E?r:0===E?0:Math.pow(Math.max(0,E-.5),2)}n(m,o,i,C,M,D,x),n(p,o,i,C,M,D,x);var I=window.Float32Array?new Float32Array(o*i):new Array(o*i);for(v=0,g=o*i;v<g;v++)I[v]=a(1-((m[v]-p[v])/u+A),0,1);return I}function n(a,r,t,n,o,i,w){for(var d=0;d<r;d++){for(var f=0;f<t;f++)n[f]=a[f*r+d];for(e(n,o,i,w,t),f=0;f<t;f++)a[f*r+d]=o[f]}for(f=0;f<t;f++){for(d=0;d<r;d++)n[d]=a[f*r+d];for(e(n,o,i,w,r),d=0;d<r;d++)a[f*r+d]=Math.sqrt(o[d])}}function e(a,t,n,e,o){n[0]=0,e[0]=-r,e[1]=+r;for(var i=1,w=0;i<o;i++){for(var d=(a[i]+i*i-(a[n[w]]+n[w]*n[w]))/(2*i-2*n[w]);d<=e[w];)w--,d=(a[i]+i*i-(a[n[w]]+n[w]*n[w]))/(2*i-2*n[w]);n[++w]=i,e[w]=d,e[w+1]=+r}for(i=0,w=0;i<o;i++){for(;e[w+1]<i;)w++;t[i]=(i-n[w])*(i-n[w])+a[n[w]]}}
},{"clamp":"g8Gp"}],"IIwj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});
},{}],"uyPB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.deref=exports.isDeref=void 0;const e=e=>null!=e&&"function"==typeof e.deref;exports.isDeref=e;const r=r=>e(r)?r.deref():r;exports.deref=r;
},{}],"UvSG":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.LogLevel=void 0,exports.LogLevel=e,function(e){e[e.FINE=0]="FINE",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.SEVERE=4]="SEVERE",e[e.NONE=5]="NONE"}(e||(exports.LogLevel=e={}));
},{}],"BlkR":[function(require,module,exports) {
"use strict";var t;Object.defineProperty(exports,"__esModule",{value:!0}),exports.typedArray=y,exports.intTypeForBits=exports.uintTypeForBits=exports.intTypeForSize=exports.uintTypeForSize=exports.typedArrayType=exports.sizeOf=exports.asGLType=exports.asNativeType=exports.TYPEDARRAY_CTORS=exports.UINT_ARRAY_CTORS=exports.INT_ARRAY_CTORS=exports.FLOAT_ARRAY_CTORS=exports.SIZEOF=exports.TYPE2GL=exports.GL2TYPE=exports.GLType=void 0,exports.GLType=t,function(t){t[t.I8=5120]="I8",t[t.U8=5121]="U8",t[t.I16=5122]="I16",t[t.U16=5123]="U16",t[t.I32=5124]="I32",t[t.U32=5125]="U32",t[t.F32=5126]="F32"}(t||(exports.GLType=t={}));const r={[t.I8]:"i8",[t.U8]:"u8",[t.I16]:"i16",[t.U16]:"u16",[t.I32]:"i32",[t.U32]:"u32",[t.F32]:"f32"};exports.GL2TYPE=r;const e={i8:t.I8,u8:t.U8,u8c:t.U8,i16:t.I16,u16:t.U16,i32:t.I32,u32:t.U32,f32:t.F32,f64:void 0};exports.TYPE2GL=e;const s={u8:1,u8c:1,i8:1,u16:2,i16:2,u32:4,i32:4,f32:4,f64:8};exports.SIZEOF=s;const o={f32:Float32Array,f64:Float64Array};exports.FLOAT_ARRAY_CTORS=o;const i={i8:Int8Array,i16:Int16Array,i32:Int32Array};exports.INT_ARRAY_CTORS=i;const p={u8:Uint8Array,u8c:Uint8ClampedArray,u16:Uint16Array,u32:Uint32Array};exports.UINT_ARRAY_CTORS=p;const n=Object.assign(Object.assign(Object.assign({},o),i),p);exports.TYPEDARRAY_CTORS=n;const T=t=>{const e=r[t];return void 0!==e?e:t};exports.asNativeType=T;const u=t=>{const r=e[t];return void 0!==r?r:t};exports.asGLType=u;const x=t=>s[T(t)];function y(t,...r){return new(n[T(t)])(...r)}exports.sizeOf=x;const A=t=>{if(Array.isArray(t))return"f64";for(let r in n)if(t instanceof n[r])return r;return"f64"};exports.typedArrayType=A;const a=t=>t<=256?"u8":t<=65536?"u16":"u32";exports.uintTypeForSize=a;const c=t=>t>=-128&&t<128?"i8":t>=-32768&&t<32768?"i16":"i32";exports.intTypeForSize=c;const R=t=>t>16?"u32":t>8?"u16":"u8";exports.uintTypeForBits=R;const I=t=>t>16?"i32":t>8?"i16":"i8";exports.intTypeForBits=I;
},{}],"jgu4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EVENT_DISABLE=exports.EVENT_ENABLE=exports.EVENT_ALL=exports.NO_OP=exports.SEMAPHORE=exports.DEFAULT_EPS=void 0;const e=1e-6;exports.DEFAULT_EPS=1e-6;const E=Symbol();exports.SEMAPHORE=E;const s=()=>{};exports.NO_OP=s;const o="*";exports.EVENT_ALL="*";const t="enable";exports.EVENT_ENABLE="enable";const r="disable";exports.EVENT_DISABLE="disable";
},{}],"dgmA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.assert=void 0;var e=require("./constants");const t=(()=>{try{return!1}catch(e){}return!1})()?(e,t="assertion failed")=>{if("function"==typeof e&&!e()||!e)throw new Error("function"==typeof t?t():t)}:e.NO_OP;exports.assert=t;
},{"./constants":"jgu4"}],"pZMv":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.exposeGlobal=void 0;const o=(o,t,r=!1)=>{const n=void 0!==e?e:"undefined"!=typeof window?window:void 0;n&&(r||(()=>{try{return!1}catch(e){}return!1})())&&(n[o]=t)};exports.exposeGlobal=o;
},{}],"gVIR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ConsoleLogger=exports.NULL_LOGGER=void 0;var e=require("./api/logger");const o=Object.freeze({level:e.LogLevel.NONE,fine(){},debug(){},info(){},warn(){},severe(){}});exports.NULL_LOGGER=o;class l{constructor(o,l=e.LogLevel.FINE){this.id=o,this.level=l}fine(...o){this.level<=e.LogLevel.FINE&&this.log("FINE",o)}debug(...o){this.level<=e.LogLevel.DEBUG&&this.log("DEBUG",o)}info(...o){this.level<=e.LogLevel.INFO&&this.log("INFO",o)}warn(...o){this.level<=e.LogLevel.WARN&&this.log("WARN",o)}severe(...o){this.level<=e.LogLevel.SEVERE&&this.log("SEVERE",o)}log(e,o){console.log(`[${e}] ${this.id}:`,...o)}}exports.ConsoleLogger=l;
},{"./api/logger":"UvSG"}],"lpSI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mixin=void 0;const e=(e,t={})=>{const o=Reflect.ownKeys(e),r=Reflect.ownKeys(t),n=Symbol("isa");function p(t){for(let r of o){const o=Object.getOwnPropertyDescriptor(t.prototype,r);!o||o.configurable?Object.defineProperty(t.prototype,r,{value:e[r],writable:!0}):console.log(`not patching: ${t.name}.${r.toString()}`)}return Object.defineProperty(t.prototype,n,{value:!0}),t}for(let c of r)Object.defineProperty(p,c,{value:t[c],enumerable:t.propertyIsEnumerable(c)});return Object.defineProperty(p,Symbol.hasInstance,{value:e=>!!e[n]}),p};exports.mixin=e;
},{}],"YDID":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.configurable=void 0;const e=e=>(function(o,r,t){t.configurable=e});exports.configurable=e;
},{}],"F8cC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.deprecated=void 0;var e=require("../assert");const t=(t,o=console.log)=>(function(r,n,s){const c=`${r.constructor.name}#${n.toString()}`,u=s.value;return(0,e.assert)("function"==typeof u,`${c} is not a function`),s.value=function(){return o(`DEPRECATED ${c}: ${t||"will be removed soon"}`),u.apply(this,arguments)},s});exports.deprecated=t;
},{"../assert":"dgmA"}],"g1OR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.nomixin=void 0;const e=(e,o,i)=>{i.configurable=!1};exports.nomixin=e;
},{}],"jcUa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sealed=void 0;const e=e=>{Object.seal(e),Object.seal(e.prototype)};exports.sealed=e;
},{}],"NStT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IEnableMixin=void 0;var e=require("../constants"),i=require("../mixin");const t=(0,i.mixin)({_enabled:!0,isEnabled(){return this._enabled},enable(){this._enabled=!0,this.notify&&this.notify({id:e.EVENT_ENABLE,target:this})},disable(){this._enabled=!1,this.notify&&this.notify({id:e.EVENT_DISABLE,target:this})},toggle(){return this._enabled?this.disable():this.enable(),this._enabled}});exports.IEnableMixin=t;
},{"../constants":"jgu4","../mixin":"lpSI"}],"Bgy8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.INotifyMixin=exports.inotify_dispatch=void 0;var e=require("../constants"),t=require("../mixin");const i=(e,t)=>{if(e)for(let i,r=0,s=e.length;r<s;r++)if((i=e[r])[0].call(i[1],t),t.canceled)return};exports.inotify_dispatch=i;const r=(0,t.mixin)({addListener(e,t,i){let r=(this._listeners=this._listeners||{})[e];return!r&&(r=this._listeners[e]=[]),-1===this.__listener(r,t,i)&&(r.push([t,i]),!0)},removeListener(e,t,i){let r;if(!(r=this._listeners))return!1;const s=r[e];if(s){const n=this.__listener(s,t,i);if(-1!==n)return s.splice(n,1),!s.length&&delete r[e],!0}return!1},notify(t){let r;if(!(r=this._listeners))return!1;void 0===t.target&&(t.target=this),i(r[t.id],t),i(r[e.EVENT_ALL],t)},__listener(e,t,i){let r=e.length;for(;--r>=0;){const s=e[r];if(s[0]===t&&s[1]===i)break}return r}});exports.INotifyMixin=r;
},{"../constants":"jgu4","../mixin":"lpSI"}],"pkQO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.iterable=void 0;var e=require("../mixin");const i=i=>(0,e.mixin)({*[Symbol.iterator](){yield*this[i]}});exports.iterable=i;
},{"../mixin":"lpSI"}],"iE2i":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IWatchMixin=void 0;var t=require("../mixin");const e=(0,t.mixin)({addWatch(t,e){return this._watches=this._watches||{},!this._watches[t]&&(this._watches[t]=e,!0)},removeWatch(t){if(this._watches)return!!this._watches[t]&&(delete this._watches[t],!0)},notifyWatches(t,e){if(!this._watches)return;const s=this._watches;for(let i in s)s[i](i,t,e)}});exports.IWatchMixin=e;
},{"../mixin":"lpSI"}],"AsNk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./api/assoc");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});var r=require("./api/bind");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var t=require("./api/buffered");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});var o=require("./api/clear");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===o[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}}))});var n=require("./api/compare");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===n[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}}))});var u=require("./api/contains");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===u[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}}))});var i=require("./api/copy");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===i[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}}))});var s=require("./api/deref");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===s[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}}))});var c=require("./api/dissoc");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===c[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}}))});var a=require("./api/empty");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===a[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}}))});var f=require("./api/enable");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===f[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}}))});var p=require("./api/equiv");Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===p[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return p[e]}}))});var d=require("./api/event");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===d[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return d[e]}}))});var l=require("./api/fn");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===l[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return l[e]}}))});var x=require("./api/get");Object.keys(x).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===x[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return x[e]}}))});var b=require("./api/hash");Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===b[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return b[e]}}))});var y=require("./api/hiccup");Object.keys(y).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===y[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return y[e]}}))});var j=require("./api/id");Object.keys(j).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===j[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return j[e]}}))});var _=require("./api/indexed");Object.keys(_).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===_[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _[e]}}))});var O=require("./api/into");Object.keys(O).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===O[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return O[e]}}))});var m=require("./api/keyval");Object.keys(m).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===m[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return m[e]}}))});var g=require("./api/length");Object.keys(g).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===g[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return g[e]}}))});var h=require("./api/logger");Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===h[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return h[e]}}))});var v=require("./api/meta");Object.keys(v).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===v[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return v[e]}}))});var k=require("./api/null");Object.keys(k).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===k[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return k[e]}}))});var q=require("./api/object");Object.keys(q).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===q[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return q[e]}}))});var M=require("./api/path");Object.keys(M).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===M[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return M[e]}}))});var P=require("./api/predicate");Object.keys(P).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===P[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return P[e]}}))});var E=require("./api/prim");Object.keys(E).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===E[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return E[e]}}))});var w=require("./api/range");Object.keys(w).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===w[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return w[e]}}))});var z=require("./api/release");Object.keys(z).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===z[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return z[e]}}))});var A=require("./api/reset");Object.keys(A).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===A[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return A[e]}}))});var B=require("./api/select");Object.keys(B).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===B[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return B[e]}}))});var C=require("./api/seq");Object.keys(C).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===C[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return C[e]}}))});var D=require("./api/set");Object.keys(D).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===D[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return D[e]}}))});var F=require("./api/stack");Object.keys(F).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===F[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return F[e]}}))});var G=require("./api/tuple");Object.keys(G).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===G[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return G[e]}}))});var H=require("./api/typedarray");Object.keys(H).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===H[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return H[e]}}))});var I=require("./api/watch");Object.keys(I).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===I[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return I[e]}}))});var J=require("./assert");Object.keys(J).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===J[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return J[e]}}))});var K=require("./constants");Object.keys(K).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===K[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return K[e]}}))});var L=require("./expose");Object.keys(L).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===L[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return L[e]}}))});var N=require("./logger");Object.keys(N).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===N[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return N[e]}}))});var Q=require("./mixin");Object.keys(Q).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Q[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Q[e]}}))});var R=require("./decorators/configurable");Object.keys(R).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===R[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return R[e]}}))});var S=require("./decorators/deprecated");Object.keys(S).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===S[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return S[e]}}))});var T=require("./decorators/nomixin");Object.keys(T).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===T[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return T[e]}}))});var U=require("./decorators/sealed");Object.keys(U).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===U[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return U[e]}}))});var V=require("./mixins/ienable");Object.keys(V).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===V[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return V[e]}}))});var W=require("./mixins/inotify");Object.keys(W).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===W[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return W[e]}}))});var X=require("./mixins/iterable");Object.keys(X).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===X[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return X[e]}}))});var Y=require("./mixins/iwatch");Object.keys(Y).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Y[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Y[e]}}))});
},{"./api/assoc":"IIwj","./api/bind":"IIwj","./api/buffered":"IIwj","./api/clear":"IIwj","./api/compare":"IIwj","./api/contains":"IIwj","./api/copy":"IIwj","./api/deref":"uyPB","./api/dissoc":"IIwj","./api/empty":"IIwj","./api/enable":"IIwj","./api/equiv":"IIwj","./api/event":"IIwj","./api/fn":"IIwj","./api/get":"IIwj","./api/hash":"IIwj","./api/hiccup":"IIwj","./api/id":"IIwj","./api/indexed":"IIwj","./api/into":"IIwj","./api/keyval":"IIwj","./api/length":"IIwj","./api/logger":"UvSG","./api/meta":"IIwj","./api/null":"IIwj","./api/object":"IIwj","./api/path":"IIwj","./api/predicate":"IIwj","./api/prim":"IIwj","./api/range":"IIwj","./api/release":"IIwj","./api/reset":"IIwj","./api/select":"IIwj","./api/seq":"IIwj","./api/set":"IIwj","./api/stack":"IIwj","./api/tuple":"IIwj","./api/typedarray":"BlkR","./api/watch":"IIwj","./assert":"dgmA","./constants":"jgu4","./expose":"pZMv","./logger":"gVIR","./mixin":"lpSI","./decorators/configurable":"YDID","./decorators/deprecated":"F8cC","./decorators/nomixin":"g1OR","./decorators/sealed":"jcUa","./mixins/ienable":"NStT","./mixins/inotify":"Bgy8","./mixins/iterable":"pkQO","./mixins/iwatch":"iE2i"}],"YVpg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.existsAndNotNull=void 0;const e=e=>null!=e;exports.existsAndNotNull=e;
},{}],"OT3r":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.exists=void 0;const e=e=>void 0!==e;exports.exists=e;
},{}],"Lnkh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasBigInt=void 0;const t=()=>"function"==typeof BigInt;exports.hasBigInt=t;
},{}],"SIpp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasCrypto=void 0;const e=()=>"undefined"!=typeof window&&void 0!==window.crypto;exports.hasCrypto=e;
},{}],"oYi2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasMaxLength=void 0;const e=(e,t)=>null!=t&&t.length<=e;exports.hasMaxLength=e;
},{}],"UUpJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasMinLength=void 0;const e=(e,t)=>null!=t&&t.length>=e;exports.hasMinLength=e;
},{}],"biGe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isFunction=void 0;const e=e=>"function"==typeof e;exports.isFunction=e;
},{}],"DR11":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasPerformance=void 0;var e=require("./is-function");const r=()=>"undefined"!=typeof performance&&(0,e.isFunction)(performance.now);exports.hasPerformance=r;
},{"./is-function":"biGe"}],"k7cj":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasWASM=void 0;const o=()=>"undefined"!=typeof window&&void 0!==window.WebAssembly||void 0!==e&&void 0!==e.WebAssembly;exports.hasWASM=o;
},{}],"FCBw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasWebGL=void 0;const e=()=>{try{return document.createElement("canvas").getContext("webgl"),!0}catch(e){return!1}};exports.hasWebGL=e;
},{}],"vrOu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasWebSocket=void 0;const e=()=>"undefined"!=typeof WebSocket;exports.hasWebSocket=e;
},{}],"rTeG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.implementsFunction=void 0;const e=(e,t)=>null!=e&&"function"==typeof e[t];exports.implementsFunction=e;
},{}],"zOxq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNumeric=exports.isAlphaNum=exports.isAlpha=void 0;const s=s=>/^[a-z]+$/i.test(s);exports.isAlpha=s;const e=s=>/^[a-z0-9]+$/i.test(s);exports.isAlphaNum=e;const t=s=>/^[0-9]+$/.test(s);exports.isNumeric=t;
},{}],"fm3I":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isArray=void 0;const r=Array.isArray;exports.isArray=r;
},{}],"Fd5S":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isArrayLike=void 0;const e=e=>null!=e&&"function"!=typeof e&&void 0!==e.length;exports.isArrayLike=e;
},{}],"wvL1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isPrintableASCII=exports.isASCII=void 0;const e=e=>/^[\x00-\x7f]+$/.test(e);exports.isASCII=e;const t=e=>/^[\x20-\x7e]+$/.test(e);exports.isPrintableASCII=t;
},{}],"seHo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isAsyncIterable=void 0;const e=e=>null!=e&&"function"==typeof e[Symbol.asyncIterator];exports.isAsyncIterable=e;
},{}],"xa2y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isBlob=void 0;const e=e=>e instanceof Blob;exports.isBlob=e;
},{}],"Acg8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isBoolean=void 0;const e=e=>"boolean"==typeof e;exports.isBoolean=e;
},{}],"mBES":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isChrome=void 0;const e=()=>"undefined"!=typeof window&&!!window.chrome;exports.isChrome=e;
},{}],"WCIs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isDataURL=void 0;const e=e=>/^data:.+\/(.+);base64,/.test(e);exports.isDataURL=e;
},{}],"jz4d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isDate=void 0;const e=e=>e instanceof Date;exports.isDate=e;
},{}],"Eop8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isEven=void 0;const e=e=>e%2==0;exports.isEven=e;
},{}],"Y8RG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isFalse=void 0;const e=e=>!1===e;exports.isFalse=e;
},{}],"buhi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isFile=void 0;const e=e=>e instanceof File;exports.isFile=e;
},{}],"ULKw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isFirefox=void 0;const e=()=>"undefined"!=typeof window&&!!window.InstallTrigger;exports.isFirefox=e;
},{}],"EAwp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isFloatString=void 0;const t=/^(?:[-+]?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/,e=e=>e.length>0&&t.test(e);exports.isFloatString=e;
},{}],"VlaI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isHex=void 0;const e=e=>/^[a-f0-9]+$/i.test(e);exports.isHex=e;
},{}],"a3Af":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isString=void 0;const e=e=>"string"==typeof e;exports.isString=e;
},{}],"XkcL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isHexColor=void 0;var e=require("./is-string");const r=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,s=s=>(0,e.isString)(s)&&r.test(s);exports.isHexColor=s;
},{"./is-string":"a3Af"}],"XfVX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isIE=void 0;const e=()=>"undefined"!=typeof document&&(void 0!==document.documentMode||navigator.userAgent.indexOf("MSIE")>0);exports.isIE=e;
},{}],"YbGb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isInRange=void 0;const e=(e,s,t)=>t>=e&&t<=s;exports.isInRange=e;
},{}],"K6ju":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isInt32=void 0;const e=e=>"number"==typeof e&&(0|e)===e;exports.isInt32=e;
},{}],"XINy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isIntString=void 0;const t=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,e=e=>t.test(e);exports.isIntString=e;
},{}],"ZO3u":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isIterable=void 0;const e=e=>null!=e&&"function"==typeof e[Symbol.iterator];exports.isIterable=e;
},{}],"H9IH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isMap=void 0;const e=e=>e instanceof Map;exports.isMap=e;
},{}],"IYyo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isMobile=void 0;const e=()=>"undefined"!=typeof navigator&&/mobile|tablet|ip(ad|hone|od)|android|silk|crios/i.test(navigator.userAgent);exports.isMobile=e;
},{}],"AW7h":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNaN=void 0;const e=e=>e!=e;exports.isNaN=e;
},{}],"zl1Q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNegative=void 0;const e=e=>"number"==typeof e&&e<0;exports.isNegative=e;
},{}],"gkbj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNil=void 0;const e=e=>null==e;exports.isNil=e;
},{}],"rDCW":[function(require,module,exports) {

},{}],"be1E":[function(require,module,exports) {
var process = require("process");
var e=require("process");Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNode=void 0;const o=()=>"object"==typeof e&&"object"==typeof e.versions&&void 0!==e.versions.node;exports.isNode=o;
},{"process":"rDCW"}],"tpHU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNotStringAndIterable=void 0;const t=t=>null!=t&&"string"!=typeof t&&"function"==typeof t[Symbol.iterator];exports.isNotStringAndIterable=t;
},{}],"zVM5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNull=void 0;const e=e=>null===e;exports.isNull=e;
},{}],"BYeX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNumber=void 0;const e=e=>"number"==typeof e;exports.isNumber=e;
},{}],"a0Ub":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNumericFloat=exports.isNumericInt=void 0;const e=e=>/^[-+]?\d+$/.test(e);exports.isNumericInt=e;const t=e=>/^[-+]?\d*\.?\d+(e[-+]?\d+)?$/i.test(e);exports.isNumericFloat=t;
},{}],"mnS9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isObject=void 0;const e=e=>null!==e&&"object"==typeof e;exports.isObject=e;
},{}],"SEVW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isOdd=void 0;const e=e=>e%2!=0;exports.isOdd=e;
},{}],"S78L":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isPlainObject=void 0;const e=Object.getPrototypeOf,t=t=>{let l;return null!=t&&"object"==typeof t&&(null===(l=e(t))||null===e(l))};exports.isPlainObject=t;
},{}],"xy4Y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isPositive=void 0;const e=e=>"number"==typeof e&&e>0;exports.isPositive=e;
},{}],"qYYB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isPrimitive=void 0;const e=e=>{const t=typeof e;return"string"===t||"number"===t};exports.isPrimitive=e;
},{}],"GGkB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isPromise=void 0;const e=e=>e instanceof Promise;exports.isPromise=e;
},{}],"nGUt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isPromiseLike=void 0;var e=require("./implements-function");const i=i=>i instanceof Promise||(0,e.implementsFunction)(i,"then")&&(0,e.implementsFunction)(i,"catch");exports.isPromiseLike=i;
},{"./implements-function":"rTeG"}],"rjDG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isProtoPath=exports.isIllegalKey=void 0;var e=require("./is-array"),r=require("./is-string");const s=new Set(["__proto__","prototype","constructor"]),t=e=>s.has(e);exports.isIllegalKey=t;const o=s=>(0,e.isArray)(s)?s.some(t):!!(0,r.isString)(s)&&(-1!==s.indexOf(".")?s.split(".").some(t):t(s));exports.isProtoPath=o;
},{"./is-array":"fm3I","./is-string":"a3Af"}],"CKos":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isRegExp=void 0;const e=e=>e instanceof RegExp;exports.isRegExp=e;
},{}],"lezA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isSafari=void 0;var e=require("./is-chrome");const r=()=>"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!(0,e.isChrome)();exports.isSafari=r;
},{"./is-chrome":"mBES"}],"ZIC5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isSet=void 0;const e=e=>e instanceof Set;exports.isSet=e;
},{}],"tbvB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isSymbol=void 0;const e=e=>"symbol"==typeof e;exports.isSymbol=e;
},{}],"oYkV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isTransferable=void 0;const e=e=>e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer||"undefined"!=typeof MessagePort&&e instanceof MessagePort;exports.isTransferable=e;
},{}],"qTek":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isTrue=void 0;const e=e=>!0===e;exports.isTrue=e;
},{}],"eCsB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isTypedArray=void 0;const r=r=>r&&(r instanceof Float32Array||r instanceof Float64Array||r instanceof Uint32Array||r instanceof Int32Array||r instanceof Uint8Array||r instanceof Int8Array||r instanceof Uint16Array||r instanceof Int16Array||r instanceof Uint8ClampedArray);exports.isTypedArray=r;
},{}],"EDM4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isUint32=void 0;const e=e=>"number"==typeof e&&e>>>0===e;exports.isUint32=e;
},{}],"qg6o":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isUndefined=void 0;const e=e=>void 0===e;exports.isUndefined=e;
},{}],"Kjht":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isUUID=void 0;const e=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,s=s=>e.test(s);exports.isUUID=s;
},{}],"pNtT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isUUIDv4=void 0;const e=/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,s=s=>e.test(s);exports.isUUIDv4=s;
},{}],"zhZp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isZero=void 0;const e=e=>0===e;exports.isZero=e;
},{}],"HctC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./exists-not-null");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});var r=require("./exists");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var t=require("./has-bigint");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});var n=require("./has-crypto");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===n[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}}))});var o=require("./has-max-length");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===o[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}}))});var u=require("./has-min-length");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===u[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}}))});var i=require("./has-performance");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===i[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}}))});var s=require("./has-wasm");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===s[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}}))});var c=require("./has-webgl");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===c[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}}))});var f=require("./has-websocket");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===f[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}}))});var a=require("./implements-function");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===a[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}}))});var p=require("./is-alphanum");Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===p[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return p[e]}}))});var l=require("./is-array");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===l[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return l[e]}}))});var b=require("./is-arraylike");Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===b[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return b[e]}}))});var d=require("./is-ascii");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===d[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return d[e]}}))});var x=require("./is-async-iterable");Object.keys(x).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===x[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return x[e]}}))});var y=require("./is-blob");Object.keys(y).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===y[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return y[e]}}))});var j=require("./is-boolean");Object.keys(j).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===j[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return j[e]}}))});var _=require("./is-chrome");Object.keys(_).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===_[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _[e]}}))});var O=require("./is-data-url");Object.keys(O).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===O[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return O[e]}}))});var m=require("./is-date");Object.keys(m).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===m[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return m[e]}}))});var h=require("./is-even");Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===h[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return h[e]}}))});var g=require("./is-false");Object.keys(g).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===g[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return g[e]}}))});var v=require("./is-file");Object.keys(v).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===v[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return v[e]}}))});var k=require("./is-firefox");Object.keys(k).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===k[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return k[e]}}))});var M=require("./is-float-string");Object.keys(M).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===M[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return M[e]}}))});var P=require("./is-function");Object.keys(P).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===P[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return P[e]}}))});var q=require("./is-hex");Object.keys(q).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===q[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return q[e]}}))});var E=require("./is-hex-color");Object.keys(E).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===E[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return E[e]}}))});var w=require("./is-ie");Object.keys(w).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===w[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return w[e]}}))});var z=require("./is-in-range");Object.keys(z).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===z[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return z[e]}}))});var A=require("./is-int32");Object.keys(A).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===A[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return A[e]}}))});var B=require("./is-int-string");Object.keys(B).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===B[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return B[e]}}))});var C=require("./is-iterable");Object.keys(C).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===C[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return C[e]}}))});var D=require("./is-map");Object.keys(D).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===D[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return D[e]}}))});var F=require("./is-mobile");Object.keys(F).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===F[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return F[e]}}))});var G=require("./is-nan");Object.keys(G).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===G[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return G[e]}}))});var H=require("./is-negative");Object.keys(H).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===H[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return H[e]}}))});var I=require("./is-nil");Object.keys(I).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===I[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return I[e]}}))});var J=require("./is-node");Object.keys(J).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===J[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return J[e]}}))});var K=require("./is-not-string-iterable");Object.keys(K).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===K[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return K[e]}}))});var L=require("./is-null");Object.keys(L).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===L[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return L[e]}}))});var N=require("./is-number");Object.keys(N).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===N[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return N[e]}}))});var Q=require("./is-numeric");Object.keys(Q).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Q[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Q[e]}}))});var R=require("./is-object");Object.keys(R).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===R[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return R[e]}}))});var S=require("./is-odd");Object.keys(S).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===S[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return S[e]}}))});var T=require("./is-plain-object");Object.keys(T).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===T[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return T[e]}}))});var U=require("./is-positive");Object.keys(U).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===U[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return U[e]}}))});var V=require("./is-primitive");Object.keys(V).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===V[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return V[e]}}))});var W=require("./is-promise");Object.keys(W).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===W[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return W[e]}}))});var X=require("./is-promiselike");Object.keys(X).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===X[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return X[e]}}))});var Y=require("./is-proto-path");Object.keys(Y).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Y[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Y[e]}}))});var Z=require("./is-regexp");Object.keys(Z).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Z[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Z[e]}}))});var $=require("./is-safari");Object.keys($).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===$[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return $[e]}}))});var ee=require("./is-set");Object.keys(ee).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===ee[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ee[e]}}))});var re=require("./is-string");Object.keys(re).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===re[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return re[e]}}))});var te=require("./is-symbol");Object.keys(te).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===te[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return te[e]}}))});var ne=require("./is-transferable");Object.keys(ne).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===ne[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ne[e]}}))});var oe=require("./is-true");Object.keys(oe).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===oe[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return oe[e]}}))});var ue=require("./is-typedarray");Object.keys(ue).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===ue[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ue[e]}}))});var ie=require("./is-uint32");Object.keys(ie).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===ie[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ie[e]}}))});var se=require("./is-undefined");Object.keys(se).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===se[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return se[e]}}))});var ce=require("./is-uuid");Object.keys(ce).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===ce[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ce[e]}}))});var fe=require("./is-uuid4");Object.keys(fe).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===fe[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return fe[e]}}))});var ae=require("./is-zero");Object.keys(ae).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===ae[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ae[e]}}))});
},{"./exists-not-null":"YVpg","./exists":"OT3r","./has-bigint":"Lnkh","./has-crypto":"SIpp","./has-max-length":"oYi2","./has-min-length":"UUpJ","./has-performance":"DR11","./has-wasm":"k7cj","./has-webgl":"FCBw","./has-websocket":"vrOu","./implements-function":"rTeG","./is-alphanum":"zOxq","./is-array":"fm3I","./is-arraylike":"Fd5S","./is-ascii":"wvL1","./is-async-iterable":"seHo","./is-blob":"xa2y","./is-boolean":"Acg8","./is-chrome":"mBES","./is-data-url":"WCIs","./is-date":"jz4d","./is-even":"Eop8","./is-false":"Y8RG","./is-file":"buhi","./is-firefox":"ULKw","./is-float-string":"EAwp","./is-function":"biGe","./is-hex":"VlaI","./is-hex-color":"XkcL","./is-ie":"XfVX","./is-in-range":"YbGb","./is-int32":"K6ju","./is-int-string":"XINy","./is-iterable":"ZO3u","./is-map":"H9IH","./is-mobile":"IYyo","./is-nan":"AW7h","./is-negative":"zl1Q","./is-nil":"gkbj","./is-node":"be1E","./is-not-string-iterable":"tpHU","./is-null":"zVM5","./is-number":"BYeX","./is-numeric":"a0Ub","./is-object":"mnS9","./is-odd":"SEVW","./is-plain-object":"S78L","./is-positive":"xy4Y","./is-primitive":"qYYB","./is-promise":"GGkB","./is-promiselike":"nGUt","./is-proto-path":"rjDG","./is-regexp":"CKos","./is-safari":"lezA","./is-set":"ZIC5","./is-string":"a3Af","./is-symbol":"tbvB","./is-transferable":"oYkV","./is-true":"qTek","./is-typedarray":"eCsB","./is-uint32":"EDM4","./is-undefined":"qg6o","./is-uuid":"Kjht","./is-uuid4":"pNtT","./is-zero":"zhZp"}],"CPq6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ensureTransducer=void 0;var e=require("@thi.ng/checks");const r=r=>(0,e.implementsFunction)(r,"xform")?r.xform():r;exports.ensureTransducer=r;
},{"@thi.ng/checks":"HctC"}],"wmkI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.unreduced=exports.ensureReduced=exports.isReduced=exports.reduced=exports.Reduced=void 0;class e{constructor(e){this.value=e}deref(){return this.value}}exports.Reduced=e;const s=s=>new e(s);exports.reduced=s;const t=s=>s instanceof e;exports.isReduced=t;const r=s=>s instanceof e?s:new e(s);exports.ensureReduced=r;const d=s=>s instanceof e?s.deref():s;exports.unreduced=d;
},{}],"JaIy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defError=void 0;const r=(r,e=(r=>void 0!==r?": "+r:""))=>(class extends Error{constructor(o){super(r(o)+e(o))}});exports.defError=r;
},{}],"TWhV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.illegalArgs=exports.IllegalArgumentError=void 0;var r=require("./deferror");const e=(0,r.defError)(()=>"illegal argument(s)");exports.IllegalArgumentError=e;const l=r=>{throw new e(r)};exports.illegalArgs=l;
},{"./deferror":"JaIy"}],"HmRg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.illegalArity=exports.IllegalArityError=void 0;var r=require("./deferror");const e=(0,r.defError)(()=>"illegal arity");exports.IllegalArityError=e;const l=r=>{throw new e(r)};exports.illegalArity=l;
},{"./deferror":"JaIy"}],"MJqy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.illegalState=exports.IllegalStateError=void 0;var e=require("./deferror");const r=(0,e.defError)(()=>"illegal state");exports.IllegalStateError=r;const t=e=>{throw new r(e)};exports.illegalState=t;
},{"./deferror":"JaIy"}],"M3f7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ensureIndex2=exports.ensureIndex=exports.outOfBounds=exports.OutOfBoundsError=void 0;var e=require("./deferror");const r=(0,e.defError)(()=>"index out of bounds");exports.OutOfBoundsError=r;const o=e=>{throw new r(e)};exports.outOfBounds=o;const s=(e,r,s)=>(e<r||e>=s)&&o(e);exports.ensureIndex=s;const t=(e,r,s,t)=>(e<0||e>=s||r<0||r>=t)&&o([e,r]);exports.ensureIndex2=t;
},{"./deferror":"JaIy"}],"gSco":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.unsupported=exports.UnsupportedOperationError=void 0;var r=require("./deferror");const e=(0,r.defError)(()=>"unsupported operation");exports.UnsupportedOperationError=e;const o=r=>{throw new e(r)};exports.unsupported=o;
},{"./deferror":"JaIy"}],"Qv5j":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./deferror");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});var r=require("./illegal-arguments");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var t=require("./illegal-arity");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});var o=require("./illegal-state");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===o[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}}))});var n=require("./out-of-bounds");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===n[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}}))});var u=require("./unsupported");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===u[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}}))});
},{"./deferror":"JaIy","./illegal-arguments":"TWhV","./illegal-arity":"HmRg","./illegal-state":"MJqy","./out-of-bounds":"M3f7","./unsupported":"gSco"}],"hay8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.reduce=u,exports.reduceRight=c,exports.$$reduce=exports.reducer=void 0;var e=require("@thi.ng/checks"),r=require("@thi.ng/errors"),t=require("./reduced");const n=e=>2===e.length?[void 0,e[1]]:3===e.length?[e[1],e[2]]:(0,r.illegalArity)(e.length);function u(...r){const u=r[0],c=u[0],o=u[1],l=u[2],s=null==(r=n(r))[0]?c():r[0],f=r[1];return(0,t.unreduced)(o((0,e.implementsFunction)(f,"$reduce")?f.$reduce(l,s):(0,e.isArrayLike)(f)?d(l,s,f):i(l,s,f)))}function c(...e){const r=e[0],u=r[0],c=r[1],d=r[2];let i=null==(e=n(e))[0]?u():e[0];const o=e[1];for(let n=o.length;--n>=0;)if(i=d(i,o[n]),(0,t.isReduced)(i)){i=i.deref();break}return(0,t.unreduced)(c(i))}const d=(e,r,n)=>{for(let u=0,c=n.length;u<c;u++)if(r=e(r,n[u]),(0,t.isReduced)(r)){r=r.deref();break}return r},i=(e,r,n)=>{for(let u of n)if(r=e(r,u),(0,t.isReduced)(r)){r=r.deref();break}return r},o=(e,r)=>[e,e=>e,r];exports.reducer=o;const l=(r,t)=>{const n=t.length-1;return(0,e.isIterable)(t[n])?t.length>1?u(r.apply(null,t.slice(0,n)),t[n]):u(r(),t[0]):void 0};exports.$$reduce=l;
},{"@thi.ng/checks":"HctC","@thi.ng/errors":"Qv5j","./reduced":"wmkI"}],"xJML":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.push=r;var e=require("../reduce");function r(r){return r?[...r]:(0,e.reducer)(()=>[],(e,r)=>(e.push(r),e))}
},{"../reduce":"hay8"}],"FSoq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.iterator=u,exports.iterator1=d,exports.$iter=void 0;var e=require("@thi.ng/api"),r=require("@thi.ng/checks"),t=require("./internal/ensure"),i=require("./reduced"),n=require("./rfn/push");function*u(e,r){const u=(0,t.ensureTransducer)(e)((0,n.push)()),d=u[1],s=u[2];for(let t of r){const e=s([],t);if((0,i.isReduced)(e))return void(yield*(0,i.unreduced)(d(e.deref())));e.length&&(yield*e)}yield*(0,i.unreduced)(d([]))}function*d(r,n){const u=(0,t.ensureTransducer)(r)([e.NO_OP,e.NO_OP,(e,r)=>r])[2];for(let t of n){let r=u(e.SEMAPHORE,t);if((0,i.isReduced)(r))return void((r=(0,i.unreduced)(r.deref()))!==e.SEMAPHORE&&(yield r));r!==e.SEMAPHORE&&(yield r)}}const s=(e,t,i=d)=>{const n=t.length-1;return(0,r.isIterable)(t[n])?t.length>1?i(e.apply(null,t.slice(0,n)),t[n]):i(e(),t[0]):void 0};exports.$iter=s;
},{"@thi.ng/api":"AsNk","@thi.ng/checks":"HctC","./internal/ensure":"CPq6","./reduced":"wmkI","./rfn/push":"xJML"}],"ZoN0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.compR=void 0;const e=(e,o)=>[e[0],e[1],o];exports.compR=e;
},{}],"fBkP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.map=i;var e=require("@thi.ng/checks"),r=require("../func/compr"),t=require("../iterator");function i(o,u){return(0,e.isIterable)(u)?(0,t.iterator1)(i(o),u):e=>{const t=e[2];return(0,r.compR)(e,(e,r)=>t(e,o(r)))}}
},{"@thi.ng/checks":"HctC","../func/compr":"ZoN0","../iterator":"FSoq"}],"O6O3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.transduce=n,exports.transduceRight=s;var e=require("@thi.ng/errors"),r=require("./internal/ensure"),t=require("./reduce"),u=require("./xform/map");function n(...e){return a(n,t.reduce,e)}function s(...e){return a(s,t.reduceRight,e)}const a=(t,n,s)=>{let a,c;switch(s.length){case 4:c=s[3],a=s[2];break;case 3:c=s[2];break;case 2:return(0,u.map)(e=>t(s[0],s[1],e));default:(0,e.illegalArity)(s.length)}return n((0,r.ensureTransducer)(s[0])(s[1]),a,c)};
},{"@thi.ng/errors":"Qv5j","./internal/ensure":"CPq6","./reduce":"hay8","./xform/map":"fBkP"}],"TrOB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.run=n;var e=require("@thi.ng/api"),r=require("./transduce");const t=[e.NO_OP,e.NO_OP,e.NO_OP];function n(n,...s){if(1===s.length)(0,r.transduce)(n,t,s[0]);else{const t=s[0];(0,r.transduce)(n,[e.NO_OP,e.NO_OP,(e,r)=>t(r)],s[1])}}
},{"@thi.ng/api":"AsNk","./transduce":"O6O3"}],"KHPz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.step=void 0;var e=require("./internal/ensure"),r=require("./reduced"),t=require("./rfn/push");const s=s=>{const{1:u,2:n}=(0,e.ensureTransducer)(s)((0,t.push)());let d=!1;return e=>{if(!d){let t=n([],e);return(d=(0,r.isReduced)(t))&&(t=u(t.deref())),1===t.length?t[0]:t.length>0?t:void 0}}};exports.step=s;
},{"./internal/ensure":"CPq6","./reduced":"wmkI","./rfn/push":"xJML"}],"kdWN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.__mathop=void 0;var e=require("../reduce");const r=(r,t,o,s)=>{const u=(0,e.$$reduce)(r,s);if(void 0!==u)return u;const c=s[0]||o;return(0,e.reducer)(()=>c,t)};exports.__mathop=r;
},{"../reduce":"hay8"}],"DNzN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.add=r;var e=require("../internal/mathop");function r(...t){return(0,e.__mathop)(r,(e,r)=>e+r,0,t)}
},{"../internal/mathop":"kdWN"}],"e0Ul":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.assocMap=r;var e=require("../reduce");function r(t){return t?(0,e.reduce)(r(),t):(0,e.reducer)(()=>new Map,(e,[r,t])=>e.set(r,t))}
},{"../reduce":"hay8"}],"TDT0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.assocObj=r;var e=require("../reduce");function r(u){return u?(0,e.reduce)(r(),u):(0,e.reducer)(()=>({}),(e,[r,u])=>(e[r]=u,e))}
},{"../reduce":"hay8"}],"MDsW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.autoObj=r;var e=require("../reduce");function r(t,u){let c=0;return u?(0,e.reduce)(r(t),u):(0,e.reducer)(()=>({}),(e,r)=>(e[t+c++]=r,e))}
},{"../reduce":"hay8"}],"JlsD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.conj=r;var e=require("../reduce");function r(t){return t?(0,e.reduce)(r(),t):(0,e.reducer)(()=>new Set,(e,r)=>e.add(r))}
},{"../reduce":"hay8"}],"n9G6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.count=r;var e=require("../reduce");function r(...t){const u=(0,e.$$reduce)(r,t);if(void 0!==u)return u;let c=t[0]||0,o=t[1]||1;return(0,e.reducer)(()=>c,(e,r)=>e+o)}
},{"../reduce":"hay8"}],"plMW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.div=r;var e=require("../reduce");function r(u,t){return t?(0,e.reduce)(r(u),t):(0,e.reducer)(()=>u,(e,r)=>e/r)}
},{"../reduce":"hay8"}],"eUq5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.every=u;var e=require("../reduce"),r=require("../reduced");function u(...d){const c=(0,e.$$reduce)(u,d);if(void 0!==c)return c;const t=d[0];return(0,e.reducer)(()=>!0,t?(e,u)=>t(u)?e:(0,r.reduced)(!1):(e,u)=>u?e:(0,r.reduced)(!1))}
},{"../reduce":"hay8","../reduced":"wmkI"}],"kAV5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fill=r,exports.fillN=t;var e=require("../reduce");function r(...t){const u=(0,e.$$reduce)(r,t);if(void 0!==u)return u;let i=t[0]||0;return(0,e.reducer)(()=>[],(e,r)=>(e[i++]=r,e))}function t(...e){return r(...e)}
},{"../reduce":"hay8"}],"aB8a":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.comp=r,exports.compL=t,exports.compI=void 0;var e=require("@thi.ng/errors");function r(...t){let[s,c,n,u,o,a,l,p,i,x]=t;switch(t.length){case 0:(0,e.illegalArity)(0);case 1:return s;case 2:return(...e)=>s(c(...e));case 3:return(...e)=>s(c(n(...e)));case 4:return(...e)=>s(c(n(u(...e))));case 5:return(...e)=>s(c(n(u(o(...e)))));case 6:return(...e)=>s(c(n(u(o(a(...e))))));case 7:return(...e)=>s(c(n(u(o(a(l(...e)))))));case 8:return(...e)=>s(c(n(u(o(a(l(p(...e))))))));case 9:return(...e)=>s(c(n(u(o(a(l(p(i(...e)))))))));case 10:default:const d=(...e)=>s(c(n(u(o(a(l(p(i(x(...e))))))))));return 10===t.length?d:r(d,...t.slice(10))}}function t(...e){return r.apply(null,e.reverse())}const s=t;exports.compI=s;
},{"@thi.ng/errors":"Qv5j"}],"sYrC":[function(require,module,exports) {
"use strict";function e(e){return(...t)=>!e(...t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.complement=e;
},{}],"JDYT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.constantly=void 0;const t=t=>()=>t;exports.constantly=t;
},{}],"eLV0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Delay=exports.delay=void 0;const e=e=>new t(e);exports.delay=e;class t{constructor(e){this.body=e,this.realized=!1}deref(){return this.realized||(this.value=this.body(),this.realized=!0),this.value}isRealized(){return this.realized}}exports.Delay=t;
},{}],"I5Cp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.delayed=void 0;const e=(e,t)=>new Promise(o=>setTimeout(()=>o(e),t));exports.delayed=e;
},{}],"QG59":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.identity=void 0;const e=e=>e;exports.identity=e;
},{}],"sz08":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ifDef=void 0;const e=(e,o)=>null!=o?e(o):void 0;exports.ifDef=e;
},{}],"ShiN":[function(require,module,exports) {
"use strict";function e(...e){const[r,t,n,u,s,c,a,l]=e;switch(e.length){case 1:return e=>[r(e)];case 2:return e=>[r(e),t(e)];case 3:return e=>[r(e),t(e),n(e)];case 4:return e=>[r(e),t(e),n(e),u(e)];case 5:return e=>[r(e),t(e),n(e),u(e),s(e)];case 6:return e=>[r(e),t(e),n(e),u(e),s(e),c(e)];case 7:return e=>[r(e),t(e),n(e),u(e),s(e),c(e),a(e)];case 8:return e=>[r(e),t(e),n(e),u(e),s(e),c(e),a(e),l(e)];default:return r=>{let t=new Array(e.length);for(let n=e.length;--n>=0;)t[n]=e[n](r);return t}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.juxt=e;
},{}],"waBt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.partial=r;var e=require("@thi.ng/errors");function r(r,...t){let[s,a,u,n,c,l,i,o]=t;switch(t.length){case 1:return(...e)=>r(s,...e);case 2:return(...e)=>r(s,a,...e);case 3:return(...e)=>r(s,a,u,...e);case 4:return(...e)=>r(s,a,u,n,...e);case 5:return(...e)=>r(s,a,u,n,c,...e);case 6:return(...e)=>r(s,a,u,n,c,l,...e);case 7:return(...e)=>r(s,a,u,n,c,l,i,...e);case 8:return(...e)=>r(s,a,u,n,c,l,i,o,...e);default:(0,e.illegalArgs)()}}
},{"@thi.ng/errors":"Qv5j"}],"EJOL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.promisify=void 0;const e=e=>new Promise((o,s)=>e((e,r)=>null!=e?s(e):o(r)));exports.promisify=e;
},{}],"LUk0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.threadFirst=void 0;const e=(e,...t)=>t.reduce((e,t)=>"function"==typeof t?t(e):t[0](e,...t.slice(1)),e);exports.threadFirst=e;
},{}],"maEh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.threadLast=void 0;const e=(e,...t)=>t.reduce((e,t)=>"function"==typeof t?t(e):t[0](...t.slice(1),e),e);exports.threadLast=e;
},{}],"P7Af":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.trampoline=void 0;const e=e=>{for(;"function"==typeof e;)e=e();return e};exports.trampoline=e;
},{}],"PMVb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./comp");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});var r=require("./complement");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var t=require("./constantly");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});var o=require("./delay");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===o[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}}))});var n=require("./delayed");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===n[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}}))});var u=require("./identity");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===u[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}}))});var i=require("./ifdef");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===i[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}}))});var s=require("./juxt");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===s[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}}))});var c=require("./partial");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===c[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}}))});var f=require("./promisify");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===f[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}}))});var a=require("./thread-first");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===a[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}}))});var p=require("./thread-last");Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===p[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return p[e]}}))});var d=require("./trampoline");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===d[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return d[e]}}))});
},{"./comp":"aB8a","./complement":"sYrC","./constantly":"JDYT","./delay":"eLV0","./delayed":"I5Cp","./identity":"QG59","./ifdef":"sz08","./juxt":"ShiN","./partial":"waBt","./promisify":"EJOL","./thread-first":"LUk0","./thread-last":"maEh","./trampoline":"P7Af"}],"dDKf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.__groupByOpts=void 0;var e=require("@thi.ng/compose"),r=require("../rfn/push");const s=s=>Object.assign({key:e.identity,group:(0,r.push)()},s);exports.__groupByOpts=s;
},{"@thi.ng/compose":"PMVb","../rfn/push":"xJML"}],"u4d5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.groupByMap=t;var e=require("../internal/group-opts"),r=require("../reduce");function t(...o){const u=(0,r.$$reduce)(t,o);if(void 0!==u)return u;const s=(0,e.__groupByOpts)(o[0]),[n,p,c]=s.group;return[()=>new Map,e=>{for(let r of e.keys())e.set(r,p(e.get(r)));return e},(e,r)=>{const t=s.key(r);return e.set(t,e.has(t)?c(e.get(t),r):c(n(),r))}]}
},{"../internal/group-opts":"dDKf","../reduce":"hay8"}],"Ik92":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.frequencies=o;var e=require("@thi.ng/compose"),r=require("../reduce"),u=require("./count"),t=require("./group-by-map");function o(...i){return(0,r.$$reduce)(o,i)||(0,t.groupByMap)({key:i[0]||e.identity,group:(0,u.count)()})}
},{"@thi.ng/compose":"PMVb","../reduce":"hay8","./count":"n9G6","./group-by-map":"u4d5"}],"KupN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.groupByObj=t;var r=require("../internal/group-opts"),e=require("../reduce");function t(...u){const o=(0,e.$$reduce)(t,u);if(o)return o;const n=(0,r.__groupByOpts)(u[0]),[s,p,c]=n.group;return[()=>({}),r=>{for(let e in r)r[e]=p(r[e]);return r},(r,e)=>{const t=n.key(e);return r[t]=r[t]?c(r[t],e):c(s(),e),r}]}
},{"../internal/group-opts":"dDKf","../reduce":"hay8"}],"zZIj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.groupBinary=void 0;var r=require("./group-by-obj"),e=require("./push");const o=(r,e,o,u)=>p=>r(p)&e?u:o,u=(u,p,t,s,y="l",g="r")=>{const i=t||(()=>({}));let n=(0,r.groupByObj)({key:o(p,1,y,g),group:s||(0,e.push)()});for(let e=2,b=1<<u;e<b;e<<=1)n=(0,r.groupByObj)({key:o(p,e,y,g),group:[i,n[1],n[2]]});return[i,n[1],n[2]]};exports.groupBinary=u;
},{"./group-by-obj":"KupN","./push":"xJML"}],"pFJf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.last=t;var e=require("@thi.ng/api"),r=require("../reduce");function t(u){return u?(0,r.reduce)(t(),u):(0,r.reducer)(e.NO_OP,(e,r)=>r)}
},{"@thi.ng/api":"AsNk","../reduce":"hay8"}],"LAGn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.max=r;var e=require("../reduce");function r(t){return t?(0,e.reduce)(r(),t):(0,e.reducer)(()=>-1/0,(e,r)=>Math.max(e,r))}
},{"../reduce":"hay8"}],"OQp8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.compare=void 0;const e=(e,o)=>e===o?0:null==e?null==o?0:-1:null==o?null==e?0:1:"function"==typeof e.compare?e.compare(o):"function"==typeof o.compare?-o.compare(e):e<o?-1:e>o?1:0;exports.compare=e;
},{}],"sCfq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.compareByKey=o,exports.compareByKeys2=t,exports.compareByKeys3=c,exports.compareByKeys4=n;var e=require("./compare");const r=e=>"function"==typeof e?e:r=>r[e];function o(o,t=e.compare){const c=r(o);return(e,r)=>t(c(e),c(r))}function t(o,t,c=e.compare,n=e.compare){const p=r(o),a=r(t);return(e,r)=>{let o=c(p(e),p(r));return 0===o?n(a(e),a(r)):o}}function c(o,t,c,n=e.compare,p=e.compare,a=e.compare){const s=r(o),u=r(t),m=r(c);return(e,r)=>{let o=n(s(e),s(r));return 0===o&&0===(o=p(u(e),u(r)))?a(m(e),m(r)):o}}function n(o,t,c,n,p=e.compare,a=e.compare,s=e.compare,u=e.compare){const m=r(o),y=r(t),i=r(c),f=r(n);return(e,r)=>{let o=p(m(e),m(r));return 0===o&&0===(o=a(y(e),y(r)))&&0===(o=s(i(e),i(r)))?u(f(e),f(r)):o}}
},{"./compare":"OQp8"}],"xQQc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.compareNumDesc=exports.compareNumAsc=void 0;const e=(e,o)=>e-o;exports.compareNumAsc=e;const o=(e,o)=>o-e;exports.compareNumDesc=o;
},{}],"ofQw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.reverse=void 0;const e=e=>(r,s)=>-e(r,s);exports.reverse=e;
},{}],"kNRw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./compare");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});var r=require("./keys");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var t=require("./numeric");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});var o=require("./reverse");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===o[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}}))});
},{"./compare":"OQp8","./keys":"sCfq","./numeric":"xQQc","./reverse":"ofQw"}],"eOls":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.maxCompare=t;var e=require("@thi.ng/compare"),r=require("../reduce");function t(...o){const u=(0,r.$$reduce)(t,o);if(void 0!==u)return u;const c=o[0],i=o[1]||e.compare;return(0,r.reducer)(c,(e,r)=>i(e,r)>=0?e:r)}
},{"@thi.ng/compare":"kNRw","../reduce":"hay8"}],"FVps":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.maxMag=r;var e=require("../reduce");function r(t){return t?(0,e.reduce)(r(),t):(0,e.reducer)(()=>0,(e,r)=>Math.abs(r)>Math.abs(e)?r:e)}
},{"../reduce":"hay8"}],"R84Q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mean=r;var e=require("../reduce");function r(t){let u=1;return t?(0,e.reduce)(r(),t):[()=>u=0,e=>u>1?e/u:e,(e,r)=>(u++,e+r)]}
},{"../reduce":"hay8"}],"aZ1b":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.min=r;var e=require("../reduce");function r(t){return t?(0,e.reduce)(r(),t):(0,e.reducer)(()=>1/0,(e,r)=>Math.min(e,r))}
},{"../reduce":"hay8"}],"OrDh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.minCompare=t;var e=require("@thi.ng/compare"),r=require("../reduce");function t(...o){const u=(0,r.$$reduce)(t,o);if(void 0!==u)return u;const c=o[0],i=o[1]||e.compare;return(0,r.reducer)(c,(e,r)=>i(e,r)<=0?e:r)}
},{"@thi.ng/compare":"kNRw","../reduce":"hay8"}],"Gb1q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.minMag=r;var e=require("../reduce");function r(t){return t?(0,e.reduce)(r(),t):(0,e.reducer)(()=>1/0,(e,r)=>Math.abs(r)<Math.abs(e)?r:e)}
},{"../reduce":"hay8"}],"cwhU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mul=r;var e=require("../internal/mathop");function r(...t){return(0,e.__mathop)(r,(e,r)=>e*r,1,t)}
},{"../internal/mathop":"kdWN"}],"nd4j":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pushCopy=void 0;var e=require("../reduce");const r=()=>(0,e.reducer)(()=>[],(e,r)=>((e=e.slice()).push(r),e));exports.pushCopy=r;
},{"../reduce":"hay8"}],"L1zx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pushSort=r;var e=require("@thi.ng/compare");function r(r=e.compare,t){return t?[...t].sort(r):[()=>[],e=>e.sort(r),(e,r)=>(e.push(r),e)]}
},{"@thi.ng/compare":"kNRw"}],"vhuO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.reductions=u;var e=require("../reduce"),r=require("../reduced");function u(t,d){const[c,n,s]=t;return d?(0,e.reduce)(u(t),d):[()=>[c()],e=>(e[e.length-1]=n(e[e.length-1]),e),(e,u)=>{const t=s(e[e.length-1],u);return(0,r.isReduced)(t)?(e.push(t.deref()),(0,r.reduced)(e)):(e.push(t),e)}]}
},{"../reduce":"hay8","../reduced":"wmkI"}],"BWxf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.some=u;var e=require("../reduce"),r=require("../reduced");function u(...d){const c=(0,e.$$reduce)(u,d);if(void 0!==c)return c;const t=d[0];return(0,e.reducer)(()=>!1,t?(e,u)=>t(u)?(0,r.reduced)(!0):e:(e,u)=>u?(0,r.reduced)(!0):e)}
},{"../reduce":"hay8","../reduced":"wmkI"}],"OHsj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.str=r;var e=require("../reduce");function r(r,t){r=r||"";let u=!0;return t?[...t].join(r):(0,e.reducer)(()=>"",(e,t)=>(e=u?e+t:e+r+t,u=!1,e))}
},{"../reduce":"hay8"}],"bWaZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sub=r;var e=require("../internal/mathop");function r(...t){return(0,e.__mathop)(r,(e,r)=>e-r,0,t)}
},{"../internal/mathop":"kdWN"}],"TeGF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.benchmark=n;var e=require("@thi.ng/checks"),r=require("../func/compr"),t=require("../iterator");function n(o){return(0,e.isIterable)(o)?(0,t.iterator1)(n(),o):e=>{const t=e[2];let n=Date.now();return(0,r.compR)(e,(e,r)=>{const o=Date.now(),c=o-n;return n=o,t(e,c)})}}
},{"@thi.ng/checks":"HctC","../func/compr":"ZoN0","../iterator":"FSoq"}],"XFQx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cat=void 0;var e=require("../func/compr"),r=require("../reduced");const u=()=>u=>{const c=u[2];return(0,e.compR)(u,(e,u)=>{if(u)for(let t of(0,r.unreduced)(u))if(e=c(e,t),(0,r.isReduced)(e))break;return(0,r.isReduced)(u)?(0,r.ensureReduced)(e):e})};exports.cat=u;
},{"../func/compr":"ZoN0","../reduced":"wmkI"}],"DdWQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.converge=i;var e=require("@thi.ng/api"),r=require("../func/compr"),t=require("../iterator"),u=require("../reduced");function i(...c){return(0,t.$iter)(i,c)||(t=>{const i=t[2],n=c[0];let o=e.SEMAPHORE,s=!1;return(0,r.compR)(t,(r,t)=>s||o!==e.SEMAPHORE&&n(o,t)?(s=!0,(0,u.ensureReduced)(i(r,t))):(o=t,i(r,t)))})}
},{"@thi.ng/api":"AsNk","../func/compr":"ZoN0","../iterator":"FSoq","../reduced":"wmkI"}],"ndcf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.range=t,exports.Range=void 0;var e=require("../reduced");function t(e,t,o){return new r(e,t,o)}class r{constructor(e,t,r){void 0===e?(e=0,t=1/0):void 0===t&&(t=e,e=0),r=void 0===r?e<t?1:-1:r,this.from=e,this.to=t,this.step=r}*[Symbol.iterator](){let{from:e,to:t,step:r}=this;if(r>0)for(;e<t;)yield e,e+=r;else if(r<0)for(;e>t;)yield e,e+=r}$reduce(t,r){const o=this.step;if(o>0)for(let s=this.from,i=this.to;s<i&&!(0,e.isReduced)(r);s+=o)r=t(r,s);else for(let s=this.from,i=this.to;s>i&&!(0,e.isReduced)(r);s+=o)r=t(r,s);return r}}exports.Range=r;
},{"../reduced":"wmkI"}],"xkJV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.range2d=t;var e=require("@thi.ng/errors"),r=require("./range");function*t(...t){let a,l,n,o,s,i;switch(t.length){case 6:n=t[4],i=t[5];case 4:[a,l,o,s]=t;break;case 2:[l,s]=t,a=o=0;break;default:(0,e.illegalArity)(t.length)}const c=(0,r.range)(a,l,n);for(let e of(0,r.range)(o,s,i))for(let r of c)yield[r,e]}
},{"@thi.ng/errors":"Qv5j","./range":"ndcf"}],"rJmY":[function(require,module,exports) {
"use strict";function*e(...e){const t=e.map(e=>e[Symbol.iterator]());for(;;){const e=[];for(let o of t){let t=o.next();if(t.done)return;e.push(t.value)}yield e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.zip=e;
},{}],"eq8Y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.convolve1d=h,exports.convolve2d=g,exports.buildKernel2d=exports.buildKernel1d=void 0;var e=require("@thi.ng/errors"),r=require("../iter/range"),t=require("../iter/range2d"),i=require("../iter/zip"),n=require("../iterator"),d=require("../rfn/add"),o=require("../transduce"),u=require("./map");const s=(e,t)=>{const n=t>>1;return[...(0,i.zip)(e,(0,r.range)(-n,n+1))]};exports.buildKernel1d=s;const a=(e,r,n=r)=>{const d=r>>1,o=n>>1;return[...(0,i.zip)(e,(0,t.range2d)(-d,d+1,-o,o+1))]};exports.buildKernel2d=a;const c=(e,r,t,i,n)=>i?({0:i,1:n})=>{return i*e[r<-n?t+n:r>=t-n?n-1:r+n]}:({0:i,1:d})=>r<-d||r>=t-d?n:i*e[r+d],l=(e,r,t,i,n,d,o)=>d?({0:d,1:{0:o,1:u}})=>{return d*e[(t<-u?n+u:t>=n-u?u-1:t+u)*i+(r<-o?i+o:r>=i-o?o-1:r+o)]}:({0:d,1:{0:u,1:s}})=>r<-u||t<-s||r>=i-u||t>=n-s?o:d*e[(t+s)*i+r+u],p=()=>(0,e.illegalArgs)("no kernel or kernel config");function h(e,r){if(r)return(0,n.iterator1)(h(e),r);const{src:t,width:i}=e,a=!1!==e.wrap,l=e.border||0,g=e.reduce||d.add;let w=e.kernel;return w||((!e.weights||!e.kwidth)&&p(),w=s(e.weights,e.kwidth)),(0,u.map)(e=>(0,o.transduce)((0,u.map)(c(t,e,i,a,l)),g(),w))}function g(e,r){if(r)return(0,n.iterator1)(g(e),r);const{src:t,width:i,height:s}=e,c=!1!==e.wrap,h=e.border||0,w=e.reduce||d.add;let k=e.kernel;return k||(!(e.weights&&e.kwidth&&e.kheight)&&p(),k=a(e.weights,e.kwidth,e.kheight)),(0,u.map)(e=>(0,o.transduce)((0,u.map)(l(t,e[0],e[1],i,s,c,h)),w(),k))}
},{"@thi.ng/errors":"Qv5j","../iter/range":"ndcf","../iter/range2d":"xkJV","../iter/zip":"rJmY","../iterator":"FSoq","../rfn/add":"DNzN","../transduce":"O6O3","./map":"fBkP"}],"tm7A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dedupe=u;var e=require("@thi.ng/api"),r=require("../func/compr"),t=require("../iterator");function u(...i){return(0,t.$iter)(u,i)||(t=>{const u=t[2],o=i[0];let n=e.SEMAPHORE;return(0,r.compR)(t,o?(r,t)=>(r=n!==e.SEMAPHORE&&o(n,t)?r:u(r,t),n=t,r):(e,r)=>(e=n===r?e:u(e,r),n=r,e))})}
},{"@thi.ng/api":"AsNk","../func/compr":"ZoN0","../iterator":"FSoq"}],"pCRw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.delayed=void 0;var e=require("@thi.ng/compose"),r=require("./map");const d=d=>(0,r.map)(r=>(0,e.delayed)(r,d));exports.delayed=d;
},{"@thi.ng/compose":"PMVb","./map":"fBkP"}],"bj39":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.distinct=t;var e=require("../func/compr"),r=require("../iterator");function t(...c){return(0,r.$iter)(t,c)||(r=>{const t=r[2],n=c[0]||{},o=n.key,s=(n.cache||(()=>new Set))();return(0,e.compR)(r,o?(e,r)=>{const c=o(r);return s.has(c)?e:(s.add(c),t(e,r))}:(e,r)=>s.has(r)?e:(s.add(r),t(e,r)))})}
},{"../func/compr":"ZoN0","../iterator":"FSoq"}],"GHll":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EPS=exports.SIXTH=exports.TWO_THIRD=exports.THIRD=exports.SQRT2_3=exports.SQRT2_2=exports.SQRT3=exports.SQRT2=exports.PHI=exports.RAD2DEG=exports.DEG2RAD=exports.INV_HALF_PI=exports.INV_TAU=exports.INV_PI=exports.SIXTH_PI=exports.QUARTER_PI=exports.THIRD_PI=exports.HALF_PI=exports.TAU=exports.PI=void 0;const t=Math.PI;exports.PI=t;const s=2*t;exports.TAU=s;const o=t/2;exports.HALF_PI=o;const e=t/3;exports.THIRD_PI=e;const r=t/4;exports.QUARTER_PI=r;const p=t/6;exports.SIXTH_PI=p;const x=1/t;exports.INV_PI=x;const I=1/s;exports.INV_TAU=I;const T=1/o;exports.INV_HALF_PI=T;const _=t/180;exports.DEG2RAD=_;const R=180/t;exports.RAD2DEG=R;const c=(1+Math.sqrt(5))/2;exports.PHI=c;const n=Math.SQRT2;exports.SQRT2=n;const P=Math.sqrt(3);exports.SQRT3=P;const H=n/2;exports.SQRT2_2=H;const S=P/2;exports.SQRT2_3=S;const A=1/3;exports.THIRD=1/3;const D=2/3;exports.TWO_THIRD=2/3;const Q=1/6;exports.SIXTH=1/6;let E=1e-6;exports.EPS=E;
},{}],"l8IL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sign=exports.absDiff=void 0;var e=require("./api");const s=(e,s)=>Math.abs(e-s);exports.absDiff=s;const t=(s,t=e.EPS)=>s>t?1:s<-t?-1:0;exports.sign=t;
},{"./api":"GHll"}],"Z8EX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fastSin=exports.fastCos=exports.normCos=exports.loc=exports.cot=exports.sec=exports.csc=exports.rad=exports.deg=exports.quadrant=exports.atan2Abs=exports.angleDist=exports.absInnerAngle=exports.absTheta=exports.cossin=exports.sincos=void 0;var s=require("./api");const t=(s,t=1)=>[Math.sin(s)*t,Math.cos(s)*t];exports.sincos=t;const o=(s,t=1)=>[Math.cos(s)*t,Math.sin(s)*t];exports.cossin=o;const e=t=>(t%=s.TAU,t<0?s.TAU+t:t);exports.absTheta=e;const r=t=>(t=Math.abs(t),t>s.PI?s.TAU-t:t);exports.absInnerAngle=r;const n=(t,o)=>r(e(o%s.TAU-t%s.TAU));exports.angleDist=n;const a=(s,t)=>e(Math.atan2(s,t));exports.atan2Abs=a;const c=t=>e(t)*s.INV_HALF_PI|0;exports.quadrant=c;const p=t=>t*s.RAD2DEG;exports.deg=p;const x=t=>t*s.DEG2RAD;exports.rad=x;const i=s=>1/Math.sin(s);exports.csc=i;const A=s=>1/Math.cos(s);exports.sec=A;const h=s=>1/Math.tan(s);exports.cot=h;const u=(s,t,o)=>Math.sqrt(s*s+t*t-2*s*t*Math.cos(o));exports.loc=u;const M=s=>{const t=s*s;return 1+t*(2*t-4)};exports.normCos=M;const d=s=>{const t=s*s;return.99940307+t*(.03679168*t-.49558072)},I=t=>{switch((t%=s.TAU)<0&&(t=-t),t*s.INV_HALF_PI|0){case 0:return d(t);case 1:return-d(s.PI-t);case 2:return-d(t-s.PI);default:return d(s.TAU-t)}};exports.fastCos=I;const l=t=>I(s.HALF_PI-t);exports.fastSin=l;
},{"./api":"GHll"}],"wV4s":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.eqDeltaScaled=exports.eqDeltaFixed=exports.eqDelta=void 0;var e=require("./api");const t=Math.abs,a=Math.max,s=(a,s,o=e.EPS)=>t(a-s)<=o;exports.eqDelta=s;const o=s;exports.eqDeltaFixed=o;const r=(s,o,r=e.EPS)=>t(s-o)<=r*a(1,t(s),t(o));exports.eqDeltaScaled=r;
},{"./api":"GHll"}],"w3bW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.classifyCrossing=exports.isCrossUnder=exports.isCrossOver=void 0;var e=require("./api"),s=require("./eqdelta");const r=(e,s,r,o)=>e<r&&s>o;exports.isCrossOver=r;const o=(e,s,r,o)=>e>r&&s<o;exports.isCrossUnder=o;const t=(t,i,a,l,n=e.EPS)=>(0,s.eqDelta)(t,a,n)&&(0,s.eqDelta)(i,l,n)?(0,s.eqDelta)(t,l,n)?"flat":"equal":r(t,i,a,l)?"over":o(t,i,a,l)?"under":"other";exports.classifyCrossing=t;
},{"./api":"GHll","./eqdelta":"wV4s"}],"UFGB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.maximaIndices=exports.minimaIndices=exports.maximaIndex=exports.minimaIndex=exports.isMaxima=exports.isMinima=void 0;const e=(e,t,i)=>e>t&&t<i;exports.isMinima=e;const t=(e,t,i)=>e<t&&t>i;exports.isMaxima=t;const i=(e,t,i=0,n=t.length)=>{n--;for(let s=i+1;s<n;s++)if(e(t[s-1],t[s],t[s+1]))return s;return-1},n=(t,n=0,s=t.length)=>i(e,t,n,s);exports.minimaIndex=n;const s=(e,n=0,s=e.length)=>i(t,e,n,s);function*o(e,t,i=0,n=t.length){for(;i<n;){const s=e(t,i,n);if(s<0)return;yield s,i=s+1}}exports.maximaIndex=s;const r=(e,t=0,i=e.length)=>o(n,e,t,i);exports.minimaIndices=r;const x=(e,t=0,i=e.length)=>o(n,e,t,i);exports.maximaIndices=x;
},{}],"HZDI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.inOpenRange=exports.inRange=exports.foldback=exports.absMax=exports.absMin=exports.sclamp=exports.smax=exports.smin=exports.minNonZero3=exports.minNonZero2=exports.max4id=exports.max3id=exports.max2id=exports.min4id=exports.min3id=exports.min2id=exports.wrap11=exports.wrap01=exports.wrapOnce=exports.wrap=exports.clamp05=exports.clamp11=exports.clamp01=exports.clamp0=exports.clamp=void 0;const s=(s,t,o)=>s<t?t:s>o?o:s;exports.clamp=s;const t=s=>s>0?s:0;exports.clamp0=t;const o=s=>s<0?0:s>1?1:s;exports.clamp01=o;const e=s=>s<-1?-1:s>1?1:s;exports.clamp11=e;const p=s=>s<0?0:s>.5?.5:s;exports.clamp05=p;const r=(s,t,o)=>{if(t===o)return t;if(s>o){const e=o-t;(s-=e)>o&&(s-=e*((s-t)/e|0))}else if(s<t){const e=o-t;(s+=e)<t&&(s+=e*((t-s)/e+1|0))}return s};exports.wrap=r;const n=(s,t,o)=>s<t?s-t+o:s>o?s-o+t:s;exports.wrapOnce=n;const x=s=>s<0?s+1:s>1?s-1:s;exports.wrap01=x;const a=s=>s<-1?s+2:s>1?s-2:s;exports.wrap11=a;const c=(s,t)=>s<=t?0:1;exports.min2id=c;const i=(s,t,o)=>s<=t?s<=o?0:2:t<=o?1:2;exports.min3id=i;const m=(s,t,o,e)=>s<=t?s<=o?s<=e?0:3:o<=e?2:3:t<=o?t<=e?1:3:o<=e?2:3;exports.min4id=m;const d=(s,t)=>s>=t?0:1;exports.max2id=d;const l=(s,t,o)=>s>=t?s>=o?0:2:t>=o?1:2;exports.max3id=l;const M=(s,t,o,e)=>s>=t?s>=o?s>=e?0:3:o>=e?2:3:t>=o?t>=e?1:3:o>=e?2:3;exports.max4id=M;const b=(s,t)=>0!==s?0!==t?Math.min(s,t):s:t;exports.minNonZero2=b;const h=(s,t,o)=>b(b(s,t),o);exports.minNonZero3=h;const w=(s,t,o)=>f(s,t,-o);exports.smin=w;const f=(s,t,o)=>{const e=Math.exp(s*o),p=Math.exp(t*o);return(s*e+t*p)/(e+p)};exports.smax=f;const u=(s,t,o,e)=>w(f(s,t,e),o,e);exports.sclamp=u;const O=(s,t)=>Math.abs(s)<Math.abs(t)?s:t;exports.absMin=O;const g=(s,t)=>Math.abs(s)>Math.abs(t)?s:t;exports.absMax=g;const N=(s,t)=>t<-s||t>s?Math.abs(Math.abs((t-s)%(4*s))-2*s)-s:t;exports.foldback=N;const R=(s,t,o)=>s>=t&&s<=o;exports.inRange=R;const Z=(s,t,o)=>s>t&&s<o;exports.inOpenRange=Z;
},{}],"aLJv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fit11=exports.fit10=exports.fit01=exports.fitClamped=exports.fit=exports.norm=void 0;var t=require("./interval");const e=(t,e,o)=>o!==e?(t-e)/(o-e):0;exports.norm=e;const o=(t,o,r,s,p)=>s+(p-s)*e(t,o,r);exports.fit=o;const r=(o,r,s,p,i)=>p+(i-p)*(0,t.clamp01)(e(o,r,s));exports.fitClamped=r;const s=(e,o,r)=>o+(r-o)*(0,t.clamp01)(e);exports.fit01=s;const p=(e,o,r)=>r+(o-r)*(0,t.clamp01)(e);exports.fit10=p;const i=(e,o,r)=>o+(r-o)*(.5+.5*(0,t.clamp11)(e));exports.fit11=i;
},{"./interval":"HZDI"}],"Jr7j":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rshiftu32=exports.lshiftu32=exports.notu32=exports.xoru32=exports.oru32=exports.andu32=exports.subu32=exports.mulu32=exports.divu32=exports.addu32=exports.rshiftu16=exports.lshiftu16=exports.notu16=exports.xoru16=exports.oru16=exports.andu16=exports.subu16=exports.mulu16=exports.divu16=exports.addu16=exports.rshiftu8=exports.lshiftu8=exports.notu8=exports.xoru8=exports.oru8=exports.andu8=exports.subu8=exports.mulu8=exports.divu8=exports.addu8=exports.noti32=exports.rshifti32=exports.lshifti32=exports.xori32=exports.ori32=exports.andi32=exports.subi32=exports.muli32=exports.divi32=exports.addi32=exports.rshifti16=exports.lshifti16=exports.noti16=exports.xori16=exports.ori16=exports.andi16=exports.subi16=exports.muli16=exports.divi16=exports.addi16=exports.rshifti8=exports.lshifti8=exports.noti8=exports.xori8=exports.ori8=exports.andi8=exports.subi8=exports.muli8=exports.divi8=exports.addi8=exports.signExtend16=exports.signExtend8=void 0;const t=255,s=65535,o=s=>(s&=t,128&s?s|~t:s);exports.signExtend8=o;const r=t=>(t&=s,32768&t?t|~s:t);exports.signExtend16=r;const x=(t,s)=>o((0|t)+(0|s));exports.addi8=x;const e=(t,s)=>o((0|t)/(0|s));exports.divi8=e;const p=(t,s)=>o((0|t)*(0|s));exports.muli8=p;const i=(t,s)=>o((0|t)-(0|s));exports.subi8=i;const n=(t,s)=>o((0|t)&(0|s));exports.andi8=n;const u=(t,s)=>o(0|t|s);exports.ori8=u;const c=(t,s)=>o((0|t)^(0|s));exports.xori8=c;const d=t=>o(~t);exports.noti8=d;const l=(t,s)=>o((0|t)<<(0|s));exports.lshifti8=l;const a=(t,s)=>o((0|t)>>(0|s));exports.rshifti8=a;const f=(t,s)=>r((0|t)+(0|s));exports.addi16=f;const h=(t,s)=>r((0|t)/(0|s));exports.divi16=h;const v=(t,s)=>r((0|t)*(0|s));exports.muli16=v;const b=(t,s)=>r((0|t)-(0|s));exports.subi16=b;const m=(t,s)=>r((0|t)&(0|s));exports.andi16=m;const g=(t,s)=>r(0|t|s);exports.ori16=g;const E=(t,s)=>r((0|t)^(0|s));exports.xori16=E;const _=t=>r(~t);exports.noti16=_;const j=(t,s)=>r((0|t)<<(0|s));exports.lshifti16=j;const y=(t,s)=>r((0|t)>>(0|s));exports.rshifti16=y;const M=(t,s)=>(0|t)+(0|s)|0;exports.addi32=M;const O=(t,s)=>(0|t)/(0|s)|0;exports.divi32=O;const P=(t,s)=>(0|t)*(0|s)|0;exports.muli32=P;const k=(t,s)=>(0|t)-(0|s)|0;exports.subi32=k;const q=(t,s)=>(0|t)&(0|s);exports.andi32=q;const w=(t,s)=>0|t|s;exports.ori32=w;const z=(t,s)=>(0|t)^(0|s);exports.xori32=z;const A=(t,s)=>(0|t)<<(0|s);exports.lshifti32=A;const B=(t,s)=>(0|t)>>(0|s);exports.rshifti32=B;const C=t=>~t;exports.noti32=C;const D=(s,o)=>(s&t)+(o&t)&t;exports.addu8=D;const F=(s,o)=>(s&t)/(o&t)&t;exports.divu8=F;const G=(s,o)=>(s&t)*(o&t)&t;exports.mulu8=G;const H=(s,o)=>(s&t)-(o&t)&t;exports.subu8=H;const I=(s,o)=>s&t&o&t&t;exports.andu8=I;const J=(s,o)=>(s&t|o&t)&t;exports.oru8=J;const K=(s,o)=>(s&t^o&t)&t;exports.xoru8=K;const L=s=>~s&t;exports.notu8=L;const N=(s,o)=>(s&t)<<(o&t)&t;exports.lshiftu8=N;const Q=(s,o)=>(s&t)>>>(o&t)&t;exports.rshiftu8=Q;const R=(t,o)=>(t&s)+(o&s)&s;exports.addu16=R;const S=(t,o)=>(t&s)/(o&s)&s;exports.divu16=S;const T=(t,o)=>(t&s)*(o&s)&s;exports.mulu16=T;const U=(t,o)=>(t&s)-(o&s)&s;exports.subu16=U;const V=(t,o)=>t&s&o&s&s;exports.andu16=V;const W=(t,o)=>(t&s|o&s)&s;exports.oru16=W;const X=(t,o)=>(t&s^o&s)&s;exports.xoru16=X;const Y=t=>~t&s;exports.notu16=Y;const Z=(t,o)=>(t&s)<<(o&s)&s;exports.lshiftu16=Z;const $=(t,o)=>(t&s)>>>(o&s)&s;exports.rshiftu16=$;const tt=(t,s)=>(t>>>0)+(s>>>0)>>>0;exports.addu32=tt;const st=(t,s)=>(t>>>0)/(s>>>0)>>>0;exports.divu32=st;const ot=(t,s)=>(t>>>0)*(s>>>0)>>>0;exports.mulu32=ot;const rt=(t,s)=>(t>>>0)-(s>>>0)>>>0;exports.subu32=rt;const xt=(t,s)=>(t>>>0&s>>>0)>>>0;exports.andu32=xt;const et=(t,s)=>(t>>>0|s>>>0)>>>0;exports.oru32=et;const pt=(t,s)=>(t>>>0^s>>>0)>>>0;exports.xoru32=pt;const it=t=>~t>>>0;exports.notu32=it;const nt=(t,s)=>t>>>0<<(s>>>0)>>>0;exports.lshiftu32=nt;const ut=(t,s)=>t>>>0>>>(s>>>0)>>>0;exports.rshiftu32=ut;
},{}],"yCAQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.minError=void 0;var r=require("./api");const e=(t,o,i,n=16,s=8,u=0,a=1,c=r.EPS)=>{if(s<=0)return(u+a)/2;const f=(a-u)/n;let p=u,l=1/0;for(let r=0;r<=n;r++){const e=u+r*f,n=o(i,t(e));if(n<l){if(n<=c)return e;l=n,p=e}}return e(t,o,i,n,s-1,Math.max(p-f,0),Math.min(p+f,1))};exports.minError=e;
},{"./api":"GHll"}],"hSAd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.gaussian=exports.expFactor=exports.schlick=exports.sigmoid11=exports.sigmoid01=exports.sigmoid=exports.lanczos=exports.sincNormalized=exports.sinc=exports.cubicPulse=exports.parabola=exports.gain=exports.impulse=exports.ease=exports.bounce=exports.decimated=exports.cosine=exports.lens=exports.invCircular=exports.circular=exports.tween=exports.tangentDiff3=exports.tangentCardinal=exports.mixBicubic=exports.mixCubicHermiteFromPoints=exports.mixCubicHermite=exports.mixHermite=exports.mixCubic=exports.mixQuadratic=exports.mixBilinear=exports.mix=void 0;var t=require("./api");const s=(t,s,o)=>t+(s-t)*o;exports.mix=s;const o=(t,s,o,e,r,i)=>{const n=1-r,c=1-i;return t*n*c+s*r*c+o*n*i+e*r*i};exports.mixBilinear=o;const e=(t,s,o,e)=>{const r=1-e;return t*r*r+2*s*r*e+o*e*e};exports.mixQuadratic=e;const r=(t,s,o,e,r)=>{const i=r*r,n=1-r,c=n*n;return t*c*n+3*s*c*r+3*o*i*n+e*i*r};exports.mixCubic=r;const i=(t,s,o,e,r)=>{const i=.5*(o-t),n=1.5*(s-o)+.5*(e-t);return((n*r+t-s+i-n)*r+i)*r+s};exports.mixHermite=i;const n=(t,s,o,e,r)=>{const i=r-1,n=r*r,c=i*i;return(1+2*r)*c*t+r*c*s+n*(3-2*r)*o+n*i*e};exports.mixCubicHermite=n;const c=(t,s,o,e,r)=>{const i=r*r;return r*i*(-.5*t+1.5*s-1.5*o+(e*=.5))+i*(t-2.5*s+2*o-e)+r*(-.5*t+.5*o)+s};exports.mixCubicHermiteFromPoints=c;const x=(t,s,o,e,r,i,n,x,p,a,u,m,l,d,b,h,M,g)=>c(c(t,s,o,e,M),c(r,i,n,x,M),c(p,a,u,m,M),c(l,d,b,h,M),g);exports.mixBicubic=x;const p=(t,s,o=.5,e=0,r=2)=>o*((s-t)/(r-e));exports.tangentCardinal=p;const a=(t,s,o,e=0,r=1,i=2)=>.5*((o-s)/(i-r)+(s-t)/(r-e));exports.tangentDiff3=a;const u=(t,o,e)=>r=>s(o,e,t(r));exports.tween=u;const m=t=>(t=1-t,Math.sqrt(1-t*t));exports.circular=m;const l=t=>1-m(1-t);exports.invCircular=l;const d=(t,o,e)=>{const r=o>0?l:m,i=1-t,n=e<=t?r(e/t)*t:1-r((1-e)/i)*i;return s(e,n,Math.abs(o))};exports.lens=d;const b=s=>1-(.5*Math.cos(s*t.PI)+.5);exports.cosine=b;const h=(t,s)=>Math.floor(s*t)/t;exports.decimated=h;const M=(s,o,e)=>{const r=e*s;return 1-o*Math.sin(r)/r*Math.cos(e*t.HALF_PI)};exports.bounce=M;const g=(t,s)=>Math.pow(s,t);exports.ease=g;const P=(t,s)=>{const o=t*s;return o*Math.exp(1-o)};exports.impulse=P;const C=(t,s)=>s<.5?.5*Math.pow(2*s,t):1-.5*Math.pow(2-2*s,t);exports.gain=C;const H=(t,s)=>Math.pow(4*s*(1-s),t);exports.parabola=H;const f=(t,s,o)=>(o=Math.abs(o-s))>t?0:1-(o/=t)*o*(3-2*o);exports.cubicPulse=f;const w=t=>0!==t?Math.sin(t)/t:1;exports.sinc=w;const v=(s,o)=>w(t.PI*s*o);exports.sincNormalized=v;const F=(s,o)=>0!==o?-s<o&&o<s?w(t.PI*o)*w(t.PI*o/s):0:1;exports.lanczos=F;const I=(t,s,o)=>o!=t?1/(1+Math.exp(-s*(o-t))):.5;exports.sigmoid=I;const z=(t,s)=>I(.5,t,s);exports.sigmoid01=z;const B=(t,s)=>I(0,t,s);exports.sigmoid11=B;const _=(s,o,e)=>e<=o?o*e/(e+s*(o-e)+t.EPS):(1-o)*(e-1)/(1-e-s*(o-e)+t.EPS)+1;exports.schlick=_;const k=(t,s,o)=>(s/t)**(1/o);exports.expFactor=k;const q=(t,s,o)=>Math.exp(-((o-t)**2)/(2*s*s));exports.gaussian=q;
},{"./api":"GHll"}],"Zf0y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.roundEps=exports.ceilTo=exports.floorTo=exports.roundTo=exports.trunc=exports.fract=exports.fmod=void 0;var o=require("./api");const t=(o,t)=>o-t*Math.floor(o/t);exports.fmod=t;const r=o=>o-Math.floor(o);exports.fract=r;const e=o=>o<0?Math.ceil(o):Math.floor(o);exports.trunc=e;const s=(o,t=1)=>Math.round(o/t)*t;exports.roundTo=s;const p=(o,t=1)=>Math.floor(o/t)*t;exports.floorTo=p;const c=(o,t=1)=>Math.ceil(o/t)*t;exports.ceilTo=c;const n=(t,e=o.EPS)=>{const s=r(t);return s<=e||s>=1-e?Math.round(t):t};exports.roundEps=n;
},{"./api":"GHll"}],"zLcV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.simplifyRatio=void 0;const t=(t,e)=>{let s=Math.abs(t),o=Math.abs(e);for(;;){if(s<o){const t=s;s=o,o=t}const i=s%o;if(!i)return[t/o,e/o];s=i}};exports.simplifyRatio=t;
},{}],"j7hr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.safeDiv=void 0;const e=(e,s)=>0!==s?e/s:0;exports.safeDiv=e;
},{}],"jfR8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.solveCubic=exports.solveQuadratic=exports.solveLinear=exports.derivative=void 0;var t=require("./api"),e=require("./safe-div");const r=(e,r=t.EPS)=>t=>(e(t+r)-e(t))/r;exports.derivative=r;const s=(t,r)=>(0,e.safeDiv)(-r,t);exports.solveLinear=s;const a=(t,e,r,s=1e-9)=>{const a=2*t;let o=e*e-4*t*r;return o<0?[]:o<s?[-e/a]:[(-e-(o=Math.sqrt(o)))/a,(-e+o)/a]};exports.solveQuadratic=a;const o=(t,e,r,s,a=1e-9)=>{const o=t*t,i=e*e,c=e/(3*t),n=(3*t*r-i)/(3*o),M=(2*i*e-9*t*e*r+27*o*s)/(27*o*t);if(Math.abs(n)<a)return[Math.cbrt(-M)-c];if(Math.abs(M)<a)return n<0?[-Math.sqrt(-n)-c,-c,Math.sqrt(-n)-c]:[-c];{const t=M*M/4+n*n*n/27;if(Math.abs(t)<a)return[-1.5*M/n-c,3*M/n-c];if(t>0){const e=Math.cbrt(-M/2-Math.sqrt(t));return[e-n/(3*e)-c]}{const t=2*Math.sqrt(-n/3),e=Math.acos(3*M/n/t)/3,r=2*Math.PI/3;return[t*Math.cos(e)-c,t*Math.cos(e-r)-c,t*Math.cos(e-2*r)-c]}}};exports.solveCubic=o;
},{"./api":"GHll","./safe-div":"j7hr"}],"Z7Cw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.expStep=exports.smootherStep=exports.smoothStep=exports.step=void 0;var e=require("./interval");const t=(e,t)=>t<e?0:1;exports.step=t;const o=(t,o,p)=>(3-2*(p=(0,e.clamp01)((p-t)/(o-t))))*p*p;exports.smoothStep=o;const p=(t,o,p)=>(p=(0,e.clamp01)((p-t)/(o-t)))*p*p*(p*(6*p-15)+10);exports.smootherStep=p;const s=(e,t,o)=>1-Math.exp(-e*Math.pow(o,t));exports.expStep=s;
},{"./interval":"HZDI"}],"UBbf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./api");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});var r=require("./abs");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var t=require("./angle");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});var o=require("./crossing");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===o[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}}))});var n=require("./eqdelta");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===n[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}}))});var u=require("./extrema");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===u[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}}))});var i=require("./fit");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===i[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}}))});var s=require("./int");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===s[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}}))});var c=require("./interval");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===c[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}}))});var f=require("./min-error");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===f[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}}))});var a=require("./mix");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===a[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}}))});var p=require("./prec");Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===p[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return p[e]}}))});var l=require("./ratio");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===l[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return l[e]}}))});var d=require("./safe-div");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===d[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return d[e]}}))});var x=require("./solve");Object.keys(x).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===x[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return x[e]}}))});var b=require("./step");Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===b[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return b[e]}}))});
},{"./api":"GHll","./abs":"l8IL","./angle":"Z8EX","./crossing":"w3bW","./eqdelta":"wV4s","./extrema":"UFGB","./fit":"aLJv","./int":"Jr7j","./interval":"HZDI","./min-error":"yCAQ","./mix":"hSAd","./prec":"Zf0y","./ratio":"zLcV","./safe-div":"j7hr","./solve":"jfR8","./step":"Z7Cw"}],"dKhC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.throttle=o;var e=require("@thi.ng/checks"),r=require("../func/compr"),t=require("../iterator");function o(i,u){return(0,e.isIterable)(u)?(0,t.iterator1)(o(i),u):e=>{const t=e[2],o=i();return(0,r.compR)(e,(e,r)=>o(r)?t(e,r):e)}}
},{"@thi.ng/checks":"HctC","../func/compr":"ZoN0","../iterator":"FSoq"}],"ao7H":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dropNth=o;var e=require("@thi.ng/checks"),r=require("@thi.ng/math"),t=require("../iterator"),i=require("./throttle");function o(u,a){return(0,e.isIterable)(a)?(0,t.iterator1)(o(u),a):(u=(0,r.clamp0)(u-1),(0,i.throttle)(()=>{let e=u;return()=>e-- >0||(e=u,!1)}))}
},{"@thi.ng/checks":"HctC","@thi.ng/math":"UBbf","../iterator":"FSoq","./throttle":"dKhC"}],"hQVd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dropWhile=t;var e=require("../func/compr"),r=require("../iterator");function t(...o){return(0,r.$iter)(t,o)||(r=>{const t=r[2],u=o[0];let i=!0;return(0,e.compR)(r,(e,r)=>(i=i&&u(r))?e:t(e,r))})}
},{"../func/compr":"ZoN0","../iterator":"FSoq"}],"ouQu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.drop=o;var e=require("@thi.ng/checks"),r=require("../func/compr"),t=require("../iterator");function o(i,u){return(0,e.isIterable)(u)?(0,t.iterator1)(o(i),u):e=>{const t=e[2];let o=i;return(0,r.compR)(e,(e,r)=>o>0?(o--,e):t(e,r))}}
},{"@thi.ng/checks":"HctC","../func/compr":"ZoN0","../iterator":"FSoq"}],"KyNU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.duplicate=i;var e=require("@thi.ng/checks"),r=require("../func/compr"),t=require("../iterator"),u=require("../reduced");function i(c=1,o){return(0,e.isIterable)(o)?(0,t.iterator)(i(c),o):e=>{const t=e[2];return(0,r.compR)(e,(e,r)=>{for(let i=c;i>=0&&!(0,u.isReduced)(e);i--)e=t(e,r);return e})}}
},{"@thi.ng/checks":"HctC","../func/compr":"ZoN0","../iterator":"FSoq","../reduced":"wmkI"}],"Srlq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.filter=i;var e=require("@thi.ng/checks"),r=require("../func/compr"),t=require("../iterator");function i(o,u){return(0,e.isIterable)(u)?(0,t.iterator1)(i(o),u):e=>{const t=e[2];return(0,r.compR)(e,(e,r)=>o(r)?t(e,r):e)}}
},{"@thi.ng/checks":"HctC","../func/compr":"ZoN0","../iterator":"FSoq"}],"l6zS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bsEQ=exports.bsGE=exports.bsGT=exports.bsLE=exports.bsLT=exports.binarySearch32=exports.binarySearch16=exports.binarySearch8=exports.binarySearch4=exports.binarySearch2=exports.binarySearchNumeric=exports.binarySearch=void 0;var r=require("@thi.ng/compare");const e=(e,t,s=(r=>r),o=r.compare,n=0,c=e.length-1)=>{const a=s(t);for(;n<=c;){const r=n+c>>>1,t=o(s(e[r]),a);if(t<0)n=r+1;else{if(!(t>0))return r;c=r-1}}return-n-1};exports.binarySearch=e;const t=(e,t,s=r.compareNumAsc,o=0,n=e.length-1)=>{for(;o<=n;){const r=o+n>>>1,c=s(e[r],t);if(c<0)o=r+1;else{if(!(c>0))return r;n=r-1}}return-o-1};exports.binarySearchNumeric=t;const s=(r,e)=>{let t=r[1]<=e?1:0;return r[t]===e?t:r[0]<e?-t-2:-1};exports.binarySearch2=s;const o=(r,e)=>{let t=r[2]<=e?2:0;return r[t|=r[t+1]<=e?1:0]===e?t:r[0]<e?-t-2:-1};exports.binarySearch4=o;const n=(r,e)=>{let t=r[4]<=e?4:0;return t|=r[t+2]<=e?2:0,r[t|=r[t+1]<=e?1:0]===e?t:r[0]<e?-t-2:-1};exports.binarySearch8=n;const c=(r,e)=>{let t=r[8]<=e?8:0;return t|=r[t+4]<=e?4:0,t|=r[t+2]<=e?2:0,r[t|=r[t+1]<=e?1:0]===e?t:r[0]<e?-t-2:-1};exports.binarySearch16=c;const a=(r,e)=>{let t=r[16]<=e?16:0;return t|=r[t+4]<=e?8:0,t|=r[t+4]<=e?4:0,t|=r[t+2]<=e?2:0,r[t|=r[t+1]<=e?1:0]===e?t:r[0]<e?-t-2:-1};exports.binarySearch32=a;const p=r=>r<0?-r-2:r-1;exports.bsLT=p;const b=r=>r<0?-r-2:r;exports.bsLE=b;const i=(r,e)=>(r=r<0?-r-1:r+1,r<e?r:-1);exports.bsGT=i;const x=(r,e)=>(r=r<0?-r-1:r,r<e?r:-1);exports.bsGE=x;const h=r=>r<0?-1:r;exports.bsEQ=h;
},{"@thi.ng/compare":"kNRw"}],"vmkU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bisectWith=exports.bisect=void 0;const e=(e,t=e.length>>>1)=>[e.slice(0,t),e.slice(t)];exports.bisect=e;const t=(t,s)=>{const i=t.findIndex(s);return i>=0?e(t,i):[t,[]]};exports.bisectWith=t;
},{}],"zlnS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.equivObject=exports.equivMap=exports.equivSet=exports.equivArrayLike=exports.equiv=void 0;const e=Object.getPrototypeOf({}),t="function",o="string",n=(n,u)=>{let f;return n===u||(null==n?n==u:typeof n.equiv===t?n.equiv(u):null==u?n==u:typeof u.equiv===t?u.equiv(n):typeof n!==o&&typeof u!==o&&(null!=(f=Object.getPrototypeOf(n))&&f!==e||null!=(f=Object.getPrototypeOf(u))&&f!==e?typeof n!==t&&void 0!==n.length&&typeof u!==t&&void 0!==u.length?i(n,u):n instanceof Set&&u instanceof Set?r(n,u):n instanceof Map&&u instanceof Map?s(n,u):n instanceof Date&&u instanceof Date?n.getTime()===u.getTime():n instanceof RegExp&&u instanceof RegExp?n.toString()===u.toString():n!=n&&u!=u:p(n,u)))};exports.equiv=n;const i=(e,t,o=n)=>{let i=e.length;if(i===t.length)for(;--i>=0&&o(e[i],t[i]););return i<0};exports.equivArrayLike=i;const r=(e,t,o=n)=>e.size===t.size&&o([...e.keys()].sort(),[...t.keys()].sort());exports.equivSet=r;const s=(e,t,o=n)=>e.size===t.size&&o([...e].sort(),[...t].sort());exports.equivMap=s;const p=(e,t,o=n)=>{if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(!t.hasOwnProperty(n)||!o(e[n],t[n]))return!1;return!0};exports.equivObject=p;
},{}],"xE8w":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.endsWith=void 0;var e=require("@thi.ng/equiv");const t=(t,r,i=e.equiv)=>{let n=t.length,s=r.length;if(n<s)return!1;for(;--n,--s>=0&&i(t[n],r[s]););return s<0};exports.endsWith=t;
},{"@thi.ng/equiv":"zlnS"}],"x9sR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ensureIterable=void 0;var e=require("@thi.ng/errors");const r=r=>((null==r||!r[Symbol.iterator])&&(0,e.illegalArgs)(`value is not iterable: ${r}`),r);exports.ensureIterable=r;
},{"@thi.ng/errors":"Qv5j"}],"V6cY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ensureArrayLike=exports.ensureArray=void 0;var e=require("@thi.ng/checks"),r=require("./ensure-iterable");const s=s=>(0,e.isArray)(s)?s:[...(0,r.ensureIterable)(s)];exports.ensureArray=s;const t=s=>(0,e.isArrayLike)(s)?s:[...(0,r.ensureIterable)(s)];exports.ensureArrayLike=t;
},{"@thi.ng/checks":"HctC","./ensure-iterable":"x9sR"}],"lNKO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.findIndex=exports.find=void 0;var e=require("@thi.ng/equiv");const r=(r,n,i=e.equiv)=>{const o=t(r,n,i);return-1!==o?r[o]:void 0};exports.find=r;const t=(r,t,n=e.equiv)=>{for(let e=r.length;--e>=0;)if(n(t,r[e]))return e;return-1};exports.findIndex=t;
},{"@thi.ng/equiv":"zlnS"}],"DK46":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fillRange=void 0;const e=(e,r=0,t=0,o=e.length,l=(o>t?1:-1))=>{if(l>0)for(;t<o;t+=l)e[r++]=t;else for(;t>o;t+=l)e[r++]=t;return e};exports.fillRange=e;
},{}],"MfNo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fuzzyMatch=void 0;var e=require("@thi.ng/equiv");const t=(t,r,n=e.equiv)=>{const u=t.length,o=r.length;if(o>u)return!1;if(o===u)return n(r,t);e:for(let e=0,i=0;e<o;e++){const o=r[e];for(;i<u;)if(n(t[i++],o))continue e;return!1}return!0};exports.fuzzyMatch=t;
},{"@thi.ng/equiv":"zlnS"}],"jh3B":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isSorted=void 0;var e=require("@thi.ng/compare");const r=(r,t=e.compare,o=0,s=r.length)=>{let i=r[o];for(;++o<s;){const e=r[o];if(t(i,e)>0)return!1;i=e}return!0};exports.isSorted=r;
},{"@thi.ng/compare":"kNRw"}],"nGnt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.insertUnsafe=exports.insert=void 0;const e=(e,s,r,n=1/0)=>r<0||r>=n||n<1?e:t(e,s,r,n);exports.insert=e;const t=(e,t,s,r=1/0)=>{let n=e.length<r?e.length+1:r;for(;--n>s;)e[n]=e[n-1];return e[s]=t,e};exports.insertUnsafe=t;
},{}],"V0Ja":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.into=void 0;const e=(e,t,o=1/0)=>{for(let r of t){if(--o<0)break;e.push(r)}return e};exports.into=e;
},{}],"NQnt":[function(require,module,exports) {
"use strict";function*e(e,r=0,t){if(!e)return;r=r,void 0===t&&(t=e.length);const o=r<=t?1:-1;for(;r!==t;r+=o)yield e[r]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.arrayIterator=e;
},{}],"i4MI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.normalizedLevenshtein=exports.levenshtein=void 0;const e=(e,t)=>e===t,t=(t,n,r=1/0,o=e)=>{if(t===n)return 0;if(t.length>n.length){const e=t;t=n,n=e}let s=t.length,l=n.length;for(;s>0&&o(t[~-s],n[~-l]);)s--,l--;let i=0;for(;i<s&&o(t[i],n[i]);)i++;if(l-=i,0===(s-=i)||l<3)return l;let f,h,u,c,g,p,v,x,a,d,m,z,L,M=0;const _=(e,t,n,r,s)=>e<t||n<t?e>n?n+1:e+1:o(s,r)?t:t+1,b=[];for(f=0;f<s;f++)b.push(f+1,t[i+f]);const j=b.length-1,y=l-3;for(;M<y;){for(d=n[i+(u=M)],m=n[i+(c=M+1)],z=n[i+(g=M+2)],L=n[i+(p=M+3)],v=M+=4,h=1/0,f=0;f<j;f+=2)u=_(x=b[f],u,c,d,a=b[f+1]),c=_(u,c,g,m,a),g=_(c,g,p,z,a),(v=_(g,p,v,L,a))<h&&(h=v),b[f]=v,p=g,g=c,c=u,u=x;if(h>r)return 1/0}for(;M<l;){for(d=n[i+(u=M)],v=++M,h=1/0,f=0;f<j;f+=2)x=b[f],b[f]=v=_(x,u,v,d,b[f+1]),v<h&&(h=v),u=x;if(h>r)return 1/0}return v};exports.levenshtein=t;const n=(n,r,o=1/0,s=e)=>{const l=Math.max(n.length,r.length);return l>0?t(n,r,o,s)/l:0};exports.normalizedLevenshtein=n;
},{}],"EqUB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.peek=exports.first=void 0;const e=e=>e[0];exports.first=e;const t=e=>e[e.length-1];exports.peek=t;
},{}],"G56K":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.multiSwap=exports.swap=void 0;const e=(e,t,r)=>{const s=e[t];e[t]=e[r],e[r]=s};exports.swap=e;const t=(...t)=>{const[r,s,o]=t,c=t.length;switch(c){case 0:return e;case 1:return(t,s,o)=>{e(t,s,o),e(r,s,o)};case 2:return(t,o,c)=>{e(t,o,c),e(r,o,c),e(s,o,c)};case 3:return(t,c,n)=>{e(t,c,n),e(r,c,n),e(s,c,n),e(o,c,n)};default:return(r,s,o)=>{e(r,s,o);for(let n=c;--n>=0;)e(t[n],s,o)}}};exports.multiSwap=t;
},{}],"X5E8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.quickSort=t;var e=require("@thi.ng/compare"),r=require("./swap");function t(o,i=e.compare,s=r.swap,u=0,a=o.length-1){if(u<a){const e=o[u+(a-u>>1)];let r=u-1,c=a+1;for(;;){do{r++}while(i(o[r],e)<0);do{c--}while(i(o[c],e)>0);if(r>=c)break;s(o,r,c)}t(o,i,s,u,c),t(o,i,s,c+1,a)}return o}
},{"@thi.ng/compare":"kNRw","./swap":"G56K"}],"YP0X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ARandom=void 0;const t=1/4294967295;class e{float(e=1){return this.int()*t*e}norm(e=1){return 2*(this.int()*t-.5)*e}minmax(t,e){return this.float()*(e-t)+t}}exports.ARandom=e;
},{}],"tnSi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SYSTEM=exports.SystemRandom=void 0;var e=require("./arandom");const r=Math.random;class t extends e.ARandom{int(){return 4294967296*r()>>>0}float(e=1){return r()*e}norm(e=1){return 2*(r()-.5)*e}}exports.SystemRandom=t;const o=new t;exports.SYSTEM=o;
},{"./arandom":"YP0X"}],"fQeo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.randomBytes=exports.randomBytesFrom=void 0;var e=require("@thi.ng/checks"),r=require("./system");const t=(e,r,t=0,o=r.length)=>{for(let s=o;--s>=t;)r[s]=255&e.int();return r};exports.randomBytesFrom=t;const o=(0,e.hasCrypto)()?(e,r=0,t=e.length)=>(window.crypto.getRandomValues(e.subarray(r,t)),e):(e,o,s)=>t(r.SYSTEM,e,o,s);exports.randomBytes=o;
},{"@thi.ng/checks":"HctC","./system":"tnSi"}],"e4eg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CRYPTO=exports.Crypto=void 0;var e=require("./arandom"),r=require("./random-bytes");class t extends e.ARandom{constructor(e=64){super(),this.buffer=new Uint8Array(e+3&-4),this.u32=new Uint32Array(this.buffer.buffer),this.i=e>>>2}copy(){return new t(this.buffer.length)}bytes(){return new Uint8Array(this.buffer.buffer)}int(){return this.i>=this.u32.length&&((0,r.randomBytes)(this.buffer),this.i=0),this.u32[this.i++]}}exports.Crypto=t;const s=new t;exports.CRYPTO=s;
},{"./arandom":"YP0X","./random-bytes":"fQeo"}],"Q2ru":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DEFAULT_SEED_160=exports.DEFAULT_SEED_128=exports.DEFAULT_SEED_32=void 0;const E=3737844653;exports.DEFAULT_SEED_32=3737844653;const e=[3737844653,799659867,3827263459,1552149530];exports.DEFAULT_SEED_128=e;const t=[...e,4137311345];exports.DEFAULT_SEED_160=t;
},{}],"SshM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Smush32=void 0;var e=require("./arandom"),r=require("./constants");class t extends e.ARandom{constructor(e=r.DEFAULT_SEED_32){super(),this.buffer=new Uint32Array([e,0])}copy(){const e=new t;return e.buffer.set(this.buffer),e}seed(e){return this.buffer.set([e,0]),this}int(){const e=this.buffer,r=1540483477,t=e[1]++*r>>>0,s=e[0]=(t^t>>24^e[0]*r>>>0)*r>>>0;return(s^s>>>13)>>>0}}exports.Smush32=t;
},{"./arandom":"YP0X","./constants":"Q2ru"}],"bcvC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Xoshiro128=void 0;var e=require("./arandom"),r=require("./constants");class t extends e.ARandom{constructor(e=r.DEFAULT_SEED_128){super(),this.buffer=new Uint32Array(4),this.seed(e)}copy(){return new t(this.buffer)}bytes(){return new Uint8Array(this.buffer.buffer)}seed(e){return this.buffer.set(e),this}int(){const e=this.buffer;let r=e[0]+e[3];const t=(r<<7|r>>>25)>>>0;return r=e[1]<<9,e[2]^=e[0],e[3]^=e[1],e[1]^=e[2],e[0]^=e[3],e[2]^=r,r=e[3],e[3]=(r<<11|r>>>21)>>>0,t}}exports.Xoshiro128=t;
},{"./arandom":"YP0X","./constants":"Q2ru"}],"JzxI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.XorShift128=void 0;var e=require("./arandom"),r=require("./constants");class t extends e.ARandom{constructor(e=r.DEFAULT_SEED_128){super(),this.buffer=new Uint32Array(4),this.seed(e)}copy(){return new t(this.buffer)}bytes(){return new Uint8Array(this.buffer.buffer)}seed(e){return this.buffer.set(e),this}int(){const e=this.buffer;let r,t=e[3];return t^=t<<11,t^=t>>>8,e[3]=e[2],e[2]=e[1],r=e[1]=e[0],e[0]=(t^r^r>>>19)>>>0}}exports.XorShift128=t;
},{"./arandom":"YP0X","./constants":"Q2ru"}],"PJEx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.XorWow=void 0;var e=require("./arandom"),r=require("./constants");class t extends e.ARandom{constructor(e=r.DEFAULT_SEED_160){super(),this.buffer=new Uint32Array(5),this.seed(e)}copy(){return new t(this.buffer)}seed(e){return this.buffer.set(e),this}bytes(){return new Uint8Array(this.buffer.buffer)}int(){const e=this.buffer;let r,t=e[3];return t^=t>>>2,t^=t<<1,e[3]=e[2],e[2]=e[1],t^=r=e[1]=e[0],t^=r<<4,e[0]=t,t+(e[4]+=362437)>>>0}}exports.XorWow=t;
},{"./arandom":"YP0X","./constants":"Q2ru"}],"aQ9X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.XsAdd=void 0;var e=require("./arandom"),r=require("./constants");class t extends e.ARandom{constructor(e=r.DEFAULT_SEED_32){super(),this.buffer=new Uint32Array(4),this.seed(e)}bytes(){return new Uint8Array(this.buffer.buffer)}copy(){const e=new t;return e.buffer.set(this.buffer),e}seed(e){const r=this.buffer;r.set([e,0,0,0]);for(let t=0,s=1;s<8;t=s++){let e=(r[3&t]^r[3&t]>>>30)>>>0;e=35173*e+((27655*e&65535)<<16)>>>0,r[3&s]^=s+e>>>0}return this}int(){const e=this.buffer;let r=e[0];return r^=r<<15,r^=r>>>18,r^=e[3]<<11,e[0]=e[1],e[1]=e[2],e[2]=e[3],e[3]=r,r+e[2]>>>0}}exports.XsAdd=t;
},{"./arandom":"YP0X","./constants":"Q2ru"}],"mCMS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fairCoin=exports.coin=void 0;var e=require("./system");const o=(o=e.SYSTEM)=>o.float()<.5;exports.coin=o;const r=(r=e.SYSTEM)=>{let t,s;do{t=o(r),s=o(r)}while(t===s);return t};exports.fairCoin=r;
},{"./system":"tnSi"}],"eX8I":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.randomID=void 0;var e=require("./system");const r=(r=4,t="",o="abcdefghijklmnopqrstuvwxyz",s=e.SYSTEM)=>{const n=o.length;for(;--r>=0;)t+=o[s.int()%n];return t};exports.randomID=r;
},{"./system":"tnSi"}],"vkNw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.uuid=exports.U64LE=exports.U64BE=exports.U64HL=exports.U64=exports.U48LE=exports.U48BE=exports.U48HL=exports.U48=exports.U32LE=exports.U32BE=exports.U32=exports.U24LE=exports.U24BE=exports.U24=exports.U16LE=exports.U16BE=exports.U16=exports.U8A=exports.U8=exports.U4=exports.HEX=void 0;const t=4294967296,o="0123456789abcdef";exports.HEX=o;const s=t=>o[15&t];exports.U4=s;const e=t=>o[t>>>4&15]+o[15&t];exports.U8=e;const r=(t,o)=>e(t[o]);exports.U8A=r;const p=t=>e(t>>>8)+e(255&t);exports.U16=p;const x=(t,o)=>e(t[o])+e(t[o+1]);exports.U16BE=x;const U=(t,o)=>e(t[o+1])+e(t[o]);exports.U16LE=U;const c=t=>e(t>>>16)+p(t);exports.U24=c;const n=(t,o)=>e(t[o])+x(t,o+1);exports.U24BE=n;const E=(t,o)=>e(t[o+2])+U(t,o);exports.U24LE=E;const L=t=>p(t>>>16)+p(t);exports.U32=L;const B=(t,o)=>x(t,o)+x(t,o+2);exports.U32BE=B;const u=(t,o)=>U(t,o+2)+U(t,o);exports.U32LE=u;const d=o=>H(o/t,o%t);exports.U48=d;const H=(t,o)=>p(t)+L(o);exports.U48HL=H;const i=(t,o)=>x(t,o)+B(t,o+2);exports.U48BE=i;const $=(t,o)=>U(t,o+4)+u(t,o);exports.U48LE=$;const a=o=>b(o/t,o%t);exports.U64=a;const b=(t,o)=>L(t)+L(o);exports.U64HL=b;const f=(t,o)=>B(t,o)+B(t,o+4);exports.U64BE=f;const l=(t,o)=>u(t,o+4)+u(t,o);exports.U64LE=l;const v=(t,o=0)=>`${B(t,o)}-${x(t,o+4)}-${x(t,o+6)}-${x(t,o+8)}-${i(t,o+10)}`;exports.uuid=v;
},{}],"Ynbr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.uuid=exports.uuidv4Bytes=void 0;var e=require("@thi.ng/hex"),r=require("./random-bytes");const t=(e,t)=>(e=e||new Uint8Array(16),(e=t?(0,r.randomBytesFrom)(t,e):(0,r.randomBytes)(e))[6]=64|15&e[6],e[8]=128|63&e[8],e);exports.uuidv4Bytes=t;const s=(r,s=0)=>(0,e.uuid)(r||t(),s);exports.uuid=s;
},{"@thi.ng/hex":"vkNw","./random-bytes":"fQeo"}],"Xp9g":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.weightedRandom=void 0;var e=require("@thi.ng/api"),t=require("./system");const o=(o,r,s=t.SYSTEM)=>{const n=o.length;(0,e.assert)(n>0,"no choices given");const i=r?o.map((e,t)=>[e,r[t]]).sort((e,t)=>t[1]-e[1]):o.map(e=>[e,1]),a=i.reduce((e,t)=>e+t[1],0);return a<=0&&console.warn("total weights <= 0"),()=>{const e=s.float(a);let t=a;for(let o=0;o<n;o++)if((t-=i[o][1])<=e)return i[o][0]}};exports.weightedRandom=o;
},{"@thi.ng/api":"AsNk","./system":"tnSi"}],"tMhJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.exponential=void 0;var e=require("../system");const t=(t=e.SYSTEM,o=10)=>()=>0===o?()=>1/0:-Math.log(1-t.float(1))/o;exports.exponential=t;
},{"../system":"tnSi"}],"PuSO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.gaussian=void 0;var e=require("../system");const r=(r=e.SYSTEM,s=24,t=0,o=1)=>()=>{let e=0,u=s;for(;u-- >0;)e+=r.norm(o);return e/s+t};exports.gaussian=r;
},{"../system":"tnSi"}],"OqxJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.geometric=void 0;var e=require("../system");const t=(t=e.SYSTEM,o=.5)=>o<=0?()=>1/0:o>=1?()=>1:(o=Math.log(1-o),()=>Math.floor(Math.log(1-t.float(1))/o)+1);exports.geometric=t;
},{"../system":"tnSi"}],"utM0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.normal=void 0;var e=require("../system");const r=(r=e.SYSTEM,t=0,o=1)=>{let l,s,n;return()=>{if(null!=l)s=l,l=null;else do{l=r.norm(),s=r.norm(),n=l*l+s*s}while(n>1||0===n);return t+o*s*Math.sqrt(-2*Math.log(n)/n)}};exports.normal=r;
},{"../system":"tnSi"}],"SfQm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.uniform=void 0;var e=require("../system");const r=(r=e.SYSTEM,o=0,s=1)=>()=>r.minmax(o,s);exports.uniform=r;
},{"../system":"tnSi"}],"rTK3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./api");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});var r=require("./arandom");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var t=require("./crypto");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});var o=require("./smush32");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===o[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}}))});var n=require("./system");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===n[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}}))});var u=require("./xoshiro128");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===u[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}}))});var i=require("./xorshift128");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===i[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}}))});var s=require("./xorwow");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===s[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}}))});var c=require("./xsadd");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===c[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}}))});var f=require("./coin");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===f[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}}))});var a=require("./random-bytes");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===a[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}}))});var p=require("./random-id");Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===p[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return p[e]}}))});var d=require("./uuid");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===d[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return d[e]}}))});var b=require("./weighted-random");Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===b[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return b[e]}}))});var x=require("./distributions/exponential");Object.keys(x).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===x[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return x[e]}}))});var l=require("./distributions/gaussian");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===l[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return l[e]}}))});var y=require("./distributions/geometric");Object.keys(y).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===y[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return y[e]}}))});var _=require("./distributions/normal");Object.keys(_).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===_[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _[e]}}))});var j=require("./distributions/uniform");Object.keys(j).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===j[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return j[e]}}))});
},{"./api":"IIwj","./arandom":"YP0X","./crypto":"e4eg","./smush32":"SshM","./system":"tnSi","./xoshiro128":"bcvC","./xorshift128":"JzxI","./xorwow":"PJEx","./xsadd":"aQ9X","./coin":"mCMS","./random-bytes":"fQeo","./random-id":"eX8I","./uuid":"Ynbr","./weighted-random":"Xp9g","./distributions/exponential":"tMhJ","./distributions/gaussian":"PuSO","./distributions/geometric":"OqxJ","./distributions/normal":"utM0","./distributions/uniform":"SfQm"}],"Tsv0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shuffle=exports.shuffleRange=void 0;var e=require("@thi.ng/api"),t=require("@thi.ng/random");const r=(r,s=0,o=r.length,l=t.SYSTEM)=>{(0,e.assert)(s>=0&&o>=s&&o<=r.length,`illegal range ${s}..${o}`);let n=o-s;const f=n;if(f>1)for(;--n>=0;){const e=s+l.float(f)|0,t=s+l.float(f)|0,o=r[e];r[e]=r[t],r[t]=o}return r};exports.shuffleRange=r;const s=(e,s=e.length,o=t.SYSTEM)=>r(e,0,s,o);exports.shuffle=s;
},{"@thi.ng/api":"AsNk","@thi.ng/random":"rTK3"}],"QcCu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sortByCachedKey=void 0;var e=require("@thi.ng/api"),r=require("@thi.ng/checks"),t=require("@thi.ng/compare"),s=require("./quicksort"),i=require("./swap");const o=(o,c,n=t.compare)=>{const u=(0,r.isFunction)(c)?o.map(c):c;return(0,e.assert)(u.length===o.length,"keys.length != src.length"),(0,s.quickSort)(u,n,(0,i.multiSwap)(o)),o};exports.sortByCachedKey=o;
},{"@thi.ng/api":"AsNk","@thi.ng/checks":"HctC","@thi.ng/compare":"kNRw","./quicksort":"X5E8","./swap":"G56K"}],"vc6T":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.startsWith=void 0;var e=require("@thi.ng/equiv");const t=(t,r,s=e.equiv)=>{let i=t.length,o=r.length;if(i<o)return!1;for(;-o>=0&&s(t[o],r[o]););return o<0};exports.startsWith=t;
},{"@thi.ng/equiv":"zlnS"}],"ZwJl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.swizzle=void 0;const e=e=>{const[r,t,s,n,c,u,a,o]=e;switch(e.length){case 0:return()=>[];case 1:return e=>[e[r]];case 2:return e=>[e[r],e[t]];case 3:return e=>[e[r],e[t],e[s]];case 4:return e=>[e[r],e[t],e[s],e[n]];case 5:return e=>[e[r],e[t],e[s],e[n],e[c]];case 6:return e=>[e[r],e[t],e[s],e[n],e[c],e[u]];case 7:return e=>[e[r],e[t],e[s],e[n],e[c],e[u],e[a]];case 8:return e=>[e[r],e[t],e[s],e[n],e[c],e[u],e[a],e[o]];default:return r=>{const t=[];for(let s=e.length;--s>=0;)t[s]=r[e[s]];return t}}};exports.swizzle=e;
},{}],"cGHC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./api");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});var r=require("./binary-search");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var t=require("./bisect");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});var n=require("./ends-with");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===n[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}}))});var o=require("./ensure-array");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===o[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}}))});var u=require("./ensure-iterable");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===u[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}}))});var s=require("./find");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===s[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}}))});var i=require("./fill-range");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===i[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}}))});var c=require("./fuzzy-match");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===c[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}}))});var f=require("./is-sorted");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===f[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}}))});var a=require("./insert");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===a[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}}))});var p=require("./into");Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===p[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return p[e]}}))});var l=require("./iterator");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===l[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return l[e]}}))});var d=require("./levenshtein");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===d[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return d[e]}}))});var b=require("./peek");Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===b[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return b[e]}}))});var x=require("./quicksort");Object.keys(x).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===x[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return x[e]}}))});var y=require("./shuffle");Object.keys(y).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===y[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return y[e]}}))});var _=require("./sort-cached");Object.keys(_).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===_[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _[e]}}))});var j=require("./starts-with");Object.keys(j).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===j[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return j[e]}}))});var O=require("./swap");Object.keys(O).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===O[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return O[e]}}))});var h=require("./swizzle");Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===h[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return h[e]}}))});
},{"./api":"IIwj","./binary-search":"l6zS","./bisect":"vmkU","./ends-with":"xE8w","./ensure-array":"V6cY","./ensure-iterable":"x9sR","./find":"lNKO","./fill-range":"DK46","./fuzzy-match":"MfNo","./is-sorted":"jh3B","./insert":"nGnt","./into":"V0Ja","./iterator":"NQnt","./levenshtein":"i4MI","./peek":"EqUB","./quicksort":"X5E8","./shuffle":"Tsv0","./sort-cached":"QcCu","./starts-with":"vc6T","./swap":"G56K","./swizzle":"ZwJl"}],"pnui":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.filterFuzzy=i;var e=require("@thi.ng/arrays"),r=require("../iterator"),t=require("./filter");function i(...u){const n=u.length>1&&(0,r.$iter)(i,u);if(n)return n;const l=u[0],{key:o,equiv:s}=u[1]||{};return(0,t.filter)(r=>(0,e.fuzzyMatch)(null!=o?o(r):r,l,s))}
},{"@thi.ng/arrays":"cGHC","../iterator":"FSoq","./filter":"Srlq"}],"jOUa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.flattenWith=u;var e=require("@thi.ng/checks"),r=require("../func/compr"),t=require("../iterator"),i=require("../reduced");function u(n,o){return(0,e.isIterable)(o)?(0,t.iterator)(u(n),(0,e.isString)(o)?[o]:o):e=>{const t=e[2],u=(e,r)=>{const o=n(r);if(o){for(let r of o)if(e=u(e,r),(0,i.isReduced)(e))break;return e}return t(e,r)};return(0,r.compR)(e,u)}}
},{"@thi.ng/checks":"HctC","../func/compr":"ZoN0","../iterator":"FSoq","../reduced":"wmkI"}],"K478":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.flatten=r;var e=require("@thi.ng/checks"),t=require("./flatten-with");function r(r){return(0,t.flattenWith)(t=>(0,e.isNotStringAndIterable)(t)?t:void 0,r)}
},{"@thi.ng/checks":"HctC","./flatten-with":"jOUa"}],"MQMZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapIndexed=t;var e=require("../func/compr"),r=require("../iterator");function t(...o){return(0,r.$iter)(t,o)||(r=>{const t=r[2],u=o[0];let n=o[1]||0;return(0,e.compR)(r,(e,r)=>t(e,u(n++,r)))})}
},{"../func/compr":"ZoN0","../iterator":"FSoq"}],"Vl3R":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.indexed=t;var e=require("../iterator"),r=require("./map-indexed");function t(...i){const n=(0,e.$iter)(t,i);if(n)return n;const d=i[0]||0;return(0,r.mapIndexed)((e,r)=>[d+e,r])}
},{"../iterator":"FSoq","./map-indexed":"MQMZ"}],"m3sl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.interleave=u;var e=require("@thi.ng/checks"),r=require("../func/compr"),t=require("../iterator"),i=require("../reduced");function u(c,o){return(0,e.isIterable)(o)?(0,t.iterator)(u(c),o):e=>{const t=e[2],u="function"==typeof c?c:()=>c;return(0,r.compR)(e,(e,r)=>(e=t(e,u()),(0,i.isReduced)(e)?e:t(e,r)))}}
},{"@thi.ng/checks":"HctC","../func/compr":"ZoN0","../iterator":"FSoq","../reduced":"wmkI"}],"ZHil":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.comp=n;var e=require("@thi.ng/compose"),r=require("../internal/ensure");function n(...n){return n=n.map(r.ensureTransducer),e.comp.apply(null,n)}
},{"@thi.ng/compose":"PMVb","../internal/ensure":"CPq6"}],"BqjZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.normRange=o,exports.normRange2d=r,exports.normRange3d=t;var e=require("../xform/map");function*o(e,o=!0){if(e>0)for(let r=0,t=o?e+1:e;r<t;r++)yield r/e}function*r(r,t,n=!0,f=!0){const i=[...o(r,n)];for(let s of o(t,f))yield*(0,e.map)(e=>[e,s],i)}function*t(t,n,f,i=!0,s=!0,a=!0){const l=[...r(t,n,i,s)];for(let r of o(f,a))yield*(0,e.map)(e=>[...e,r],l)}
},{"../xform/map":"fBkP"}],"gEP1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapcat=c;var e=require("@thi.ng/checks"),r=require("../func/comp"),t=require("../iterator"),i=require("./cat"),a=require("./map");function c(u,o){return(0,e.isIterable)(o)?(0,t.iterator)(c(u),o):(0,r.comp)((0,a.map)(u),(0,i.cat)())}
},{"@thi.ng/checks":"HctC","../func/comp":"ZHil","../iterator":"FSoq","./cat":"XFQx","./map":"fBkP"}],"WCS9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.partition=t;var e=require("../iterator");function t(...r){const n=(0,e.$iter)(t,r,e.iterator);if(n)return n;let i,o,u=r[0];return"number"==typeof r[1]?(o=r[1],i=r[2]):(o=u,i=r[1]),([e,t,r])=>{let n=[],l=0;return[e,e=>(i&&n.length>0&&(e=r(e,n),n=[]),t(e)),(e,t)=>(l<=0?(n.length<u&&n.push(t),n.length===u&&(e=r(e,n),n=o<u?n.slice(o):[],l=o-u)):l--,e)]}}
},{"../iterator":"FSoq"}],"ex58":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.interpolate=u;var e=require("@thi.ng/checks"),r=require("../func/comp"),t=require("../iter/norm-range"),i=require("../iterator"),a=require("./map"),o=require("./mapcat"),n=require("./partition");function u(p,c,m,q){return(0,e.isIterable)(q)?(0,i.iterator)(u(p,c,m),q):(0,r.comp)((0,n.partition)(c,1),(0,o.mapcat)(e=>(0,a.map)(r=>p(e,r),(0,t.normRange)(m,!1))))}
},{"@thi.ng/checks":"HctC","../func/comp":"ZHil","../iter/norm-range":"BqjZ","../iterator":"FSoq","./map":"fBkP","./mapcat":"gEP1","./partition":"WCS9"}],"AH7D":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.interpolateHermite=r;var e=require("@thi.ng/math"),t=require("./interpolate");function r(r,i){return(0,t.interpolate)((t,r)=>(0,e.mixHermite)(...t,r),4,r,i)}
},{"@thi.ng/math":"UBbf","./interpolate":"ex58"}],"Jnuu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.interpolateLinear=t;var e=require("@thi.ng/math"),r=require("./interpolate");function t(t,i){return(0,r.interpolate)((r,t)=>(0,e.mix)(...r,t),2,t,i)}
},{"@thi.ng/math":"UBbf","./interpolate":"ex58"}],"i6D1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.interpose=u;var e=require("@thi.ng/checks"),r=require("../func/compr"),t=require("../iterator"),i=require("../reduced");function u(o,c){return(0,e.isIterable)(c)?(0,t.iterator)(u(o),c):e=>{const t=e[2],u="function"==typeof o?o:()=>o;let c=!0;return(0,r.compR)(e,(e,r)=>c?(c=!1,t(e,r)):(e=t(e,u()),(0,i.isReduced)(e)?e:t(e,r)))}}
},{"@thi.ng/checks":"HctC","../func/compr":"ZoN0","../iterator":"FSoq","../reduced":"wmkI"}],"iXIn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.keep=i;var e=require("@thi.ng/compose"),r=require("../func/compr"),t=require("../iterator");function i(...o){return(0,t.$iter)(i,o)||(t=>{const i=t[2],u=o[0]||e.identity;return(0,r.compR)(t,(e,r)=>null!=u(r)?i(e,r):e)})}
},{"@thi.ng/compose":"PMVb","../func/compr":"ZoN0","../iterator":"FSoq"}],"UcmY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.labeled=i;var e=require("@thi.ng/checks"),r=require("../iterator"),t=require("./map");function i(u,a){return(0,e.isIterable)(a)?(0,r.iterator1)(i(u),a):(0,t.map)((0,e.isFunction)(u)?e=>[u(e),e]:e=>[u,e])}
},{"@thi.ng/checks":"HctC","../iterator":"FSoq","./map":"fBkP"}],"uSZO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.deepTransform=void 0;var e=require("@thi.ng/checks");const r=t=>{if((0,e.isFunction)(t))return t;const s=Object.keys(t[1]||{}).reduce((e,s)=>(e[s]=r(t[1][s]),e),{});return e=>{const r=Object.assign({},e);for(let t in s)r[t]=s[t](r[t]);return t[0](r)}};exports.deepTransform=r;
},{"@thi.ng/checks":"HctC"}],"rHLo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapDeep=a;var e=require("@thi.ng/checks"),r=require("../func/deep-transform"),t=require("../iterator"),i=require("./map");function a(u,o){return(0,e.isIterable)(o)?(0,t.iterator1)(a(u),o):(0,i.map)((0,r.deepTransform)(u))}
},{"@thi.ng/checks":"HctC","../func/deep-transform":"uSZO","../iterator":"FSoq","./map":"fBkP"}],"omGR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapKeys=t;var e=require("../iterator"),r=require("./map");function t(...n){const s=(0,e.$iter)(t,n);if(s)return s;const i=n[0],o=!1!==n[1];return(0,r.map)(e=>{const r=o?Object.assign({},e):e;for(let t in i)r[t]=i[t](e[t],e);return r})}
},{"../iterator":"FSoq","./map":"fBkP"}],"O419":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapNth=t;var e=require("../func/compr"),r=require("../iterator");function t(...u){const n=(0,r.$iter)(t,u);if(n)return n;let o,i,c=u[0]-1;return"number"==typeof u[1]?(o=u[1],i=u[2]):(i=u[1],o=0),r=>{const t=r[2];let u=0,n=o;return(0,e.compR)(r,(e,r)=>{if(0===n){if(0===u)return u=c,t(e,i(r));u--}else n--;return t(e,r)})}}
},{"../func/compr":"ZoN0","../iterator":"FSoq"}],"Hddo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapVals=t;var e=require("../iterator"),r=require("./map");function t(...n){const o=(0,e.$iter)(t,n);if(o)return o;const i=n[0],s=!1!==n[1];return(0,r.map)(e=>{const r=s?{}:e;for(let t in e)r[t]=i(e[t]);return r})}
},{"../iterator":"FSoq","./map":"fBkP"}],"uBI7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapcatIndexed=a;var e=require("../func/comp"),r=require("../iterator"),t=require("./cat"),i=require("./map-indexed");function a(...u){return(0,r.$iter)(a,u,r.iterator)||(0,e.comp)((0,i.mapIndexed)(u[0],u[1]),(0,t.cat)())}
},{"../func/comp":"ZHil","../iterator":"FSoq","./cat":"XFQx","./map-indexed":"MQMZ"}],"ZLdz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.take=c;var e=require("@thi.ng/checks"),r=require("../func/compr"),t=require("../iterator"),u=require("../reduced");function c(i,o){return(0,e.isIterable)(o)?(0,t.iterator)(c(i),o):e=>{const t=e[2];let c=i;return(0,r.compR)(e,(e,r)=>--c>0?t(e,r):0===c?(0,u.ensureReduced)(t(e,r)):(0,u.reduced)(e))}}
},{"@thi.ng/checks":"HctC","../func/compr":"ZoN0","../iterator":"FSoq","../reduced":"wmkI"}],"GO3g":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.matchFirst=c;var e=require("@thi.ng/checks"),r=require("../func/comp"),t=require("../iterator"),i=require("./filter"),u=require("./take");function c(o,a){return(0,e.isIterable)(a)?[...(0,t.iterator1)(c(o),a)][0]:(0,r.comp)((0,i.filter)(o),(0,u.take)(1))}
},{"@thi.ng/checks":"HctC","../func/comp":"ZHil","../iterator":"FSoq","./filter":"Srlq","./take":"ZLdz"}],"yCzR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.__drain=void 0;var e=require("../reduced");const r=(r,t,d)=>s=>{for(;r.length&&!(0,e.isReduced)(s);)s=d(s,r.shift());return t(s)};exports.__drain=r;
},{"../reduced":"wmkI"}],"eHWT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.takeLast=i;var e=require("@thi.ng/checks"),r=require("../internal/drain"),t=require("../iterator");function i(n,s){return(0,e.isIterable)(s)?(0,t.iterator)(i(n),s):([e,t,i])=>{const s=[];return[e,(0,r.__drain)(s,t,i),(e,r)=>(s.length===n&&s.shift(),s.push(r),e)]}}
},{"@thi.ng/checks":"HctC","../internal/drain":"yCzR","../iterator":"FSoq"}],"MGxr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.matchLast=u;var e=require("@thi.ng/checks"),r=require("../func/comp"),t=require("../iterator"),i=require("./filter"),a=require("./take-last");function u(s,c){return(0,e.isIterable)(c)?[...(0,t.iterator)(u(s),c)][0]:(0,r.comp)((0,i.filter)(s),(0,a.takeLast)(1))}
},{"@thi.ng/checks":"HctC","../func/comp":"ZHil","../iterator":"FSoq","./filter":"Srlq","./take-last":"eHWT"}],"cIjO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.movingAverage=o;var e=require("@thi.ng/checks"),r=require("@thi.ng/errors"),t=require("../func/compr"),i=require("../iterator");function o(s,u){return(0,e.isIterable)(u)?(0,i.iterator1)(o(s),u):e=>{(s|=0)<2&&(0,r.illegalArgs)("period must be >= 2");const i=e[2],o=[];let u=0;return(0,t.compR)(e,(e,r)=>{const t=o.push(r);return u+=r,t>s&&(u-=o.shift()),t>=s?i(e,u/s):e})}}
},{"@thi.ng/checks":"HctC","@thi.ng/errors":"Qv5j","../func/compr":"ZoN0","../iterator":"FSoq"}],"eJuU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.__sortOpts=void 0;var e=require("@thi.ng/compare"),t=require("@thi.ng/compose");const r=r=>Object.assign({key:t.identity,compare:e.compare},r);exports.__sortOpts=r;
},{"@thi.ng/compare":"kNRw","@thi.ng/compose":"PMVb"}],"mxuv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.movingMedian=n;var r=require("../func/comp"),e=require("../internal/sort-opts"),t=require("../iterator"),i=require("./map"),o=require("./partition");function n(...s){const p=(0,t.$iter)(n,s);if(p)return p;const{key:u,compare:a}=(0,e.__sortOpts)(s[1]),c=s[0],m=c>>1;return(0,r.comp)((0,o.partition)(c,1,!0),(0,i.map)(r=>r.slice().sort((r,e)=>a(u(r),u(e)))[m]))}
},{"../func/comp":"ZHil","../internal/sort-opts":"eJuU","../iterator":"FSoq","./map":"fBkP","./partition":"WCS9"}],"qDGZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.multiplex=p;var e=require("@thi.ng/compose"),r=require("../step"),t=require("./map");function p(...p){return(0,t.map)(e.juxt.apply(null,p.map(r.step)))}
},{"@thi.ng/compose":"PMVb","../step":"KHPz","./map":"fBkP"}],"wip7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.renamer=void 0;const e=e=>{const t=Object.keys(e),[r,o,n]=t,[s,c,u]=t.map(t=>e[t]);switch(t.length){case 3:return e=>{const t={};let d;return void 0!==(d=e[u])&&(t[n]=d),void 0!==(d=e[c])&&(t[o]=d),void 0!==(d=e[s])&&(t[r]=d),t};case 2:return e=>{const t={};let n;return void 0!==(n=e[c])&&(t[o]=n),void 0!==(n=e[s])&&(t[r]=n),t};case 1:return e=>{const t={};let o=e[s];return void 0!==o&&(t[r]=o),t};default:return r=>{let o,n;const s={};for(let c=t.length-1;c>=0;c--)o=t[c],void 0!==(n=r[e[o]])&&(s[o]=n);return s}}};exports.renamer=e;
},{}],"oWVg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rename=a;var e=require("@thi.ng/checks"),r=require("../func/comp"),t=require("../func/renamer"),i=require("../iterator"),u=require("../transduce"),n=require("./filter"),c=require("./map");function a(...s){const o=s.length>2&&(0,i.$iter)(a,s);if(o)return o;let m=s[0];if((0,e.isArray)(m)&&(m=m.reduce((e,r,t)=>(e[r]=t,e),{})),s[1]){const e=Object.keys(m);return(0,c.map)(t=>(0,u.transduce)((0,r.comp)((0,c.map)(e=>[e,t[m[e]]]),(0,n.filter)(e=>void 0!==e[1])),s[1],e))}return(0,c.map)((0,t.renamer)(m))}
},{"@thi.ng/checks":"HctC","../func/comp":"ZHil","../func/renamer":"wip7","../iterator":"FSoq","../transduce":"O6O3","./filter":"Srlq","./map":"fBkP"}],"wUYq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.multiplexObj=i;var e=require("../func/comp"),r=require("../iterator"),t=require("./multiplex"),u=require("./rename");function i(...l){const n=(0,r.$iter)(i,l);if(n)return n;const[p,o]=l,c=Object.keys(p);return(0,e.comp)(t.multiplex.apply(null,c.map(e=>p[e])),(0,u.rename)(c,o))}
},{"../func/comp":"ZHil","../iterator":"FSoq","./multiplex":"qDGZ","./rename":"oWVg"}],"SgZW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.noop=void 0;const e=()=>e=>e;exports.noop=e;
},{}],"YNK6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.padLast=i;var e=require("@thi.ng/checks"),r=require("../iterator"),t=require("../reduced");function i(u,s,o){return(0,e.isIterable)(o)?(0,r.iterator)(i(u,s),o):([e,r,i])=>{let o=0;return[e,e=>{let a=o%u;if(a>0)for(;++a<=u&&!(0,t.isReduced)(e);)e=i(e,s);return r(e)},(e,r)=>(o++,i(e,r))]}}
},{"@thi.ng/checks":"HctC","../iterator":"FSoq","../reduced":"wmkI"}],"jwxl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.page=u;var e=require("../func/comp"),r=require("../iterator"),t=require("./drop"),o=require("./take");function u(...i){return(0,r.$iter)(u,i)||(0,e.comp)((0,t.drop)(i[0]*(i[1]||10)),(0,o.take)(i[1]||10))}
},{"../func/comp":"ZHil","../iterator":"FSoq","./drop":"ouQu","./take":"ZLdz"}],"GWyt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.partitionBy=u;var e=require("@thi.ng/api"),r=require("../iterator"),t=require("../reduced");function u(...i){return(0,r.$iter)(u,i,r.iterator)||(([r,u,n])=>{const o=i[0],s=!0===i[1]?o():o;let l,c=e.SEMAPHORE;return[r,e=>(l&&l.length&&(e=n(e,l),l=null),u(e)),(r,u)=>{const i=s(u);return c===e.SEMAPHORE?(c=i,l=[u]):i===c?l.push(u):(l&&(r=n(r,l)),l=(0,t.isReduced)(r)?null:[u],c=i),r}]})}
},{"@thi.ng/api":"AsNk","../iterator":"FSoq","../reduced":"wmkI"}],"uJgc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.partitionOf=i;var e=require("@thi.ng/checks"),r=require("../iterator"),t=require("./partition-by");function i(n,o){return(0,e.isIterable)(o)?(0,r.iterator)(i(n),o):(0,t.partitionBy)(()=>{let e=0,r=0;return()=>(e++===n[r]&&(e=1,r=(r+1)%n.length),r)},!0)}
},{"@thi.ng/checks":"HctC","../iterator":"FSoq","./partition-by":"GWyt"}],"t8Nq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.partitionSort=a;var r=require("../func/comp"),t=require("../internal/sort-opts"),e=require("../iterator"),i=require("./mapcat"),o=require("./partition");function a(...n){const p=(0,e.$iter)(a,n,e.iterator);if(p)return p;const{key:s,compare:c}=(0,t.__sortOpts)(n[1]);return(0,r.comp)((0,o.partition)(n[0],!0),(0,i.mapcat)(r=>r.slice().sort((r,t)=>c(s(r),s(t)))))}
},{"../func/comp":"ZHil","../internal/sort-opts":"eJuU","../iterator":"FSoq","./mapcat":"gEP1","./partition":"WCS9"}],"PhTR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.partitionSync=i;var e=require("@thi.ng/checks"),r=require("@thi.ng/compose"),t=require("@thi.ng/errors"),s=require("../iterator"),n=require("../reduced");function i(...c){const o=(0,s.$iter)(i,c,s.iterator);if(o)return o;const{key:u,mergeOnly:d,reset:f,all:g,backPressure:h}=Object.assign({key:r.identity,mergeOnly:!1,reset:!0,all:!0,backPressure:0},c[1]),p=(0,e.isArray)(c[0])?new Set(c[0]):c[0],y=new Set,k=new Map;let b={};const q=([e,r,s])=>{let i=!0;return d||h<1?[e,e=>((f&&g&&y.size>0||!f&&i)&&(e=s(e,b),b={},y.clear(),i=!1),r(e)),(e,r)=>{const t=u(r);return p.has(t)&&(b[t]=r,y.add(t),(d||a(p,y))&&(e=s(e,b),i=!1,f?(b={},y.clear()):b=Object.assign({},b))),e}]:[e,e=>(g&&y.size>0&&(e=s(e,l(k,y)),k.clear(),y.clear()),r(e)),(e,r)=>{const c=u(r);if(p.has(c)){let o=k.get(c);for(!o&&k.set(c,o=[]),o.length>=h&&(0,t.illegalState)(`max back pressure (${h}) exceeded for input: ${String(c)}`),o.push(r),y.add(c);a(p,y)&&(e=s(e,l(k,y)),i=!1,!(0,n.isReduced)(e)););}return e}]};return q.keys=(()=>p),q.clear=(()=>{k.clear(),p.clear(),y.clear(),b={}}),q.add=(e=>{p.add(e)}),q.delete=((e,r=!0)=>{k.delete(e),p.delete(e),r&&(y.delete(e),delete b[e])}),q}const a=(e,r)=>{if(r.size<e.size)return!1;for(let t of e)if(!r.has(t))return!1;return!0},l=(e,r)=>{const t={};for(let s of r){const n=e.get(s);t[s]=n.shift(),!n.length&&r.delete(s)}return t};
},{"@thi.ng/checks":"HctC","@thi.ng/compose":"PMVb","@thi.ng/errors":"Qv5j","../iterator":"FSoq","../reduced":"wmkI"}],"ZaOi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.partitionTime=i;var e=require("@thi.ng/checks"),r=require("../iterator"),t=require("./partition-by");function i(n,o){return(0,e.isIterable)(o)?(0,r.iterator)(i(n),o):(0,t.partitionBy)(()=>{let e=0;return()=>{const r=Date.now();return r-e>=n&&(e=r),e}},!0)}
},{"@thi.ng/checks":"HctC","../iterator":"FSoq","./partition-by":"GWyt"}],"Umis":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.partitionWhen=t;var e=require("../iterator"),r=require("../reduced");function t(...u){return(0,e.$iter)(t,u,e.iterator)||(([e,t,i])=>{const n=u[0],o=!0===u[1]?n():n;let l;return[e,e=>(l&&l.length&&(e=i(e,l),l=null),t(e)),(e,t)=>(o(t)?(l&&(e=i(e,l)),l=(0,r.isReduced)(e)?null:[t]):l?l.push(t):l=[t],e)]})}
},{"../iterator":"FSoq","../reduced":"wmkI"}],"HWTz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.peek=t;var e=require("@thi.ng/arrays"),r=require("./map");function t(t){return(0,r.map)(e.peek,t)}
},{"@thi.ng/arrays":"cGHC","./map":"fBkP"}],"ntK2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pluck=i;var e=require("@thi.ng/checks"),r=require("../iterator"),t=require("./map");function i(u,a){return(0,e.isIterable)(a)?(0,r.iterator1)(i(u),a):(0,t.map)(e=>e[u])}
},{"@thi.ng/checks":"HctC","../iterator":"FSoq","./map":"fBkP"}],"OT2h":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sample=o;var r=require("@thi.ng/random"),e=require("../func/compr"),t=require("../iterator");function o(...n){const u=(0,t.$iter)(o,n);if(u)return u;const i=n[0],c=n[1]||r.SYSTEM;return r=>{const t=r[2];return(0,e.compR)(r,(r,e)=>c.float()<i?t(r,e):r)}}
},{"@thi.ng/random":"rTK3","../func/compr":"ZoN0","../iterator":"FSoq"}],"C46c":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.scan=t;var e=require("../iterator"),r=require("../reduced");function t(...u){return u.length>2&&(0,e.$iter)(t,u,e.iterator)||(([e,t,n])=>{const[d,c,i]=u[0];let s=u.length>1&&null!=u[1]?u[1]:d();return[e,e=>{let u=c(s);return u!==s&&(e=(0,r.unreduced)(n(e,u))),s=u,t(e)},(e,t)=>(s=i(s,t),(0,r.isReduced)(s)?(0,r.ensureReduced)(n(e,s.deref())):n(e,s))]})}
},{"../iterator":"FSoq","../reduced":"wmkI"}],"o5Mm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.keySelector=void 0;var e=require("./renamer");const r=r=>(0,e.renamer)(r.reduce((e,r)=>(e[r]=r,e),{}));exports.keySelector=r;
},{"./renamer":"wip7"}],"n1Y1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.selectKeys=s;var e=require("@thi.ng/checks"),r=require("../func/key-selector"),t=require("../iterator"),i=require("./map");function s(u,c){return(0,e.isIterable)(c)?(0,t.iterator1)(s(u),c):(0,i.map)((0,r.keySelector)(u))}
},{"@thi.ng/checks":"HctC","../func/key-selector":"o5Mm","../iterator":"FSoq","./map":"fBkP"}],"XCkK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sideEffect=void 0;var e=require("./map");const t=t=>(0,e.map)(e=>(t(e),e));exports.sideEffect=t;
},{"./map":"fBkP"}],"uqRa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.slidingWindow=n;var e=require("@thi.ng/api"),r=require("../func/compr"),t=require("../iterator");function n(...i){const o=(0,t.$iter)(n,i);if(o)return o;const u=i[0],s=!1!==i[1];return t=>{const n=t[2];let i=[];return(0,r.compR)(t,(r,t)=>{i.push(t);const o=(0,e.deref)(u);return(s||i.length>=o)&&(r=n(r,i),i=i.slice(i.length>=o?1:0,o)),r})}}
},{"@thi.ng/api":"AsNk","../func/compr":"ZoN0","../iterator":"FSoq"}],"JXLY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.streamShuffle=u;var e=require("@thi.ng/arrays"),r=require("../iterator"),t=require("../reduced");function u(...s){return(0,r.$iter)(u,s,r.iterator)||(([r,u,i])=>{const f=s[0],n=s[1]||f,h=[];return[r,r=>{for(;h.length&&!(0,t.isReduced)(r);)(0,e.shuffle)(h,n),r=i(r,h.shift());return r=u(r)},(r,t)=>(h.push(t),(0,e.shuffle)(h,n),h.length===f&&(r=i(r,h.shift())),r)]})}
},{"@thi.ng/arrays":"cGHC","../iterator":"FSoq","../reduced":"wmkI"}],"ITJe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.streamSort=i;var r=require("@thi.ng/arrays"),e=require("../internal/drain"),t=require("../internal/sort-opts"),n=require("../iterator");function i(...s){const o=(0,n.$iter)(i,s,n.iterator);if(o)return o;const{key:a,compare:u}=(0,t.__sortOpts)(s[1]),c=s[0];return([t,n,i])=>{const s=[];return[t,(0,e.__drain)(s,n,i),(e,t)=>{const n=(0,r.binarySearch)(s,t,a,u);return s.splice(n<0?-(n+1):n,0,t),s.length===c&&(e=i(e,s.shift())),e}]}}
},{"@thi.ng/arrays":"cGHC","../internal/drain":"yCzR","../internal/sort-opts":"eJuU","../iterator":"FSoq"}],"KY3O":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.struct=n;var e=require("@thi.ng/checks"),r=require("../func/comp"),t=require("../iterator"),i=require("./map-keys"),a=require("./partition"),u=require("./partition-of"),o=require("./rename");function n(p,c){return(0,e.isIterable)(c)?(0,t.iterator)(n(p),c):(0,r.comp)((0,u.partitionOf)(p.map(e=>e[1])),(0,a.partition)(p.length),(0,o.rename)(p.map(e=>e[0])),(0,i.mapKeys)(p.reduce((e,r)=>r[2]?(e[r[0]]=r[2],e):e,{}),!1))}
},{"@thi.ng/checks":"HctC","../func/comp":"ZHil","../iterator":"FSoq","./map-keys":"omGR","./partition":"WCS9","./partition-of":"uJgc","./rename":"oWVg"}],"zIOH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.swizzle=s;var e=require("@thi.ng/arrays"),r=require("@thi.ng/checks"),t=require("../iterator"),i=require("./map");function s(a,u){return(0,r.isIterable)(u)?(0,t.iterator1)(s(a),u):(0,i.map)((0,e.swizzle)(a))}
},{"@thi.ng/arrays":"cGHC","@thi.ng/checks":"HctC","../iterator":"FSoq","./map":"fBkP"}],"SeeH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.takeNth=u;var e=require("@thi.ng/checks"),t=require("@thi.ng/math"),r=require("../iterator"),i=require("./throttle");function u(o,a){return(0,e.isIterable)(a)?(0,r.iterator1)(u(o),a):(o=(0,t.clamp0)(o-1),(0,i.throttle)(()=>{let e=0;return()=>0===e?(e=o,!0):(e--,!1)}))}
},{"@thi.ng/checks":"HctC","@thi.ng/math":"UBbf","../iterator":"FSoq","./throttle":"dKhC"}],"zm7Q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.takeWhile=u;var e=require("../func/compr"),r=require("../iterator"),t=require("../reduced");function u(...c){return(0,r.$iter)(u,c)||(r=>{const u=r[2],i=c[0];let o=!0;return(0,e.compR)(r,(e,r)=>(o=o&&i(r))?u(e,r):(0,t.reduced)(e))})}
},{"../func/compr":"ZoN0","../iterator":"FSoq","../reduced":"wmkI"}],"r8bV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.throttleTime=o;var e=require("@thi.ng/checks"),t=require("../iterator"),r=require("./throttle");function o(i,u){return(0,e.isIterable)(u)?(0,t.iterator1)(o(i),u):(0,r.throttle)(()=>{let e=0;return()=>{const t=Date.now();return t-e>=i&&(e=t,!0)}})}
},{"@thi.ng/checks":"HctC","../iterator":"FSoq","./throttle":"dKhC"}],"F3Xo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.toggle=t;var e=require("@thi.ng/checks"),r=require("../iterator");function t(i,o,u=!1,s){return(0,e.isIterable)(s)?(0,r.iterator1)(t(i,o,u),s):([e,r,t])=>{let s=u;return[e,r,e=>t(e,(s=!s)?i:o)]}}
},{"@thi.ng/checks":"HctC","../iterator":"FSoq"}],"urik":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.trace=void 0;var e=require("./side-effect");const t=(t="")=>(0,e.sideEffect)(e=>console.log(t,e));exports.trace=t;
},{"./side-effect":"XCkK"}],"EUGr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.wordWrap=t;var e=require("../iterator"),r=require("./partition-by");function t(...i){const n=(0,e.$iter)(t,i,e.iterator);if(n)return n;const a=i[0],{delim:o,always:s}=Object.assign({delim:1,always:!0},i[1]);return(0,r.partitionBy)(()=>{let e=0,r=!1;return t=>((e+=t.length+o)>a+(s?0:o)&&(r=!r,e=t.length+o),r)},!0)}
},{"../iterator":"FSoq","./partition-by":"GWyt"}],"QUQK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.juxtR=d;var e=require("../reduced");function d(...d){let[u,r,c]=d;const t=d.length;switch(t){case 1:{const d=u[2];return[()=>[u[0]()],e=>[u[1](e[0])],(u,r)=>{const c=d(u[0],r);return(0,e.isReduced)(c)?(0,e.reduced)([(0,e.unreduced)(c)]):[c]}]}case 2:{const d=u[2],c=r[2];return[()=>[u[0](),r[0]()],e=>[u[1](e[0]),r[1](e[1])],(u,r)=>{const t=d(u[0],r),n=c(u[1],r);return(0,e.isReduced)(t)||(0,e.isReduced)(n)?(0,e.reduced)([(0,e.unreduced)(t),(0,e.unreduced)(n)]):[t,n]}]}case 3:{const d=u[2],t=r[2],n=c[2];return[()=>[u[0](),r[0](),c[0]()],e=>[u[1](e[0]),r[1](e[1]),c[1](e[2])],(u,r)=>{const c=d(u[0],r),s=t(u[1],r),o=n(u[2],r);return(0,e.isReduced)(c)||(0,e.isReduced)(s)||(0,e.isReduced)(o)?(0,e.reduced)([(0,e.unreduced)(c),(0,e.unreduced)(s),(0,e.unreduced)(o)]):[c,s,o]}]}default:return[()=>d.map(e=>e[0]()),e=>d.map((d,u)=>d[1](e[u])),(u,r)=>{let c=!1;const n=[];for(let s=0;s<t;s++){let t=d[s][2](u[s],r);(0,e.isReduced)(t)&&(c=!0,t=(0,e.unreduced)(t)),n[s]=t}return c?(0,e.reduced)(n):n}]}}
},{"../reduced":"wmkI"}],"p5TN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.lookup3d=exports.lookup2d=exports.lookup1d=void 0;const o=o=>e=>o[e];exports.lookup1d=o;const e=(o,e)=>t=>o[t[0]+t[1]*e];exports.lookup2d=e;const t=(o,e,t)=>{const p=e*t;return t=>o[t[0]+t[1]*e+t[2]*p]};exports.lookup3d=t;
},{}],"kkBf":[function(require,module,exports) {
"use strict";function*e(e){yield*e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.asIterable=e;
},{}],"qlUZ":[function(require,module,exports) {
"use strict";function*e(e,t=1/0){for(;t-- >0;)yield e()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.repeatedly=e;
},{}],"XG5l":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.choices=void 0;var e=require("@thi.ng/arrays"),r=require("@thi.ng/random"),t=require("./repeatedly");const o=(o,i,s=r.SYSTEM)=>(0,t.repeatedly)(i?(0,r.weightedRandom)((0,e.ensureArray)(o),i,s):()=>o[0|s.float(o.length)]);exports.choices=o;
},{"@thi.ng/arrays":"cGHC","@thi.ng/random":"rTK3","./repeatedly":"qlUZ"}],"pi7L":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.concat=r;var e=require("@thi.ng/arrays");function*r(...r){for(let t of r)null!=t&&(yield*(0,e.ensureIterable)(t))}
},{"@thi.ng/arrays":"cGHC"}],"l4Xp":[function(require,module,exports) {
"use strict";function*e(e,t,o=10,r=.1){const s=Math.exp(-Math.log((Math.abs(t-e)+r)/r)/o),l=(e<t?t+r:t-r)*(1-s);o>0&&(yield e);for(let a=e;--o>=0;)yield a=l+a*s}Object.defineProperty(exports,"__esModule",{value:!0}),exports.curve=e;
},{}],"YQVn":[function(require,module,exports) {
"use strict";function*e(e,t=1/0){if(t<1)return;let r=[];for(let l of e)r.push(l),yield l;if(r.length>0)for(;--t>0;)yield*r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.cycle=e;
},{}],"IGbS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dup=c;var r=require("@thi.ng/arrays"),e=require("@thi.ng/checks"),t=require("./concat");function c(c){return(0,e.isString)(c)?c+c:(0,e.isArray)(c)?c.concat(c):(c=(0,r.ensureArray)(c),(0,t.concat)(c,c))}
},{"@thi.ng/arrays":"cGHC","@thi.ng/checks":"HctC","./concat":"pi7L"}],"Mxpb":[function(require,module,exports) {
"use strict";function*e(e,t=1/0){for(;t-- >0;)yield e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.repeat=e;
},{}],"eNc8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.extendSides=t;var e=require("@thi.ng/api"),r=require("./repeat");function*t(t,i=1,d=i){let l=e.SEMAPHORE;for(let o of t)i>0&&l===e.SEMAPHORE&&(yield*(0,r.repeat)(o,i),i=0),yield o,l=o;d>0&&l!==e.SEMAPHORE&&(yield*(0,r.repeat)(l,d))}
},{"@thi.ng/api":"AsNk","./repeat":"Mxpb"}],"fbhQ":[function(require,module,exports) {
"use strict";function*e(e,t,r=1/0){let o=0;for(;o<r;)yield t,t=e(t,++o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.iterate=e;
},{}],"kq6U":[function(require,module,exports) {
"use strict";function*e(e){for(let r in e)e.hasOwnProperty(r)&&(yield[r,e[r]])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.pairs=e;
},{}],"Oyqb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.permutations=n,exports.permutationsN=void 0;var e=require("@thi.ng/arrays"),r=require("@thi.ng/errors"),t=require("./range");function*n(...r){const t=r.length-1;if(t<0)return;const n=new Array(t+1).fill(0),o=r.map(e.ensureArrayLike),s=o.reduce((e,r)=>e*r.length,1);for(let e=0;e<s;e++){const e=[];for(let r=t;r>=0;r--){const t=o[r];let s=n[r];s===t.length&&(n[r]=s=0,r>0&&n[r-1]++),e[r]=t[s]}n[t]++,yield e}}const o=(e,o=e,s)=>{s&&s.length<e&&(0,r.illegalArgs)(`insufficient offsets, got ${s.length}, needed ${e}`);const i=[];for(;--e>=0;){const r=s?s[e]:0;i[e]=(0,t.range)(r,r+o)}return n.apply(null,i)};exports.permutationsN=o;
},{"@thi.ng/arrays":"cGHC","@thi.ng/errors":"Qv5j","./range":"ndcf"}],"f68B":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.keyPermutations=void 0;var r=require("../rfn/assoc-obj"),e=require("../xform/map"),t=require("../xform/mapcat"),i=require("../xform/partition"),o=require("./pairs"),a=require("./permutations");const s=s=>(0,e.map)(e=>(0,r.assocObj)((0,i.partition)(2,e)),(0,a.permutations)(...(0,t.mapcat)(([r,e])=>[[r],e],(0,o.pairs)(s))));exports.keyPermutations=s;
},{"../rfn/assoc-obj":"TDT0","../xform/map":"fBkP","../xform/mapcat":"gEP1","../xform/partition":"WCS9","./pairs":"kq6U","./permutations":"Oyqb"}],"w2k1":[function(require,module,exports) {
"use strict";function*e(e){for(let t in e)e.hasOwnProperty(t)&&(yield t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.keys=e;
},{}],"mGRq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.line=void 0;var e=require("../xform/map"),r=require("./norm-range");const o=(o,n,t=10)=>{const s=n-o;return(0,e.map)(e=>o+s*e,(0,r.normRange)(t))};exports.line=o;
},{"../xform/map":"fBkP","./norm-range":"BqjZ"}],"fexd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.padSides=void 0;var e=require("./concat"),t=require("./repeat");const r=(r,a,c=1,o=c)=>c>0?o>0?(0,e.concat)((0,t.repeat)(a,c),r,(0,t.repeat)(a,o)):(0,e.concat)((0,t.repeat)(a,c),r):o>0?(0,e.concat)(r,(0,t.repeat)(a,o)):(0,e.concat)(r);exports.padSides=r;
},{"./concat":"pi7L","./repeat":"Mxpb"}],"Nwyj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.reverse=r;var e=require("@thi.ng/arrays");function*r(r){const t=(0,e.ensureArray)(r);let s=t.length;for(;--s>=0;)yield t[s]}
},{"@thi.ng/arrays":"cGHC"}],"vFvL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.palindrome=c;var e=require("@thi.ng/arrays"),r=require("@thi.ng/checks"),s=require("../rfn/str"),t=require("./concat"),i=require("./reverse");function c(c){return(0,r.isString)(c)?(0,s.str)("",(0,t.concat)([c],(0,i.reverse)(c))):(0,r.isArray)(c)?c.concat(c.slice().reverse()):(c=(0,e.ensureArray)(c),(0,t.concat)(c,(0,i.reverse)(c)))}
},{"@thi.ng/arrays":"cGHC","@thi.ng/checks":"HctC","../rfn/str":"OHsj","./concat":"pi7L","./reverse":"Nwyj"}],"gXFH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.range3d=t;var e=require("@thi.ng/errors"),r=require("./range");function*t(...t){let a,l,o,n,s,i,f,g,c;switch(t.length){case 9:o=t[6],i=t[7],c=t[8];case 6:[a,l,n,s,f,g]=t;break;case 3:[l,s,g]=t,a=n=f=0;break;default:(0,e.illegalArity)(t.length)}const u=(0,r.range)(a,l,o),d=(0,r.range)(n,s,i);for(let e of(0,r.range)(f,g,c))for(let r of d)for(let t of u)yield[t,r,e]}
},{"@thi.ng/errors":"Qv5j","./range":"ndcf"}],"mbAY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rangeNd=void 0;var e=require("../xform/map"),r=require("./permutations"),a=require("./range"),p=require("./zip");const t=(t,i)=>r.permutations.apply(null,i?[...(0,e.map)(([e,r])=>(0,a.range)(e,r),(0,p.zip)(t,i))]:[...(0,e.map)(a.range,t)]);exports.rangeNd=t;
},{"../xform/map":"fBkP","./permutations":"Oyqb","./range":"ndcf","./zip":"rJmY"}],"FG6L":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sortedKeys=r;var e=require("@thi.ng/compare");function*r(r,t=e.compare){yield*Object.keys(r).sort(t)}
},{"@thi.ng/compare":"kNRw"}],"lmsU":[function(require,module,exports) {
"use strict";function*e(e){let t=void 0;for(let o of e)t={x:o,n:t},yield o;for(;t;)yield t.x,t=t.n}Object.defineProperty(exports,"__esModule",{value:!0}),exports.symmetric=e;
},{}],"laWD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.tween=r;var e=require("./norm-range"),t=require("./repeat");function*r(r){const{min:n,max:i,num:o,init:s,mix:u,stops:l}=r,a=r.easing||(e=>e);let f=l.length;if(f<1)return;1===f&&(yield*(0,t.repeat)(u(s(l[0][1],l[0][1]),0),o)),l.sort((e,t)=>e[0]-t[0]),l[f-1][0]<i&&l.push([i,l[f-1][1]]),l[0][0]>n&&l.unshift([n,l[0][1]]);const p=i-n;let m=l[0][0],c=l[1][0],g=c-m,d=s(l[0][1],l[1][1]),h=1;f=l.length;for(let t of(0,e.normRange)(o)){if((t=n+p*t)>c){for(;h<f&&t>l[h][0];)h++;m=l[h-1][0],g=(c=l[h][0])-m,d=s(l[h-1][1],l[h][1])}yield u(d,a(0!==g?(t-m)/g:0))}}
},{"./norm-range":"BqjZ","./repeat":"Mxpb"}],"YHVg":[function(require,module,exports) {
"use strict";function*e(e){for(let t in e)e.hasOwnProperty(t)&&(yield e[t])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.vals=e;
},{}],"shs6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.wrapSides=t;var e=require("@thi.ng/arrays"),r=require("@thi.ng/errors"),i=require("@thi.ng/math");function*t(t,n=1,l=n){const a=(0,e.ensureArray)(t);if((!(0,i.inRange)(n,0,a.length)||!(0,i.inRange)(l,0,a.length))&&(0,r.illegalArgs)(`allowed wrap range: [0..${a.length}]`),n>0)for(let e=a.length,r=e-n;r<e;r++)yield a[r];if(yield*a,l>0)for(let e=0;e<l;e++)yield a[e]}
},{"@thi.ng/arrays":"cGHC","@thi.ng/errors":"Qv5j","@thi.ng/math":"UBbf"}],"ntmJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./api");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});var r=require("./iterator");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var t=require("./reduce");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});var o=require("./reduced");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===o[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}}))});var n=require("./run");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===n[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}}))});var u=require("./step");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===u[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}}))});var f=require("./transduce");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===f[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}}))});var i=require("./rfn/add");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===i[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}}))});var s=require("./rfn/assoc-map");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===s[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}}))});var c=require("./rfn/assoc-obj");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===c[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}}))});var a=require("./rfn/auto-obj");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===a[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}}))});var p=require("./rfn/conj");Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===p[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return p[e]}}))});var x=require("./rfn/count");Object.keys(x).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===x[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return x[e]}}))});var l=require("./rfn/div");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===l[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return l[e]}}))});var d=require("./rfn/every");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===d[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return d[e]}}))});var b=require("./rfn/fill");Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===b[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return b[e]}}))});var y=require("./rfn/frequencies");Object.keys(y).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===y[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return y[e]}}))});var j=require("./rfn/group-binary");Object.keys(j).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===j[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return j[e]}}))});var _=require("./rfn/group-by-map");Object.keys(_).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===_[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _[e]}}))});var O=require("./rfn/group-by-obj");Object.keys(O).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===O[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return O[e]}}))});var m=require("./rfn/last");Object.keys(m).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===m[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return m[e]}}))});var g=require("./rfn/max");Object.keys(g).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===g[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return g[e]}}))});var h=require("./rfn/max-compare");Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===h[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return h[e]}}))});var k=require("./rfn/max-mag");Object.keys(k).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===k[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return k[e]}}))});var v=require("./rfn/mean");Object.keys(v).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===v[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return v[e]}}))});var q=require("./rfn/min");Object.keys(q).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===q[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return q[e]}}))});var M=require("./rfn/min-compare");Object.keys(M).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===M[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return M[e]}}))});var P=require("./rfn/min-mag");Object.keys(P).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===P[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return P[e]}}))});var E=require("./rfn/mul");Object.keys(E).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===E[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return E[e]}}))});var w=require("./rfn/push");Object.keys(w).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===w[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return w[e]}}))});var z=require("./rfn/push-copy");Object.keys(z).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===z[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return z[e]}}))});var A=require("./rfn/push-sort");Object.keys(A).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===A[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return A[e]}}))});var B=require("./rfn/reductions");Object.keys(B).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===B[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return B[e]}}))});var C=require("./rfn/some");Object.keys(C).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===C[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return C[e]}}))});var D=require("./rfn/str");Object.keys(D).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===D[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return D[e]}}))});var F=require("./rfn/sub");Object.keys(F).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===F[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return F[e]}}))});var G=require("./xform/benchmark");Object.keys(G).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===G[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return G[e]}}))});var H=require("./xform/cat");Object.keys(H).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===H[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return H[e]}}))});var I=require("./xform/converge");Object.keys(I).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===I[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return I[e]}}))});var J=require("./xform/convolve");Object.keys(J).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===J[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return J[e]}}))});var K=require("./xform/dedupe");Object.keys(K).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===K[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return K[e]}}))});var L=require("./xform/delayed");Object.keys(L).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===L[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return L[e]}}))});var N=require("./xform/distinct");Object.keys(N).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===N[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return N[e]}}))});var Q=require("./xform/drop-nth");Object.keys(Q).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Q[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Q[e]}}))});var R=require("./xform/drop-while");Object.keys(R).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===R[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return R[e]}}))});var S=require("./xform/drop");Object.keys(S).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===S[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return S[e]}}))});var T=require("./xform/duplicate");Object.keys(T).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===T[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return T[e]}}))});var U=require("./xform/filter");Object.keys(U).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===U[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return U[e]}}))});var V=require("./xform/filter-fuzzy");Object.keys(V).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===V[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return V[e]}}))});var W=require("./xform/flatten-with");Object.keys(W).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===W[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return W[e]}}))});var X=require("./xform/flatten");Object.keys(X).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===X[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return X[e]}}))});var Y=require("./xform/indexed");Object.keys(Y).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Y[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Y[e]}}))});var Z=require("./xform/interleave");Object.keys(Z).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Z[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Z[e]}}))});var $=require("./xform/interpolate");Object.keys($).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===$[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return $[e]}}))});var ee=require("./xform/interpolate-hermite");Object.keys(ee).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===ee[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ee[e]}}))});var re=require("./xform/interpolate-linear");Object.keys(re).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===re[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return re[e]}}))});var te=require("./xform/interpose");Object.keys(te).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===te[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return te[e]}}))});var oe=require("./xform/keep");Object.keys(oe).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===oe[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return oe[e]}}))});var ne=require("./xform/labeled");Object.keys(ne).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===ne[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ne[e]}}))});var ue=require("./xform/map-deep");Object.keys(ue).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===ue[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ue[e]}}))});var fe=require("./xform/map-indexed");Object.keys(fe).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===fe[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return fe[e]}}))});var ie=require("./xform/map-keys");Object.keys(ie).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===ie[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ie[e]}}))});var se=require("./xform/map-nth");Object.keys(se).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===se[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return se[e]}}))});var ce=require("./xform/map-vals");Object.keys(ce).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===ce[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ce[e]}}))});var ae=require("./xform/map");Object.keys(ae).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===ae[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ae[e]}}))});var pe=require("./xform/mapcat");Object.keys(pe).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===pe[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return pe[e]}}))});var xe=require("./xform/mapcat-indexed");Object.keys(xe).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===xe[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return xe[e]}}))});var le=require("./xform/match-first");Object.keys(le).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===le[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return le[e]}}))});var de=require("./xform/match-last");Object.keys(de).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===de[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return de[e]}}))});var be=require("./xform/moving-average");Object.keys(be).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===be[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return be[e]}}))});var ye=require("./xform/moving-median");Object.keys(ye).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===ye[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ye[e]}}))});var je=require("./xform/multiplex");Object.keys(je).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===je[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return je[e]}}))});var _e=require("./xform/multiplex-obj");Object.keys(_e).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===_e[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _e[e]}}))});var Oe=require("./xform/noop");Object.keys(Oe).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Oe[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Oe[e]}}))});var me=require("./xform/pad-last");Object.keys(me).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===me[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return me[e]}}))});var ge=require("./xform/page");Object.keys(ge).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===ge[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ge[e]}}))});var he=require("./xform/partition-by");Object.keys(he).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===he[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return he[e]}}))});var ke=require("./xform/partition-of");Object.keys(ke).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===ke[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ke[e]}}))});var ve=require("./xform/partition-sort");Object.keys(ve).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===ve[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ve[e]}}))});var qe=require("./xform/partition-sync");Object.keys(qe).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===qe[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return qe[e]}}))});var Me=require("./xform/partition-time");Object.keys(Me).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Me[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Me[e]}}))});var Pe=require("./xform/partition-when");Object.keys(Pe).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Pe[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Pe[e]}}))});var Ee=require("./xform/partition");Object.keys(Ee).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Ee[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ee[e]}}))});var we=require("./xform/peek");Object.keys(we).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===we[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return we[e]}}))});var ze=require("./xform/pluck");Object.keys(ze).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===ze[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ze[e]}}))});var Ae=require("./xform/rename");Object.keys(Ae).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Ae[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ae[e]}}))});var Be=require("./xform/sample");Object.keys(Be).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Be[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Be[e]}}))});var Ce=require("./xform/scan");Object.keys(Ce).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Ce[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ce[e]}}))});var De=require("./xform/select-keys");Object.keys(De).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===De[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return De[e]}}))});var Fe=require("./xform/side-effect");Object.keys(Fe).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Fe[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Fe[e]}}))});var Ge=require("./xform/sliding-window");Object.keys(Ge).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Ge[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ge[e]}}))});var He=require("./xform/stream-shuffle");Object.keys(He).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===He[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return He[e]}}))});var Ie=require("./xform/stream-sort");Object.keys(Ie).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Ie[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ie[e]}}))});var Je=require("./xform/struct");Object.keys(Je).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Je[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Je[e]}}))});var Ke=require("./xform/swizzle");Object.keys(Ke).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Ke[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ke[e]}}))});var Le=require("./xform/take-nth");Object.keys(Le).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Le[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Le[e]}}))});var Ne=require("./xform/take-last");Object.keys(Ne).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Ne[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ne[e]}}))});var Qe=require("./xform/take-while");Object.keys(Qe).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Qe[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Qe[e]}}))});var Re=require("./xform/take");Object.keys(Re).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Re[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Re[e]}}))});var Se=require("./xform/throttle");Object.keys(Se).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Se[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Se[e]}}))});var Te=require("./xform/throttle-time");Object.keys(Te).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Te[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Te[e]}}))});var Ue=require("./xform/toggle");Object.keys(Ue).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Ue[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ue[e]}}))});var Ve=require("./xform/trace");Object.keys(Ve).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Ve[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ve[e]}}))});var We=require("./xform/word-wrap");Object.keys(We).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===We[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return We[e]}}))});var Xe=require("./func/comp");Object.keys(Xe).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Xe[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Xe[e]}}))});var Ye=require("./func/compr");Object.keys(Ye).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Ye[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ye[e]}}))});var Ze=require("./func/deep-transform");Object.keys(Ze).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Ze[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ze[e]}}))});var $e=require("./func/juxtr");Object.keys($e).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===$e[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return $e[e]}}))});var er=require("./func/key-selector");Object.keys(er).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===er[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return er[e]}}))});var rr=require("./func/lookup");Object.keys(rr).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===rr[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return rr[e]}}))});var tr=require("./func/renamer");Object.keys(tr).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===tr[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return tr[e]}}))});var or=require("./iter/as-iterable");Object.keys(or).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===or[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return or[e]}}))});var nr=require("./iter/choices");Object.keys(nr).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===nr[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return nr[e]}}))});var ur=require("./iter/concat");Object.keys(ur).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===ur[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ur[e]}}))});var fr=require("./iter/curve");Object.keys(fr).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===fr[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return fr[e]}}))});var ir=require("./iter/cycle");Object.keys(ir).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===ir[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ir[e]}}))});var sr=require("./iter/dup");Object.keys(sr).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===sr[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return sr[e]}}))});var cr=require("./iter/extend-sides");Object.keys(cr).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===cr[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return cr[e]}}))});var ar=require("./iter/iterate");Object.keys(ar).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===ar[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return ar[e]}}))});var pr=require("./iter/key-permutations");Object.keys(pr).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===pr[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return pr[e]}}))});var xr=require("./iter/keys");Object.keys(xr).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===xr[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return xr[e]}}))});var lr=require("./iter/line");Object.keys(lr).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===lr[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return lr[e]}}))});var dr=require("./iter/norm-range");Object.keys(dr).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===dr[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return dr[e]}}))});var br=require("./iter/pad-sides");Object.keys(br).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===br[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return br[e]}}))});var yr=require("./iter/palindrome");Object.keys(yr).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===yr[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return yr[e]}}))});var jr=require("./iter/pairs");Object.keys(jr).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===jr[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return jr[e]}}))});var _r=require("./iter/permutations");Object.keys(_r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===_r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return _r[e]}}))});var Or=require("./iter/range");Object.keys(Or).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Or[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Or[e]}}))});var mr=require("./iter/range2d");Object.keys(mr).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===mr[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return mr[e]}}))});var gr=require("./iter/range3d");Object.keys(gr).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===gr[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return gr[e]}}))});var hr=require("./iter/range-nd");Object.keys(hr).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===hr[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return hr[e]}}))});var kr=require("./iter/repeat");Object.keys(kr).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===kr[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return kr[e]}}))});var vr=require("./iter/repeatedly");Object.keys(vr).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===vr[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return vr[e]}}))});var qr=require("./iter/reverse");Object.keys(qr).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===qr[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return qr[e]}}))});var Mr=require("./iter/sorted-keys");Object.keys(Mr).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Mr[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Mr[e]}}))});var Pr=require("./iter/symmetric");Object.keys(Pr).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Pr[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Pr[e]}}))});var Er=require("./iter/tween");Object.keys(Er).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Er[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Er[e]}}))});var wr=require("./iter/vals");Object.keys(wr).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===wr[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return wr[e]}}))});var zr=require("./iter/wrap-sides");Object.keys(zr).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===zr[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return zr[e]}}))});var Ar=require("./iter/zip");Object.keys(Ar).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===Ar[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return Ar[e]}}))});
},{"./api":"IIwj","./iterator":"FSoq","./reduce":"hay8","./reduced":"wmkI","./run":"TrOB","./step":"KHPz","./transduce":"O6O3","./rfn/add":"DNzN","./rfn/assoc-map":"e0Ul","./rfn/assoc-obj":"TDT0","./rfn/auto-obj":"MDsW","./rfn/conj":"JlsD","./rfn/count":"n9G6","./rfn/div":"plMW","./rfn/every":"eUq5","./rfn/fill":"kAV5","./rfn/frequencies":"Ik92","./rfn/group-binary":"zZIj","./rfn/group-by-map":"u4d5","./rfn/group-by-obj":"KupN","./rfn/last":"pFJf","./rfn/max":"LAGn","./rfn/max-compare":"eOls","./rfn/max-mag":"FVps","./rfn/mean":"R84Q","./rfn/min":"aZ1b","./rfn/min-compare":"OrDh","./rfn/min-mag":"Gb1q","./rfn/mul":"cwhU","./rfn/push":"xJML","./rfn/push-copy":"nd4j","./rfn/push-sort":"L1zx","./rfn/reductions":"vhuO","./rfn/some":"BWxf","./rfn/str":"OHsj","./rfn/sub":"bWaZ","./xform/benchmark":"TeGF","./xform/cat":"XFQx","./xform/converge":"DdWQ","./xform/convolve":"eq8Y","./xform/dedupe":"tm7A","./xform/delayed":"pCRw","./xform/distinct":"bj39","./xform/drop-nth":"ao7H","./xform/drop-while":"hQVd","./xform/drop":"ouQu","./xform/duplicate":"KyNU","./xform/filter":"Srlq","./xform/filter-fuzzy":"pnui","./xform/flatten-with":"jOUa","./xform/flatten":"K478","./xform/indexed":"Vl3R","./xform/interleave":"m3sl","./xform/interpolate":"ex58","./xform/interpolate-hermite":"AH7D","./xform/interpolate-linear":"Jnuu","./xform/interpose":"i6D1","./xform/keep":"iXIn","./xform/labeled":"UcmY","./xform/map-deep":"rHLo","./xform/map-indexed":"MQMZ","./xform/map-keys":"omGR","./xform/map-nth":"O419","./xform/map-vals":"Hddo","./xform/map":"fBkP","./xform/mapcat":"gEP1","./xform/mapcat-indexed":"uBI7","./xform/match-first":"GO3g","./xform/match-last":"MGxr","./xform/moving-average":"cIjO","./xform/moving-median":"mxuv","./xform/multiplex":"qDGZ","./xform/multiplex-obj":"wUYq","./xform/noop":"SgZW","./xform/pad-last":"YNK6","./xform/page":"jwxl","./xform/partition-by":"GWyt","./xform/partition-of":"uJgc","./xform/partition-sort":"t8Nq","./xform/partition-sync":"PhTR","./xform/partition-time":"ZaOi","./xform/partition-when":"Umis","./xform/partition":"WCS9","./xform/peek":"HWTz","./xform/pluck":"ntK2","./xform/rename":"oWVg","./xform/sample":"OT2h","./xform/scan":"C46c","./xform/select-keys":"n1Y1","./xform/side-effect":"XCkK","./xform/sliding-window":"uqRa","./xform/stream-shuffle":"JXLY","./xform/stream-sort":"ITJe","./xform/struct":"KY3O","./xform/swizzle":"zIOH","./xform/take-nth":"SeeH","./xform/take-last":"eHWT","./xform/take-while":"zm7Q","./xform/take":"ZLdz","./xform/throttle":"dKhC","./xform/throttle-time":"r8bV","./xform/toggle":"F3Xo","./xform/trace":"urik","./xform/word-wrap":"EUGr","./func/comp":"ZHil","./func/compr":"ZoN0","./func/deep-transform":"uSZO","./func/juxtr":"QUQK","./func/key-selector":"o5Mm","./func/lookup":"p5TN","./func/renamer":"wip7","./iter/as-iterable":"kkBf","./iter/choices":"XG5l","./iter/concat":"pi7L","./iter/curve":"l4Xp","./iter/cycle":"YQVn","./iter/dup":"IGbS","./iter/extend-sides":"eNc8","./iter/iterate":"fbhQ","./iter/key-permutations":"f68B","./iter/keys":"w2k1","./iter/line":"mGRq","./iter/norm-range":"BqjZ","./iter/pad-sides":"fexd","./iter/palindrome":"vFvL","./iter/pairs":"kq6U","./iter/permutations":"Oyqb","./iter/range":"ndcf","./iter/range2d":"xkJV","./iter/range3d":"gXFH","./iter/range-nd":"mbAY","./iter/repeat":"Mxpb","./iter/repeatedly":"qlUZ","./iter/reverse":"Nwyj","./iter/sorted-keys":"FG6L","./iter/symmetric":"lmsU","./iter/tween":"laWD","./iter/vals":"YHVg","./iter/wrap-sides":"shs6","./iter/zip":"rJmY"}],"jO2L":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.base64Decode=s,exports.base64Encode=n;var e=require("@thi.ng/transducers");const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=r.substr(0,62)+"-_";function s(t){return t?(0,e.iterator1)(s(),t):t=>{const s=t[2];let n=0,c=0;return(0,e.compR)(t,(t,u)=>{switch(u){case"-":u="+";break;case"_":u="/";break;case"=":return(0,e.reduced)(t)}let a=r.indexOf(u);return c=3&n?(c<<6)+a:a,3&n++&&(t=s(t,255&c>>(-2*n&6))),t})}}function n(...s){const c=(0,e.$iter)(n,s,e.iterator);return c?[...c].join(""):([n,c,u])=>{let a,i=0;const o=Object.assign({safe:!1,buffer:1024},s[0]),f=o.safe?t:r,d=[];return[n,r=>{switch(i){case 1:d.push(f[a>>18&63],f[a>>12&63],"=","=");break;case 2:d.push(f[a>>18&63],f[a>>12&63],f[a>>6&63],"=")}for(;d.length&&!(0,e.isReduced)(r);)r=u(r,d.shift());return c(r)},(r,t)=>{switch(i){case 0:i=1,a=t<<16;break;case 1:i=2,a+=t<<8;break;default:if(i=0,a+=t,d.push(f[a>>18&63],f[a>>12&63],f[a>>6&63],f[63&a]),d.length>=o.buffer){for(let t=0,s=d.length;t<s&&!(0,e.isReduced)(r);t++)r=u(r,d[t]);d.length=0}}return r}]}}
},{"@thi.ng/transducers":"ntmJ"}],"CQ38":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isAligned=exports.align=void 0;const e=(e,s)=>(s--,e+s&~s);exports.align=e;const s=(e,s)=>!(e&s-1);exports.isAligned=s;
},{}],"kT64":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.u32f32=exports.u24f32=exports.u16f32=exports.u8f32=exports.f32u32=exports.f32u24=exports.f32u16=exports.f32u8=exports.floatToSortableInt=exports.uintBitsToFloat64=exports.intBitsToFloat64=exports.floatToUintBits64=exports.floatToIntBits64=exports.uintBitsToFloat=exports.intBitsToFloat=exports.floatToUintBits=exports.floatToIntBits=exports.IS_LE=void 0;const t=new Float64Array(1),o=new Float32Array(t.buffer),s=new Int32Array(t.buffer),e=new Uint32Array(t.buffer),r=(t[0]=2,1073741824===e[1]);exports.IS_LE=r;const n=t=>(o[0]=t,s[0]);exports.floatToIntBits=n;const p=t=>(o[0]=t,e[0]);exports.floatToUintBits=p;const x=t=>(s[0]=t,o[0]);exports.intBitsToFloat=x;const f=t=>(e[0]=t,o[0]);exports.uintBitsToFloat=f;const i=o=>(t[0]=o,r?[s[1],s[0]]:[s[0],s[1]]);exports.floatToIntBits64=i;const a=o=>(t[0]=o,r?[e[1],e[0]]:[e[0],e[1]]);exports.floatToUintBits64=a;const u=(o,e)=>(r?(s[1]=o,s[0]=e):(s[0]=o,s[1]=e),t[0]);exports.intBitsToFloat64=u;const l=(o,s)=>(r?(e[1]=o,e[0]=s):(e[0]=o,e[1]=s),t[0]);exports.uintBitsToFloat64=l;const c=t=>{-0===t&&(t=0);const o=n(t);return t<0?~o|1<<31:o};exports.floatToSortableInt=c;const T=t=>t<-1?-1:t>1?1:t,B=t=>127*T(t)&255;exports.f32u8=B;const F=t=>32767*T(t)&65535;exports.f32u16=F;const I=t=>8388607*T(t)&16777215;exports.f32u24=I;const b=t=>2147483647*T(t)>>>0;exports.f32u32=b;const y=t=>(t&=255,(t|4294967040*(t>>7))/127);exports.u8f32=y;const U=t=>(t&=65535,(t|4294901760*(t>>15))/32767);exports.u16f32=U;const w=t=>(t&=16777215,(t|4278190080*(t>>23))/8388607);exports.u24f32=w;const A=t=>(0|t)/2147483647;exports.u32f32=A;
},{}],"eZpf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bytesF64=exports.bytesF32=exports.bytes64=exports.bytes32=exports.bytes24=exports.bytes16=void 0;var t=require("./float");const s=(t,s=!1)=>{const e=255&t,o=t>>8&255;return s?[e,o]:[o,e]};exports.bytes16=s;const e=(t,s=!1)=>{const e=255&t,o=t>>8&255,r=t>>16&255;return s?[e,o,r]:[r,o,e]};exports.bytes24=e;const o=(t,s=!1)=>{const e=255&t,o=t>>8&255,r=t>>16&255,n=t>>24&255;return s?[e,o,r,n]:[n,r,o,e]};exports.bytes32=o;const r=(t,s,e=!1)=>e?o(s,e).concat(o(t,e)):o(t,e).concat(o(s,e));exports.bytes64=r;const n=(s,e=!1)=>o((0,t.floatToUintBits)(s),e);exports.bytesF32=n;const c=(s,e=!1)=>r(...(0,t.floatToUintBits64)(s),e);exports.bytesF64=c;
},{"./float":"kT64"}],"V9gr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MASKS=exports.MSB_BITS32=exports.MSB_BITS16=exports.MSB_BITS8=void 0;const e=e=>new Array(e).fill(0).map((t,o)=>1<<e-1-o),t=e(8);exports.MSB_BITS8=t;const o=e(16);exports.MSB_BITS16=o;const r=e(32);exports.MSB_BITS32=r;const s=new Array(33).fill(0).map((e,t)=>Math.pow(2,t)-1);exports.MASKS=s;
},{}],"ycmp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bitSize=exports.ctz32=exports.clz32=exports.hammingDist=exports.popCount=void 0;const t=t=>(t-=t>>>1&1431655765,t=(858993459&t)+(t>>>2&858993459),16843009*(t+(t>>>4)&252645135)>>>24);exports.popCount=t;const o=(o,e)=>t(o^e);exports.hammingDist=o;const e=t=>0!==t?31-(Math.log(t>>>0)/Math.LN2|0):32;exports.clz32=e;const s=t=>{let o=32;return(t&=-t)&&o--,65535&t&&(o-=16),16711935&t&&(o-=8),252645135&t&&(o-=4),858993459&t&&(o-=2),1431655765&t&&(o-=1),o};exports.ctz32=s;const p=t=>t>1?Math.ceil(Math.log2(t)):0;exports.bitSize=p;
},{}],"yv4p":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.maskH=exports.maskL=exports.defMask=void 0;var s=require("./constants");const e=(e,t)=>(~s.MASKS[e]&s.MASKS[t])>>>0;exports.defMask=e;const t=(e,t)=>(t&s.MASKS[e])>>>0;exports.maskL=t;const o=(e,t)=>(t&~s.MASKS[e])>>>0;exports.maskH=o;
},{"./constants":"V9gr"}],"OUuY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bitClearWindow=exports.bitSetWindow=exports.bitSet=exports.bitFlip=exports.bitClear=void 0;var t=require("./mask");const e=(t,e)=>(t&~(1<<e))>>>0;exports.bitClear=e;const o=(t,e)=>(t^1<<e)>>>0;exports.bitFlip=o;const r=(t,e)=>(t|1<<e)>>>0;exports.bitSet=r;const s=(e,o,r,s)=>{const i=(0,t.defMask)(r,s);return e&~i|o<<(1<<r)&i};exports.bitSetWindow=s;const i=(e,o,r)=>e&~(0,t.defMask)(o,r);exports.bitClearWindow=i;
},{"./mask":"yv4p"}],"lHZN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.decodeGray32=exports.encodeGray32=void 0;const e=e=>(e^e>>>1)>>>0;exports.encodeGray32=e;const o=e=>(e^=e>>>16,e^=e>>>8,e^=e>>>4,e^=e>>>2,(e^=e>>>1)>>>0);exports.decodeGray32=o;
},{}],"taxf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bitDemuxM=exports.bitMuxM=exports.bitOai22M=exports.bitAoi22M=exports.bitOai21M=exports.bitAoi21M=exports.bitImplyM=exports.bitXnorM=exports.bitXorM=exports.bitNorM=exports.bitOrM=exports.bitNandM=exports.bitAndM=exports.bitNotM=exports.bitDemux=exports.bitMux=exports.bitOai22=exports.bitAoi22=exports.bitOai21=exports.bitAoi21=exports.bitImply=exports.bitXnor=exports.bitXor=exports.bitNor=exports.bitOr=exports.bitNand=exports.bitAnd=exports.bitNot=void 0;var t=require("./mask");const o=t=>~t;exports.bitNot=o;const s=(t,o)=>t&o;exports.bitAnd=s;const r=(t,o)=>~(t&o);exports.bitNand=r;const i=(t,o)=>t|o;exports.bitOr=i;const e=(t,o)=>~(t|o);exports.bitNor=e;const x=(t,o)=>t^o;exports.bitXor=x;const p=(t,o)=>~(t^o);exports.bitXnor=p;const b=(t,o)=>~t|o;exports.bitImply=b;const n=(t,o,s)=>~(t|o&s);exports.bitAoi21=n;const M=(t,o,s)=>~(t&(o|s));exports.bitOai21=M;const a=(t,o,s,r)=>~(t&o|s&r);exports.bitAoi22=a;const c=(t,o,s,r)=>~((t|o)&(s|r));exports.bitOai22=c;const m=(t,o,s)=>(t&~s|o&s)>>>0;exports.bitMux=m;const k=(t,o,s)=>[(t&~s)>>>0,(o&s)>>>0];exports.bitDemux=k;const L=(o,s)=>(0,t.maskL)(o,~s);exports.bitNotM=L;const O=(o,s,r)=>(0,t.maskL)(o,s&r);exports.bitAndM=O;const u=(o,s,r)=>(0,t.maskL)(o,~(s&r));exports.bitNandM=u;const A=(o,s,r)=>(0,t.maskL)(o,s|r);exports.bitOrM=A;const N=(o,s,r)=>(0,t.maskL)(o,~(s|r));exports.bitNorM=N;const d=(o,s,r)=>(0,t.maskL)(o,s^r);exports.bitXorM=d;const X=(o,s,r)=>(0,t.maskL)(o,~(s^r));exports.bitXnorM=X;const l=(o,s,r)=>(0,t.maskL)(o,~s|r);exports.bitImplyM=l;const y=(o,s,r,i)=>(0,t.maskL)(o,~(s|r&i));exports.bitAoi21M=y;const D=(o,s,r,i)=>(0,t.maskL)(o,~(s&(r|i)));exports.bitOai21M=D;const I=(o,s,r,i,e)=>(0,t.maskL)(o,~(s&r|i&e));exports.bitAoi22M=I;const v=(o,s,r,i,e)=>(0,t.maskL)(o,~((s|r)&(i|e)));exports.bitOai22M=v;const _=(o,s,r,i)=>(0,t.maskL)(o,s&~i|r&i);exports.bitMuxM=_;const f=(o,s,r,i)=>[(0,t.maskL)(o,s&~i),(0,t.maskL)(o,r&i)];exports.bitDemuxM=f;
},{"./mask":"yv4p"}],"Z6qX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.oneHotBinary=exports.binaryOneHot=void 0;var e=require("./count");const o=e=>1<<e>>>0;exports.binaryOneHot=o;const t=o=>31-(0,e.clz32)(o);exports.oneHotBinary=t;
},{"./count":"ycmp"}],"WXHW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.floorPow2=exports.ceilPow2=exports.isPow2=void 0;const o=o=>!(!o||o&o-1);exports.isPow2=o;const e=o=>(o+=0===o,--o,o|=o>>>1,o|=o>>>2,o|=o>>>4,o|=o>>>8,(o|=o>>>16)+1);exports.ceilPow2=e;const s=o=>(o|=o>>>1,o|=o>>>2,o|=o>>>4,o|=o>>>8,(o|=o>>>16)-(o>>>1));exports.floorPow2=s;
},{}],"Vu6r":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rotateRight=exports.rotateLeft=void 0;const t=(t,e)=>(t<<e|t>>>32-e)>>>0;exports.rotateLeft=t;const e=(t,e)=>(t>>>e|t<<32-e)>>>0;exports.rotateRight=e;
},{}],"unVs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.interleave4_16_32=exports.interleave4_12_24=exports.same8=exports.same4=exports.splat16_32=exports.splat8_32=exports.splat8_24=exports.splat4_32=exports.splat4_24=void 0;const t=t=>1118481*(15&t);exports.splat4_24=t;const s=t=>286331153*(15&t)>>>0;exports.splat4_32=s;const e=t=>65793*(255&t);exports.splat8_24=e;const o=t=>16843009*(255&t)>>>0;exports.splat8_32=o;const p=t=>(t&=65535,(t<<16|t)>>>0);exports.splat16_32=p;const r=t=>(t>>4&15)==(15&t);exports.same4=r;const _=t=>(t>>8&255)==(255&t);exports.same8=_;const a=t=>4352*(3840&t)|272*(240&t)|17*(15&t);exports.interleave4_12_24=a;const x=t=>(69632*(61440&t)|4352*(3840&t)|272*(240&t)|17*(15&t))>>>0;exports.interleave4_16_32=x;
},{}],"vgOV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.swapLane13=exports.swapLane02=exports.flipBytes=exports.flip16=exports.flip8=exports.mux=exports.swizzle4=exports.swizzle8=exports.setLane2=exports.setLane4=exports.setLane8=exports.setLane16=exports.lane2=exports.lane4=exports.lane8=exports.lane16=void 0;const e=(e,s)=>e>>>(1-s<<4)&65535;exports.lane16=e;const s=(e,s)=>e>>>(3-s<<3)&255;exports.lane8=s;const t=(e,s)=>e>>>(7-s<<2)&15;exports.lane4=t;const o=(e,s)=>e>>>(15-s<<1)&3;exports.lane2=o;const p=(e,s,t)=>t?l(e,s,65535):l(e,s<<16,4294901760);exports.setLane16=p;const n=(e,s,t)=>{const o=3-t<<3;return(~(255<<o)&e|(255&s)<<o)>>>0};exports.setLane8=n;const r=(e,s,t)=>{const o=7-t<<2;return(~(15<<o)&e|(15&s)<<o)>>>0};exports.setLane4=r;const x=(e,s,t)=>{const o=15-t<<1;return(~(3<<o)&e|(3&s)<<o)>>>0};exports.setLane2=x;const a=(e,t,o,p,n)=>(s(e,t)<<24|s(e,o)<<16|s(e,p)<<8|s(e,n))>>>0;exports.swizzle8=a;const c=(e,s,o,p,n,r,x,a,c)=>(t(e,s)<<28|t(e,o)<<24|t(e,p)<<20|t(e,n)<<16|t(e,r)<<12|t(e,x)<<8|t(e,a)<<4|t(e,c))>>>0;exports.swizzle4=c;const l=(e,s,t)=>~t&e|t&s;exports.mux=l;const i=e=>(e>>>24|e>>8&65280|(65280&e)<<8|e<<24)>>>0;exports.flip8=i;const L=e=>l(e<<16,e>>>16,65535);exports.flip16=L;const u=i;exports.flipBytes=u;const w=e=>(65280&e)<<16|e>>>16&65280|16711935&e;exports.swapLane02=w;const z=e=>(255&e)<<16|e>>16&255|4278255360&e;exports.swapLane13=z;
},{}],"x1yR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./api");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});var r=require("./align");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var t=require("./bytes");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});var o=require("./constants");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===o[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}}))});var n=require("./count");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===n[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}}))});var u=require("./edit");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===u[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}}))});var s=require("./float");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===s[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}}))});var i=require("./gray");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===i[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}}))});var c=require("./logic");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===c[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}}))});var f=require("./mask");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===f[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}}))});var a=require("./one-hot");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===a[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}}))});var p=require("./pow");Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===p[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return p[e]}}))});var l=require("./rotate");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===l[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return l[e]}}))});var d=require("./splat");Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===d[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return d[e]}}))});var b=require("./swizzle");Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===b[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return b[e]}}))});
},{"./api":"IIwj","./align":"CQ38","./bytes":"eZpf","./constants":"V9gr","./count":"ycmp","./edit":"OUuY","./float":"kT64","./gray":"lHZN","./logic":"taxf","./mask":"yv4p","./one-hot":"Z6qX","./pow":"WXHW","./rotate":"Vu6r","./splat":"unVs","./swizzle":"vgOV"}],"eWbM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.utf8Decode=e,exports.utf8Encode=t,exports.utf8Length=void 0;var r=require("@thi.ng/transducers");function e(t){return t?[...(0,r.iterator1)(e(),t)].join(""):e=>{const t=e[2];let o,u,a,c,i,s=0;return(0,r.compR)(e,(r,e)=>{switch(s){case 0:default:if(e<128)return t(r,String.fromCharCode(e));o=e,s=1;break;case 1:if(u=63&e,192==(224&o))return s=0,t(r,String.fromCharCode((31&o)<<6|u));s=2;break;case 2:if(a=63&e,224==(240&o))return s=0,t(r,String.fromCharCode((15&o)<<12|u<<6|a));s=3;break;case 3:if(c=63&e,240==(248&o))return s=0,t(r,n((7&o)<<18|u<<12|a<<6|c));s=4;break;case 4:if(i=63&e,248==(252&o))return s=0,t(r,n((3&o)<<24|u<<18|a<<12|c<<6|i));s=5;break;case 5:return s=0,t(r,n((1&o)<<30|u<<24|a<<18|c<<12|i<<6|63&e))}return r})}}function t(e){return null!=e?(0,r.iterator)(t(),e):e=>{const t=e[2];return(0,r.compR)(e,(e,n)=>{let o,u=n.charCodeAt(0);if(u>=55296&&u<=57343&&(u=65536+((1023&u)<<10)|1023&n.charCodeAt(1)),u<128)return t(e,u);for(let a=0,c=(o=u<2048?[192|u>>6,128|63&u]:u<65536?[224|u>>12,128|u>>6&63,128|63&u]:u<2097152?[240|u>>18,128|u>>12&63,128|u>>6&63,128|63&u]:u<67108864?[248|u>>24,128|u>>18&63,128|u>>12&63,128|u>>6&63,128|63&u]:[252|u>>30,128|u>>24&63,128|u>>18&63,128|u>>12&63,128|u>>6&63,128|63&u]).length;a<c&&(e=t(e,o[a]),!(0,r.isReduced)(e));a++);return e})}}const n=r=>r<65536?String.fromCharCode(r):(r-=65536,String.fromCharCode(55296|r>>10,56320|1023&r)),o=r=>{const e=r.length;let t=0;for(let n=0;n<e;++n){let e=r.charCodeAt(n);e>=55296&&e<=57343&&(e=65536+((1023&e)<<10)|1023&r.charCodeAt(++n)),t+=e<=127?1:e<=2047?2:e<=65535?3:e<=2097151?4:e<=67108863?5:6}return t};exports.utf8Length=o;
},{"@thi.ng/transducers":"ntmJ"}],"a0BN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.asBytes=q,exports.bytes=v,exports.str=exports.f64array=exports.f64=exports.f32array=exports.f32=exports.u32array=exports.u32=exports.i32array=exports.i32=exports.u24array=exports.u24=exports.i24array=exports.i24=exports.u16array=exports.u16=exports.i16array=exports.i16=exports.u8array=exports.u8=exports.i8array=exports.i8=void 0;var e=require("@thi.ng/binary"),t=require("@thi.ng/errors"),r=require("@thi.ng/transducers"),s=require("./utf8");const a=e=>["i8",e];exports.i8=a;const n=e=>["i8a",e];exports.i8array=n;const o=e=>["u8",e];exports.u8=o;const c=e=>["u8a",e];exports.u8array=c;const u=(e,t=!1)=>["i16",e,t];exports.i16=u;const i=(e,t=!1)=>["i16a",e,t];exports.i16array=i;const p=(e,t=!1)=>["u16",e,t];exports.u16=p;const x=(e,t=!1)=>["u16a",e,t];exports.u16array=x;const b=(e,t=!1)=>["i24",e,t];exports.i24=b;const f=(e,t=!1)=>["i24a",e,t];exports.i24array=f;const y=(e,t=!1)=>["u24",e,t];exports.u24=y;const k=(e,t=!1)=>["u24a",e,t];exports.u24array=k;const l=(e,t=!1)=>["i32",e,t];exports.i32=l;const h=(e,t=!1)=>["i32a",e,t];exports.i32array=h;const d=(e,t=!1)=>["u32",e,t];exports.u32=d;const g=(e,t=!1)=>["u32a",e,t];exports.u32array=g;const w=(e,t=!1)=>["f32",e,t];exports.f32=w;const U=(e,t=!1)=>["f32a",e,t];exports.f32array=U;const F=(e,t=!1)=>["f64",e,t];exports.f64=F;const I=(e,t=!1)=>["f64a",e,t];exports.f64array=I;const m=e=>["str",e];function q(a){return a?(0,r.iterator)(q(),a):(0,r.mapcat)(a=>{const n=a[1],o=a[2];switch(a[0]){case"i8":case"u8":return[n];case"i8a":case"u8a":return a[1];case"i16":case"u16":return(0,e.bytes16)(n,o);case"i16a":case"u16a":return(0,r.mapcat)(t=>(0,e.bytes16)(t,o),a[1]);case"i24":case"u24":return(0,e.bytes24)(n,o);case"i24a":case"u24a":return(0,r.mapcat)(t=>(0,e.bytes24)(t,o),a[1]);case"i32":case"u32":return(0,e.bytes32)(n,o);case"i32a":case"u32a":return(0,r.mapcat)(t=>(0,e.bytes32)(t,o),a[1]);case"f32":return(0,e.bytesF32)(n,o);case"f32a":return(0,r.mapcat)(t=>(0,e.bytesF32)(t,o),a[1]);case"f64":return(0,e.bytesF64)(n,o);case"f64a":return(0,r.mapcat)(t=>(0,e.bytesF64)(t,o),a[1]);case"str":return(0,s.utf8Encode)(a[1]);default:(0,t.unsupported)(`invalid struct item: ${a[0]}`)}})}function v(e=1024,t){let a,n=0;const o=(t,r)=>{if(n+r<=e)return t;e*=2;const s=new Uint8Array(e);return s.set(t),a=new DataView(s.buffer),s},c=(e,t,r,s,c)=>{const u=s.length;r=o(r,t*u);for(let o=0;o<u;o++,n+=t)a[e](n,s[o],c);return r};return t?(0,r.reduce)(v(e),t):[()=>new Uint8Array(e),e=>e.subarray(0,n),(t,[r,u,i=!1])=>{switch(a&&a.buffer===t.buffer||(e=t.byteLength,a=new DataView(t.buffer,t.byteOffset)),r){case"i8":t=o(t,1),a.setInt8(n,u),n++;break;case"i8a":{const e=u.length;t=o(t,e),new Int8Array(t.buffer,t.byteOffset).set(u,n),n+=e;break}case"u8":t=o(t,1),a.setUint8(n,u),n++;break;case"u8a":{const e=u.length;(t=o(t,e)).set(u,n),n+=e;break}case"i16":t=o(t,2),a.setInt16(n,u,i),n+=2;break;case"i16a":t=c("setInt16",2,t,u,i);break;case"u16":t=o(t,2),a.setUint16(n,u,i),n+=2;break;case"u16a":t=c("setUint16",2,t,u,i);break;case"i24":t=o(t,4),a.setInt32(n,u,i),n+=3;break;case"i24a":t=c("setInt32",3,t,u,i);break;case"u24":t=o(t,4),a.setUint32(n,u,i),n+=3;break;case"u24a":t=c("setUint32",3,t,u,i);break;case"i32":t=o(t,4),a.setInt32(n,u,i),n+=4;break;case"i32a":t=c("setInt32",4,t,u,i);break;case"u32":t=o(t,4),a.setUint32(n,u,i),n+=4;break;case"u32a":t=c("setUint32",4,t,u,i);break;case"f32":t=o(t,4),a.setFloat32(n,u,i),n+=4;break;case"f32a":t=c("setFloat32",4,t,u,i);break;case"f64":t=o(t,8),a.setFloat64(n,u,i),n+=8;break;case"f64a":t=c("setFloat64",8,t,u,i);break;case"str":{let e=[...(0,s.utf8Encode)(u)];(t=o(t,e.length)).set(e,n),n+=e.length;break}}return t}]}exports.str=m;
},{"@thi.ng/binary":"x1yR","@thi.ng/errors":"Qv5j","@thi.ng/transducers":"ntmJ","./utf8":"eWbM"}],"bROK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bits=r;var e=require("@thi.ng/transducers");function r(...t){return(0,e.$iter)(r,t,e.iterator)||(r=>{const u=r[2],s=t[0]||8,i=!1!==t[1];return(0,e.compR)(r,i?(r,t)=>{for(let i=s;--i>=0&&!(0,e.isReduced)(r);)r=u(r,t>>>i&1);return r}:(r,t)=>{for(let i=0;i<s&&!(0,e.isReduced)(r);i++)r=u(r,t>>>i&1);return r})})}
},{"@thi.ng/transducers":"ntmJ"}],"pFww":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hexDump=o,exports.hexDumpString=void 0;var e=require("@thi.ng/compose"),r=require("@thi.ng/hex"),t=require("@thi.ng/transducers");function o(...i){const n=(0,t.$iter)(o,i,t.iterator);if(n)return n;const{cols:s,address:p}=Object.assign({cols:16,address:0},i[0]);return(0,t.comp)((0,t.padLast)(s,0),(0,t.map)((0,e.juxt)(r.U8,e=>e>31&&e<127?String.fromCharCode(e):".")),(0,t.partition)(s,!0),(0,t.map)((0,e.juxt)(e=>e.map(e=>e[0]).join(" "),e=>e.map(e=>e[1]).join(""))),(0,t.mapIndexed)((e,[t,o])=>`${(0,r.U32)(p+e*s)} | ${t} | ${o}`))}const i=(e,r)=>[...o(e,r)].join("\n");exports.hexDumpString=i;
},{"@thi.ng/compose":"PMVb","@thi.ng/hex":"vkNw","@thi.ng/transducers":"ntmJ"}],"feea":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.partitionBits=t;var e=require("@thi.ng/transducers");function t(...s){return(0,e.$iter)(t,s,e.iterator)||(e=>{const t=s[0],i=s[1]||8;return t<i?r(e,t,i):t>i?n(e,t,i):e})}const r=([t,r,n],s,i)=>{const o=i-s,u=(1<<i)-1,c=(1<<s)-1;let l=0,d=0;return[t,e=>r(l>0?n(e,d):e),(t,r)=>{let a=0;do{t=n(t,d+(r>>>o+l&c)),a+=s-l,r=r<<s-l&u,d=0,l=0}while(a<=o&&!(0,e.isReduced)(t));return d=(l=i-a)>0?r>>>o&c:0,t}]},n=([e,t,r],n,s)=>{const i=(1<<s)-1;let o=0,u=0;return[e,e=>t(o>0?r(e,u):e),(e,t)=>{if(o+s<=n)u|=(t&i)<<n-s-o,(o+=s)===n&&(e=r(e,u),u=0,o=0);else{const i=n-o;e=r(e,u|t>>>(o=s-i)&(1<<i)-1),u=(t&(1<<o)-1)<<n-o}return e}]};
},{"@thi.ng/transducers":"ntmJ"}],"WVdu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.randomBits=void 0;var e=require("@thi.ng/random"),r=require("@thi.ng/transducers");const t=(t,o,s=e.SYSTEM)=>(0,r.repeatedly)(()=>s.float()<t?1:0,o);exports.randomBits=t;
},{"@thi.ng/random":"rTK3","@thi.ng/transducers":"ntmJ"}],"R2i3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./api");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});var r=require("./base64");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var t=require("./bytes");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});var o=require("./bits");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===o[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}}))});var n=require("./hex-dump");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===n[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}}))});var u=require("./partition-bits");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===u[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}}))});var s=require("./random-bits");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===s[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}}))});var i=require("./utf8");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===i[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}}))});
},{"./api":"IIwj","./base64":"jO2L","./bytes":"a0BN","./bits":"bROK","./hex-dump":"pFww","./partition-bits":"feea","./random-bits":"WVdu","./utf8":"eWbM"}],"kIdR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.b64ToArray=exports.arrayToB64=void 0;var r=require("@thi.ng/transducers"),e=require("@thi.ng/transducers-binary"),t=function(t){return(0,r.transduce)((0,e.base64Encode)(),(0,r.str)(),t)};exports.arrayToB64=t;var a=function(t,a){return a?(0,r.transduce)((0,e.base64Decode)(),(ArrayBuffer.isView(a)?r.fillN:r.fill)(),a,t):(0,r.iterator)((0,e.base64Decode)(),t)};exports.b64ToArray=a;
},{"@thi.ng/transducers":"ntmJ","@thi.ng/transducers-binary":"R2i3"}],"YU0G":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.svgToSDF=exports.getContext=exports.getCanvas=exports.b64Def=exports.b64Channels=exports.sdfTo8Bit=exports.cache=void 0;var t=o(require("bitmap-sdf")),e=o(require("@epok.tech/fn-lists/map")),r=require("../utils/b64Array"),n=require("../assets/holds/meta");function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){return c(t)||s(t,e)||u(t,e)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,e){if(t){if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(l){o=!0,a=l}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}return r}}function c(t){if(Array.isArray(t))return t}var f={};exports.cache=f;var d=function(t){return 255*t};exports.sdfTo8Bit=d;var v={mono:1,full:4};exports.b64Channels=v;var h=!1;exports.b64Def=h;var p=function(){return f.canvas||(f.canvas=document.createElement("canvas"))};exports.getCanvas=p;var g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p();return f.context||(f.context=t.getContext("2d"))};exports.getContext=g;var m=function(o){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.size,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.scale,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n.radius,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:n.cutoff,f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:n.channel,v=arguments.length>7&&void 0!==arguments[7]?arguments[7]:n.Type,m=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{};return new Promise(function(t,e){var r,n=new Image,a=null!==(r=o.innerHTML)&&void 0!==r?r:o;n.onload=function(){return t(n)},n.onerror=e,n.src="data:image/svg+xml;charset=utf8,"+encodeURIComponent(a)}).then(function(n){var o=p(),h=g(o),x=a(u,2),y=x[0],b=x[1],w=o.width=Math.floor((n.width=y)*l),C=o.height=Math.floor((n.height=b)*l);h.drawImage(n,0,0,y,b,0,0,w,C),m.width=w,m.height=C,m.radius=s*Math.max(w,C),m.cutoff=c,m.channel=f;var I=h.getImageData(0,0,w,C),M=(0,t.default)(I,m),S=v&&v.name||void 0,T=0!==(null==S?void 0:S.indexOf("Float"))?d:void 0;if(M=m.sdf=v&&v!==M.constructor?v.from(M,T):T?(0,e.default)(T,M,0):M,m.radius=s,m.size=u,m.scale=l,m.src=n.src,m.data=I,m.type=S,m.b64=i,"full"===i){var A,D=255/(null!==(A=null==T?void 0:T(1))&&void 0!==A?A:1);(0,e.default)(function(t,e){return e%4==3?255:M[Math.floor(e/4)*D]},I,0),h.putImageData(I,0,0),m.min=o.toDataURL()}else"mono"===i&&(m.min=(0,r.arrayToB64)(M));return m})};exports.svgToSDF=m;var x=m;exports.default=x;
},{"bitmap-sdf":"IkMn","@epok.tech/fn-lists/map":"Eek0","../utils/b64Array":"kIdR","../assets/holds/meta":"cLv1"}],"r16b":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeDB=l,exports.encodeLayer=g,exports.default=exports.loadAlign=exports.saveAlign=exports.clearLayers=exports.loadLayers=exports.saveLayers=exports.saveLayer=exports.encodeLayerSDF=exports.encodeLayerSVG=exports.encodeLayerPath=exports.deleter=exports.getter=exports.getDB=exports.optionDef=void 0;var e=i(require("@epok.tech/fn-lists/each")),n=i(require("@epok.tech/fn-lists/iterable")),r=require("./utils"),t=i(require("./shape/data-to-path")),o=require("./shape/path-to-svg"),a=require("./shape/svg-to-sdf");function i(e){return e&&e.__esModule?e:{default:e}}var u={durability:"strict"};function l(e,n){var r=indexedDB.open("proj.db",1);r.onupgradeneeded=function(e){var n=e.target.result,r=n.createObjectStore("layer.os",{keyPath:"key"}),t=n.createObjectStore("align.os",{keyPath:"key"});r.createIndex("data","data",{unique:!1}),r.createIndex("path","path",{unique:!1}),r.createIndex("svg","svg",{unique:!1}),r.createIndex("sdf","sdf",{unique:!1}),r.createIndex("size","size",{unique:!1}),t.createIndex("point","point",{unique:!1})},r.onsuccess=function(n){return e(r.result)},r.onerror=n}exports.optionDef=u;var s=function(){return new Promise(function(e,n){return(0,r.onReadyState)(function(){return l(e,n)},"complete")})};exports.getDB=s;var c=function(e){return!e||e instanceof IDBKeyRange?"getAll":"get"};exports.getter=c;var d=function(e){return e?"delete":"clear"};exports.deleter=d;var v=function(e){return e&&(0,t.default)(e)};exports.encodeLayerPath=v;var f=function(e,n){return e&&(0,o.pathToSVG)(e,n)};exports.encodeLayerSVG=f;var p=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.b64Def,t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:!r,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return(0,a.svgToSDF)(e,r,n).then(function(e){return r||delete e.min,t||delete e.sdf,o||delete e.data,i||delete e.src,e})};function g(e,n,r){var t,o,a,i,u,l,s,c,d,y,h,x,L,w,m,b=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e instanceof Promise)return e.then(function(e){return g(e,n,r,b)});var S=b||e,k=S.data=null!==(t=null!==(o=S.data)&&void 0!==o?o:e.data)&&void 0!==t?t:e,P=S.size=null!==(a=null!==(i=S.size)&&void 0!==i?i:e.size)&&void 0!==a?a:r,j=S.path=null!==(u=null!==(l=S.path)&&void 0!==l?l:e.path)&&void 0!==u?u:v(k),q=S.svg=null!==(s=null!==(c=S.svg)&&void 0!==c?c:e.svg)&&void 0!==s?s:f(j,P);return S.sdf=null!==(d=null!==(y=S.sdf)&&void 0!==y?y:e.sdf)&&void 0!==d?d:p(q,P),S.key=null!==(h=null!==(x=S.key)&&void 0!==x?x:e.key)&&void 0!==h?h:n,null!==(L=null===(w=S.sdf)||void 0===w?void 0:null===(m=w.then)||void 0===m?void 0:m.call(w,function(e){return S.sdf=e,S}))&&void 0!==L?L:S}exports.encodeLayerSDF=p;var y=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s(),t=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:u;return r.then(function(r){return g(e,n,void 0,t).then(function(e){return new Promise(function(n,t){var a=r.transaction("layer.os","readwrite",o);a.objectStore("layer.os").put(e),a.onerror=function(n){return console.warn("saveLayer: fail",e,a,n,t(n))},a.oncomplete=function(){return console.log("saveLayer: done",n(e))}})})})};exports.saveLayer=y;var h=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s(),o=arguments.length>3?arguments[3]:void 0,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5?arguments[5]:void 0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:u;return t.then(function(t){return new Promise(function(u,s){var c,d=(0,n.default)(e),v=r||(d?e:Object.keys(e)),f=v.length;if(f<=0)return u(v);var p=a?function(e,n){return e.addEventListener("success",function(){return console.warn("saveLayers: tee",--f,n&&n())})}:function(e,n){e.addEventListener("success",function(){return console.warn("saveLayers: tee",--f)}),null==n||n()};function y(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(n&&c&&(e+1)%o)return c;var r=c=t.transaction("layer.os","readwrite",l);return r.oncomplete=function(n){return console.log("saveLayers: done",e,f||u(v),r,n)},r.onerror=function(n){return console.warn("saveLayers: fail",e,r,s(n),n)},console.log("saveLayers: batch",e,f,o,n,r),r}v.reduce(function(n,r,t){return function(){var o,a,u=d?t:r,l=g(e[u],u,void 0,i);function c(e){var r;try{r=y(t).objectStore("layer.os").put(e)}catch(o){"TransactionInactiveError"!==o.name?s(o):r=y(t,0).objectStore("layer.os").put(e)}p(r,n),r.addEventListener("success",function(e){return console.log("saveLayers: next",u,t,f,e)}),r.addEventListener("error",function(e){return console.warn("saveLayers: fail",u,t,f,e)})}null!==(o=null===(a=l.then)||void 0===a?void 0:a.call(l,c))&&void 0!==o||c(l)}},null)()})})};exports.saveLayers=h;var x=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s(),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;return n.then(function(n){return new Promise(function(t,o){var a=n.transaction("layer.os","readonly",r),i=a.objectStore("layer.os")[c(e)](e);a.oncomplete=function(e){return console.log("loadLayers: done",i,a,t(i.result),e)},a.onerror=function(e){return console.warn("loadLayers: fail",o(e),e)}})})};exports.loadLayers=x;var L=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s(),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;return n.then(function(n){return new Promise(function(t,o){var a=n.transaction("layer.os","readwrite",r),i=a.objectStore("layer.os")[d(e)](e);a.oncomplete=function(e){return console.log("clearLayers: done",i,a,t(i.result),e)},a.onerror=function(e){return console.warn("clearLayers: fail",o(e),e)}})})};exports.clearLayers=L;var w=function(r,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s(),a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u;return o.then(function(o){return new Promise(function(i,u){var l=o.transaction("align.os","readwrite",a);l.onerror=function(e){return console.warn("saveAlign: fail",r,l,e,u(e))},l.oncomplete=function(){return console.log("saveAlign: done",i(r))},function r(t,o){return(0,n.default)(t[0])?(0,e.default)(function(e,n){var t;return r(e,null!==(t=null==o?void 0:o[n])&&void 0!==t?t:n)},t):("key"in t||(t.key=o),l.objectStore("align.os").put(t))}(r,t)})})};exports.saveAlign=w;var m=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s(),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;return n.then(function(n){return new Promise(function(t,o){var a=n.transaction("align.os","readonly",r),i=a.objectStore("align.os")[c(e)](e);a.oncomplete=function(e){return console.log("loadAlign: done",i,a,t(i.result),e)},a.onerror=function(e){return console.warn("loadAlign: fail",o(e),e)}})})};exports.loadAlign=m;var b=s;exports.default=b;
},{"@epok.tech/fn-lists/each":"ht4F","@epok.tech/fn-lists/iterable":"zE7s","./utils":"jWsf","./shape/data-to-path":"kpll","./shape/path-to-svg":"uHKU","./shape/svg-to-sdf":"YU0G"}],"hrTM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.typedToRegl=void 0;var t={Int8Array:"uint8",Uint8Array:"uint8",Uint8ClampedArray:"uint8",Int16Array:"uint16",Uint16Array:"uint16",Int32Array:"uint32",Uint32Array:"uint32",Float32Array:"float"};exports.typedToRegl=t;var r=t;exports.default=r;
},{}],"HiyB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=r;var e=require("lit-html");function r(r){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.createDocumentFragment(),n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];return e.render.apply(void 0,[r,t].concat(o)),t}
},{"lit-html":"SPDu"}],"K2tH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.aspectCover=exports.aspectContain=exports.aspect=void 0;var t=r(require("@epok.tech/fn-lists/map"));function r(t){return t&&t.__esModule?t:{default:t}}function e(t){return i(t)||a(t)||o(t)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,r){if(t){if("string"==typeof t)return u(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?u(t,r):void 0}}function a(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function i(t){if(Array.isArray(t))return u(t)}function u(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}var c=function(r,e,n){return(0,t.default)(function(t,n){return(isNaN(e)?+e[n]:+e)/r[n]},r,n)};exports.aspect=c;var s=function(t,r){return c(t,Math.min.apply(Math,e(t)),r)};exports.aspectContain=s;var p=function(t,r){return c(t,Math.max.apply(Math,e(t)),r)};exports.aspectCover=p;
},{"@epok.tech/fn-lists/map":"Eek0"}],"Mf67":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MIX_N=exports.MIX=exports.SET_N=exports.SET=exports.DOT_G=exports.DOT=exports.FN_N=exports.FN5=exports.FN3=exports.FN2=exports.FN=exports.UNSIGNED_N=exports.SIGNED_N=exports.UNSIGNED=exports.SIGNED=exports.MATH2A_N=exports.MATH2_N=exports.MATH2=exports.MATH_N=exports.MATH=void 0;const $=$=>([o,s,t])=>`${o}=${s}${$}${t};`;exports.MATH=$;const o=$=>([o,s])=>`${o}=${s}${$}n;`;exports.MATH_N=o;const s=($,o)=>([s,t,e,p])=>`${s}=(${t}${$}${e})${o}${p};`;exports.MATH2=s;const t=($,o)=>([s,t,e])=>`${s}=(${t}${$}${e})${o}n;`;exports.MATH2_N=t;const e=($,o)=>([s,t,e])=>`${s}=(${t}${$}n)${o}${e};`;exports.MATH2A_N=e;const p=$=>([o,s,t])=>`${o}=(${s}${$}${t})|0;`;exports.SIGNED=p;const r=$=>([o,s,t])=>`${o}=(${s}${$}${t})>>>0;`;exports.UNSIGNED=r;const x=$=>([o,s])=>`${o}=(${s}${$}n)|0;`;exports.SIGNED_N=x;const N=$=>([o,s])=>`${o}=(${s}${$}n)>>>0;`;exports.UNSIGNED_N=N;const n=($="op")=>([o,s])=>`${o}=${$}(${s});`;exports.FN=n;const c=($="op")=>([o,s,t])=>`${o}=${$}(${s},${t});`;exports.FN2=c;const _=($="op")=>([o,s,t,e])=>`${o}=${$}(${s},${t},${e});`;exports.FN3=_;const T=($="op")=>([o,s,t,e,p,r])=>`${o}=${$}(${s},${t},${e},${p},${r});`;exports.FN5=T;const M=($="op")=>([o,s])=>`${o}=${$}(${s},n);`;exports.FN_N=M;const A=([$,o])=>`${$}*${o}`;exports.DOT=A;const D=([$,o])=>`s+=${$}*${o};`;exports.DOT_G=D;const E=([$,o])=>`${$}=${o};`;exports.SET=E;const I=([$])=>`${$}=n;`;exports.SET_N=I;const S=([$,o,s,t])=>`${$}=${o}+(${s}-${o})*${t};`;exports.MIX=S;const F=([$,o,s])=>`${$}=${o}+(${s}-${o})*n;`;exports.MIX_N=F;
},{}],"in6x":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vop=void 0;var e=require("@thi.ng/errors");const r=(r=0)=>{const t=new Array(5);let o;const n=(...n)=>{const s=t[n[r].length]||o;return s?s(...n):(0,e.unsupported)(`no impl for vec size ${n[r].length}`)};return n.add=((e,r)=>t[e]=r),n.default=(e=>o=e),n.impl=(e=>t[e]||o),n};exports.vop=r;
},{"@thi.ng/errors":"Qv5j"}],"Jz5S":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defBitOpN=exports.defBitOp=exports.defMathOpN=exports.defMathOp=exports.defHofOpS=exports.defOpS=exports.defHofOp=exports.defFnOp=exports.defOp=exports.compileGHOF=exports.compileG=exports.compileHOF=exports.compile=exports.defaultOut=exports.NEW_OUT=exports.DEFAULT_OUT=exports.SARGS_VVV=exports.SARGS_VV=exports.SARGS_V=exports.ARGS_VVN=exports.ARGS_VNV=exports.ARGS_VN=exports.ARGS_VVV=exports.ARGS_VV=exports.ARGS_V=void 0;var o=require("@thi.ng/transducers"),t=require("./templates"),e=require("./vop");const s="o,a";exports.ARGS_V="o,a";const p="o,a,b";exports.ARGS_VV="o,a,b";const r="o,a,b,c";exports.ARGS_VVV=r;const n="o,a,n";exports.ARGS_VN="o,a,n";const a="o,a,n,b";exports.ARGS_VNV=a;const x="o,a,b,n";exports.ARGS_VVN=x;const c="io=0,ia=0,so=1,sa=1";exports.SARGS_V=c;const i="io=0,ia=0,ib=0,so=1,sa=1,sb=1";exports.SARGS_VV=i;const V="io=0,ia=0,ib=0,ic=0,so=1,sa=1,sb=1,sc=1";exports.SARGS_VVV=V;const l="!o&&(o=a);";exports.DEFAULT_OUT=l;const S="!o&&(o=[]);";exports.NEW_OUT=S;const d=o=>t=>t>1?`${o}[i${o}+${t}*s${o}]`:1==t?`${o}[i${o}+s${o}]`:`${o}[i${o}]`,u=t=>(0,o.map)(d(t),(0,o.range)()),O=t=>(0,o.map)(o=>`${t}[${o}]`,(0,o.range)()),f=(t,e,s,p="a",r="",n="",a="",x=!1)=>[n,(0,o.transduce)((0,o.comp)((0,o.take)(t),(0,o.mapIndexed)((o,t)=>e(t,o))),(0,o.str)(r),o.zip.apply(null,s.split(",").map(x?u:O))),a,""!==p?`return ${p};`:""],_=(o,t,e="a",s,p,r=!1)=>[s,"for(let i=a.length;--i>=0;) {",o(t.split(",").map(r?o=>`${o}[i${o}+i*s${o}]`:o=>`${o}[i]`)),"}",p,null!==e?`return ${e};`:""],G=(o,t)=>`!${o} && (${o}=${t.split(",")[1]});`;exports.defaultOut=G;const $=(o,t,e,s=e,p="a",r,n,a,x=!1)=>new Function(e,f(o,t,s,p,r,n,a,x).join(""));exports.compile=$;const N=(o,t,e,s,p,r=p,n="a",a="",x,c,i=!1)=>new Function(s,`return (${p})=>{${f(o,e,r,n,a,x,c,i).join("")}}`)(...t);exports.compileHOF=N;const A=(o,t,e=t,s="a",p,r,n=!1)=>new Function(t,_(o,e,s,p,r,n).join(""));exports.compileG=A;const R=(o,t,e,s,p=s,r="a",n,a,x=!1)=>new Function(e,`return (${s})=>{${_(t,p,r,n,a,x).join("")}}`)(...o);exports.compileGHOF=R;const m=(o,t="o,a,b",s,p="o",r=1,n)=>{s=s||t,n=null!=n?n:G(p,t);const a=(0,e.vop)(r),x=e=>a.add(e,$(e,o,t,s,p,"",n));return a.default(A(o,t,s,p,n)),[a,x(2),x(3),x(4)]};exports.defOp=m;const b=o=>m((0,t.FN)(o),"o,a");exports.defFnOp=b;const F=(o,s,p="o,a",r,n="o",a=1,x)=>{const c=s||(0,t.FN)("op");r=r||p,x=null!=x?x:G(n,p);const i=t=>N(t,[o],c,"op",p,r,n,"",x),V=(0,e.vop)(a);return V.default(R([o],c,"op",p,r,n,x)),[V,i(2),i(3),i(4)]};exports.defHofOp=F;const H=(o,t=`o,a,b,${i}`,e="o,a,b",s="o",p,r=[2,3,4])=>r.map(r=>$(r,o,t,e,s,"",null!=p?p:G(s,t),"",!0));exports.defOpS=H;const E=(o,t,e=`o,a,b,${i}`,s="o,a,b",p="o",r,n=[2,3,4])=>n.map(n=>N(n,[o],t,"op",e,s,p,"",null!=r?r:G(p,e),"",!0));exports.defHofOpS=E;const T=o=>m((0,t.MATH)(o));exports.defMathOp=T;const U=o=>m((0,t.MATH_N)(o),"o,a,n");exports.defMathOpN=U;const M=(o,e=!1)=>m((e?t.SIGNED:t.UNSIGNED)(o));exports.defBitOp=M;const h=(o,e=!1)=>m((e?t.SIGNED_N:t.UNSIGNED_N)(o),"o,a,n");exports.defBitOpN=h;
},{"@thi.ng/transducers":"ntmJ","./templates":"Mf67","./vop":"in6x"}],"XqC8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.set4=exports.set3=exports.set2=exports.set=void 0;var e=require("./internal/codegen"),t=require("./internal/templates");const[s,r,o,p]=(0,e.defOp)(t.SET,"o,a",void 0,"o",1,e.NEW_OUT);exports.set4=p,exports.set3=o,exports.set2=r,exports.set=s;
},{"./internal/codegen":"Jz5S","./internal/templates":"Mf67"}],"ckDa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setC=exports.setC6=exports.setC4=exports.setC3=exports.setC2=void 0;const t=(t,e,s)=>(!t&&(t=[]),t[0]=e,t[1]=s,t);exports.setC2=t;const e=(t,e,s,o)=>(!t&&(t=[]),t[0]=e,t[1]=s,t[2]=o,t);exports.setC3=e;const s=(t,e,s,o,r)=>(!t&&(t=[]),t[0]=e,t[1]=s,t[2]=o,t[3]=r,t);exports.setC4=s;const o=(t,e,s,o,r,p,x)=>(!t&&(t=[]),t[0]=e,t[1]=s,t[2]=o,t[3]=r,t[4]=p,t[5]=x,t);exports.setC6=o;const r=(t,...e)=>{!t&&(t=[]);for(let s=0,o=e.length;s<o;s++)t[s]=e[s];return t};exports.setC=r;
},{}],"uNmH":[function(require,module,exports) {
module.exports={handle:"_handle_348f2",show:"_show_348f2"};
},{}],"NulG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.getHandle=exports.transform=void 0;var e,t=require("lit-html"),n=require("@thi.ng/vectors/set"),r=require("@thi.ng/vectors/setc"),a=o(require("./index.css"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var u={bubbles:!0},s=function(e,t,n,r,a,o){return"transform: translate(".concat(Math.min(innerWidth-o,Math.max(o,t+e[0]*r)),"px, ").concat(Math.min(innerHeight-o,Math.max(o,n+e[1]*a)),"px);")};exports.transform=s;var l=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(c,d,v,p,h){var f=arguments.length>5&&void 0!==arguments[5]&&arguments[5],m=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",g=arguments.length>7&&void 0!==arguments[7]?arguments[7]:3;return(0,t.html)(e||(e=i(['\n        <button class="','"\n            style="','"\n            @pointerdown=',"\n            @pointermove=","\n            @pointerup=",">\n            ","\n        </button>\n    "])),a.default.handle+(f?" "+a.default.show:""),s(c,d,v,p,h,g),function(e){var t=e.clientX,a=e.clientY,i=e.pointerId,s=e.currentTarget;(0,r.setC2)(o,t,a),(0,n.set2)(l,c),s.setPointerCapture(i),s.dispatchEvent(new CustomEvent("handle.down",u)),e.preventDefault()},function(e){var t=e.currentTarget,n=e.pointerId,r=e.clientX,a=e.clientY;t.hasPointerCapture(n)&&(c[0]=l[0]+(r-o[0])/(p||1),c[1]=l[1]+(a-o[1])/(h||1),t.setAttribute("style",s(c,d,v,p,h,g)),t.dispatchEvent(new CustomEvent("handle.move",u)),e.preventDefault())},function(e){var t=e.pointerId,n=e.currentTarget;n.dispatchEvent(new CustomEvent("handle.up",u)),n.releasePointerCapture(t),e.preventDefault()},m)}};exports.getHandle=l;var c=l;exports.default=c;
},{"lit-html":"SPDu","@thi.ng/vectors/set":"XqC8","@thi.ng/vectors/setc":"ckDa","./index.css":"uNmH"}],"ERbf":[function(require,module,exports) {
module.exports={browse:"_browse_a3096",menu:"_menu_a3096",steps:"_steps_a3096",step:"_step_a3096","step-1":"_step-1_a3096","step-2":"_step-2_a3096","step-0":"_step-0_a3096",login:"_login_a3096",gyms:"_gyms_a3096",walls:"_walls_a3096",title:"_title_a3096",count:"_count_a3096",fields:"_fields_a3096",input:"_input_a3096",button:"_button_a3096",icon:"_icon_a3096",picks:"_picks_a3096",pick:"_pick_a3096",off:"_off_a3096"};
},{}],"DFNS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getBrowse=x,exports.default=exports.api=void 0;var t,e,n,r,a,l,o,u,i,s=require("lit-html"),c=p(require("@epok.tech/fn-lists/map")),f=p(require("@epok.tech/fn-lists/range")),d=require("../lit-html"),m=p(require("./index.css"));function p(t){return t&&t.__esModule?t:{default:t}}function h(t){return g(t)||y(t)||b(t)||v()}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(t,e){if(t){if("string"==typeof t)return k(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(t,e):void 0}}function y(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function g(t){if(Array.isArray(t))return k(t)}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function w(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var j="https://stokt.pythonanywhere.com/api/projection/";exports.api=j;var A={"Content-Type":"application/json"},q=(0,c.default)(function(t,e){return m.default["step-"+e]},(0,f.default)(3),0);function x(c,f){var p,v,b=(0,d.render)((0,s.html)(t||(t=w(['<article class="','"></article>'])),m.default.browse)).querySelector(".".concat(m.default.browse)),y=0,g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.headers.Authorization;return c.headers.Authorization=t},k=function(){return f()},x=function(){return y=Math.max(y-1,0),T()};function O(){return y=Math.min(q.length,g()?y+1:0),T()}function S(t){t.preventDefault();var e=t.target,n=e.action,r=e.method,a=new FormData(e);return fetch(n,{method:r,headersLogin:A,body:'{\n                    "username": '.concat(a.get("username"),',\n                    "password": ').concat(a.get("password"),"\n                }")}).then(function(t){return t.ok?t.json():Promise.reject(t)}).then(function(t){var e=t.token;return g(e?"Token "+e:"")?M():console.warn("browse.auth: no valid token",e)})}var M=function(){return fetch(j+"gyms",c).then(function(t){return t.ok?t.json():Promise.reject(t)}).then(function(t){return p=t,O()})},P=function(){var t,e;return(0,s.html)(n||(n=w(['\n        <section class="'," ",'">\n            <h2 class="','">\n                Gyms\n                <small class="','">(',")</small>\n            </h2>\n            ","\n        </section>\n    "])),m.default.gyms,m.default.step,m.default.title,m.default.count,(null===(t=p)||void 0===t?void 0:t.length)||0,null!==(e=p)&&void 0!==e&&e.length?(0,s.html)(r||(r=w(['\n                <ul class="','">\n                    ',"\n                </ul>"])),m.default.picks,p.reduce(function(t,e){var n=e.displayName,r=e.id;return(0,s.html)(a||(a=w(["",'\n                        <li class="','" title="Gym#','"\n                                @click=',">\n                            ","\n                        </li>"])),t,m.default.pick,r,function(){return fetch(j+"gyms/".concat(r,"/walls"),c).then(function(t){return t.ok?t.json():Promise.reject(t)}).then(function(t){return v=t,O()})},n)},"")):"")},z=function(){var t,e;return(0,s.html)(l||(l=w(['\n        <section class="'," ",'">\n            <h2 class="','">\n                Walls\n                <small class="','">(',")</small>\n            </h2>\n            ","\n        </section>\n    "])),m.default.walls,m.default.step,m.default.title,m.default.count,(null===(t=v)||void 0===t?void 0:t.length)||0,null!==(e=v)&&void 0!==e&&e.length?(0,s.html)(o||(o=w(['\n                <ul class="','">\n                    ',"\n                </ul>"])),m.default.picks,v.reduce(function(t,e){var n=e.name,r=e.id,a=e.isActive;return e.faces.reduce(function(t,e,l){var o=e.id,i=e.isActive;return(0,s.html)(u||(u=w(["\n                            ",'\n                            <li class="',"",'"\n                                    title="Face#',"\nWall#",'"\n                                    @click=',">\n                                "," (",")\n                            </li>"],["\n                            ",'\n                            <li class="',"",'"\n                                    title="Face#',"\\nWall#",'"\n                                    @click=',">\n                                "," (",")\n                            </li>"])),t,m.default.pick,a&&i?"":" "+m.default.off,o,r,function(){return f(j+"faces/".concat(o,"/setup"),c)},n,l)},t)},"")):"")},L=function(){return(0,s.html)(i||(i=w(['\n        <header class="','">\n            <button class="'," ",'" @click=','></button>\n            <button class="'," ",'" @click=','></button>\n        </header>\n        <section class="','">\n            ',"\n            ","\n            ","\n        </section>\n    "])),m.default.menu,m.default.button,m.default.icon,x,m.default.button,m.default.icon,k,m.default.steps,(0,s.html)(e||(e=w(['\n        <form class="'," ",'"\n                method="POST" action="','login" @submit=','>\n            <h2 class="','">Stkt Manager Login</h2>\n            <fieldset class="','" ?disabled=','>\n                <input class="','" name="username" required\n                    placeholder="username" />\n                <input class="','" name="password" required\n                    type="password" placeholder="password" />\n                <input class="','" name="submit" type="submit"\n                    value="Log in" />\n            </fieldset>\n        </form>\n    '])),m.default.login,m.default.step,j,S,m.default.title,m.default.fields,0!==y,m.default.input,m.default.input,m.default.button),P(),z())};function T(){var t=b.classList;return t.remove.apply(t,h(q)),t.add(m.default["step-"+y]),(0,d.render)(L(),b)}return T}var O=x;exports.default=O;
},{"lit-html":"SPDu","@epok.tech/fn-lists/map":"Eek0","@epok.tech/fn-lists/range":"KPn5","../lit-html":"HiyB","./index.css":"ERbf"}],"L2uB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.add4=exports.add3=exports.add2=exports.add=void 0;var e=require("./internal/codegen");const[d,r,t,o]=(0,e.defMathOp)("+");exports.add4=o,exports.add3=t,exports.add2=r,exports.add=d;
},{"./internal/codegen":"Jz5S"}],"gopJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sub4=exports.sub3=exports.sub2=exports.sub=void 0;var e=require("./internal/codegen");const[s,r,t,o]=(0,e.defMathOp)("-");exports.sub4=o,exports.sub3=t,exports.sub2=r,exports.sub=s;
},{"./internal/codegen":"Jz5S"}],"qbmT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.div4=exports.div3=exports.div2=exports.div=void 0;var e=require("./internal/codegen");const[r,t,o,d]=(0,e.defMathOp)("/");exports.div4=d,exports.div3=o,exports.div2=t,exports.div=r;
},{"./internal/codegen":"Jz5S"}],"Hdw0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.divN4=exports.divN3=exports.divN2=exports.divN=void 0;var e=require("./internal/codegen");const[r,t,o,d]=(0,e.defMathOpN)("/");exports.divN4=d,exports.divN3=o,exports.divN2=t,exports.divN=r;
},{"./internal/codegen":"Jz5S"}],"V712":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mul4=exports.mul3=exports.mul2=exports.mul=void 0;var e=require("./internal/codegen");const[r,t,o,s]=(0,e.defMathOp)("*");exports.mul4=s,exports.mul3=o,exports.mul2=t,exports.mul=r;
},{"./internal/codegen":"Jz5S"}],"mSJx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mixBilinear4=exports.mixBilinear3=exports.mixBilinear2=exports.mixBilinear=void 0;var e=require("@thi.ng/math"),i=require("./internal/codegen");const[r,x,o,t]=(0,i.defHofOp)(e.mixBilinear,([e,i,r,x,o])=>`${e}=op(${i},${r},${x},${o},u,v);`,"o,a,b,c,d,u,v");exports.mixBilinear4=t,exports.mixBilinear3=o,exports.mixBilinear2=x,exports.mixBilinear=r;
},{"@thi.ng/math":"UBbf","./internal/codegen":"Jz5S"}],"WYQw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cross3=exports.cross2=void 0;var s=require("./setc");const e=(s,e)=>s[0]*e[1]-s[1]*e[0];exports.cross2=e;const r=(e,r,o)=>(0,s.setC3)(e||r,r[1]*o[2]-r[2]*o[1],r[2]*o[0]-r[0]*o[2],r[0]*o[1]-r[1]*o[0]);exports.cross3=r;
},{"./setc":"ckDa"}],"gK5s":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ones=exports.zeroes=exports.one=exports.zero=exports.setN4=exports.setN3=exports.setN2=exports.setN=void 0;var e=require("./internal/codegen"),s=require("./internal/templates");const[t,r,o,p]=(0,e.defOp)(s.SET_N,"a,n","a","a",0,"");exports.setN4=p,exports.setN3=o,exports.setN2=r,exports.setN=t;const n=e=>t(e,0);exports.zero=n;const x=e=>t(e,1);exports.one=x;const a=e=>new Array(e).fill(0);exports.zeroes=a;const i=e=>new Array(e).fill(1);exports.ones=i;
},{"./internal/codegen":"Jz5S","./internal/templates":"Mf67"}],"J3B1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.biLerpInv=o,exports.default=void 0;var e=require("@thi.ng/vectors/cross"),r=require("@thi.ng/vectors/sub"),s=require("@thi.ng/vectors/add"),t=require("@thi.ng/vectors/setc"),u=require("@thi.ng/vectors/setn");function o(o,i,n,v,c){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[-1,-1],d=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=(0,r.sub2)([],n,i),b=(0,r.sub2)([],c,i),h=(0,r.sub2)([],o,i),g=(0,r.sub2)(null,(0,s.add2)(null,(0,r.sub2)([],i,n),v),c),p=(0,e.cross2)(g,b),q=(0,e.cross2)(l,b)+(0,e.cross2)(h,g),f=(0,e.cross2)(h,l),x=q*q-4*f*p;if(!d&&x<0)return(0,u.setN2)(a,-1);var M=2*f/(-q-(x=Math.sqrt(Math.abs(x))));!d&&(M<0||M>1)&&(M=2*f/(-q+x));var N=(h[0]-b[0]*M)/(l[0]+g[0]*M);return!d&&(N<0||N>1||M<0||M>1)?(0,u.setN2)(a,-1):(0,t.setC2)(a,N,M)}var i=o;exports.default=i;
},{"@thi.ng/vectors/cross":"WYQw","@thi.ng/vectors/sub":"gopJ","@thi.ng/vectors/add":"L2uB","@thi.ng/vectors/setc":"ckDa","@thi.ng/vectors/setn":"gK5s"}],"Rfgv":[function(require,module,exports) {
module.exports={"svg-paths-edit":"_svg-paths-edit_f3406",shape:"_shape_f3406",handle:"_handle_f3406",group:"_group_f3406",edit:"_edit_f3406"};
},{}],"npU7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.svgToAlign=H,exports.alignToSVG=_,exports.pathToEditor=exports.pathToShapes=exports.pathToHandles=exports.pointsToShape=exports.pointToHandle=exports.hashPoint=void 0;var e,t,r,n,i,o,u=require("lit-html"),a=x(require("@epok.tech/fn-lists/reduce")),c=x(require("@epok.tech/fn-lists/each")),s=require("@thi.ng/vectors/set"),l=require("@thi.ng/vectors/setc"),p=require("@thi.ng/vectors/add"),d=require("@thi.ng/vectors/sub"),v=require("@thi.ng/vectors/div"),f=require("@thi.ng/vectors/divn"),h=require("@thi.ng/vectors/mul"),g=require("@thi.ng/vectors/mix-bilinear"),b=x(require("@epok.tech/is-type/number")),m=require("../bilerp"),y=require("../utils"),w=x(require("./index.css"));function x(e){return e&&e.__esModule?e:{default:e}}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(t){E(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function P(e){return A(e)||C(e)||S(e)||q()}function q(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,t){if(e){if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?D(e,t):void 0}}function C(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function A(e){if(Array.isArray(e))return D(e)}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var I={bubbles:!0},M=function(e){return function(){return e.length=0,e}}([]);function k(e,t,r){var n,i=r?r.get(t):e();return null!==(n=i)&&void 0!==n?n:(r.set(t,i=e()),i)}function H(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return(0,v.div2)(n,e,t),g.mixBilinear2.apply(void 0,[n,r[0],r[1],r[3],r[2]].concat(P(n))),(0,h.mul2)(n,n,t)}function _(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return(0,v.div2)(n,e,t),(0,m.biLerpInv)(n,r[0],r[1],r[2],r[3],n,!0),(0,h.mul2)(n,n,t)}var z=function(e){return"[".concat(e?(0,y.join)(e):"","]")};exports.hashPoint=z;var G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;return function(c,p,d){if(arguments.length>3&&void 0!==arguments[3]?arguments[3]:o){var v=z(c)+z(p)+z(d);if(v===o)return a;o=v}return p&&d?H(c,p,d,n):(0,s.set2)(n,c),a=(0,u.svg)(e||(e=T(['\n            <circle class="','" cx="','" cy="','"\n                @pointerdown=',"\n                @pointermove=","\n                @pointerup=",">\n            </circle>\n        "])),w.default.handle,n[0],n[1],function(e){var o=e.clientX,u=e.clientY,a=e.pointerId,c=e.currentTarget;i||(i=c.ownerSVGElement.createSVGPoint()),(0,l.setC2)(t,o,u),(0,s.set2)(r,n),c.setPointerCapture(a),c.dispatchEvent(new CustomEvent("pathEdit.down",I)),e.preventDefault()},function(e){var o=e.currentTarget,u=e.pointerId;if(o.hasPointerCapture(u)){var a=e.clientX,l=e.clientY,v=o.getScreenCTM();i.x=i.y=0,(i=i.matrixTransform(v)).x+=a-t[0],i.y+=l-t[1],i=i.matrixTransform(v.inverse()),o.setAttribute("cx",n[0]=r[0]+i.x),o.setAttribute("cy",n[1]=r[1]+i.y),p&&d?(_(n,p,d,c),c[0]<0&&(c[0]=n[0]),c[1]<0&&(c[1]=n[1])):(0,s.set2)(c,n),o.dispatchEvent(new CustomEvent("pathEdit.move",I)),e.preventDefault()}},function(e){var t=e.pointerId,r=e.currentTarget;r.dispatchEvent(new CustomEvent("pathEdit.up",I)),r.releasePointerCapture(t),e.preventDefault()})}};function V(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],v=arguments.length>5?arguments[5]:void 0,h=arguments.length>6?arguments[6]:void 0,g=G(e,r,n,v,h);return function(e,r,n,b){if(arguments.length>4&&void 0!==arguments[4]?arguments[4]:v){var m=z(e)+z(r)+z(n);if(m===v)return h;v=m}return(0,l.setC2)(i,0,0),(0,f.divN)(i,i,(0,a.default)(function(e,t){return(0,p.add2)(i,i,t)&&e+1},e,0)),(0,s.set2)(o,i),h=(0,u.svg)(t||(t=T(['\n            <g class="','" @pathEdit.up=',">\n                ","\n                ","\n            </g>\n        "])),w.default.group,function(t){var r=t.currentTarget;(0,d.sub2)(o,i,o),(0,c.default)(function(e){return(0,p.add2)(null,e,o)},e),r.dispatchEvent(new CustomEvent("pathEdit.change",j(j({},I),{},{detail:e})))},g(i,r,n),b)}}exports.pointToHandle=G;var B=function(e,t){return function(n,i,o,c){if(arguments.length>4&&void 0!==arguments[4]?arguments[4]:e){var l=z(n)+z(i)+z(o);if(l===e)return t;e=l}return t=(0,u.svg)(r||(r=T(['\n            <path class="','" @click=','} d="M ',' z">\n            </path>\n        '])),w.default.shape,function(e){var t=e.currentTarget;return c.edit||t.dispatchEvent(new CustomEvent("pathEdit.pick",j(j({},I),{},{detail:n})))},(0,a.default)(function(e,t,r){return"".concat(e," ").concat(r?"L":""," ").concat((i&&o?H(t,i,o,M()):(0,s.set2)(M(),t)).join(","))},n,""))}};exports.pointsToShape=B;var L=function e(t,r,i,o,c){return o.edit?(0,a.default)(function(t,a){return a&&a[0]?(0,u.svg)(n||(n=T(["","",""])),t,(0,b.default)(a[0])&&(0,b.default)(a[1])?k(G,a,c)(a,r,i,c):(0,b.default)(a[0][0])?k(V,a,c)(a,r,i,e(a,r,i,o,c),c):e(a,r,i,o,c)):t},t,""):""};exports.pathToHandles=L;var X=function e(t,r,n,o,c){return(0,a.default)(function(t,a){return a&&a[0]?(0,u.svg)(i||(i=T(["","",""])),t,((0,b.default)(a[0][0])?k(B,a,c):e)(a,r,n,o,c)):t},t,"")};exports.pathToShapes=X;var Y=function(e,t,r,n,i){var a,c;return(0,u.svg)(o||(o=T(['\n    <svg class="','"\n            xmlns="http://www.w3.org/2000/svg"\n            viewBox="0 0 '," ",'"\n            width="','" height="','">\n        ',"\n        ","\n    </svg>\n"])),w.default["svg-paths-edit"]+(n.edit?" "+w.default.edit:""),t[0],t[1],t[0],t[1],X(e,t,r,n,i&&(null!==(a=i.shapes)&&void 0!==a?a:i.shapes=new Map)),L(e,t,r,n,i&&(null!==(c=i.handles)&&void 0!==c?c:i.handles=new Map)))};exports.pathToEditor=Y;
},{"lit-html":"SPDu","@epok.tech/fn-lists/reduce":"u8rC","@epok.tech/fn-lists/each":"ht4F","@thi.ng/vectors/set":"XqC8","@thi.ng/vectors/setc":"ckDa","@thi.ng/vectors/add":"L2uB","@thi.ng/vectors/sub":"gopJ","@thi.ng/vectors/div":"qbmT","@thi.ng/vectors/divn":"Hdw0","@thi.ng/vectors/mul":"V712","@thi.ng/vectors/mix-bilinear":"mSJx","@epok.tech/is-type/number":"uhVV","../bilerp":"J3B1","../utils":"jWsf","./index.css":"Rfgv"}],"DzlX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.pathToData=void 0;var e=r(require("@epok.tech/fn-lists/reduce")),t=require("../utils");function r(e){return e&&e.__esModule?e:{default:e}}var u=function(r){return(0,e.default)(function(e,r){return e+(e?" ":"")+(0,t.join)(r)},r,"")};exports.pathToData=u;var o=u;exports.default=o;
},{"@epok.tech/fn-lists/reduce":"u8rC","../utils":"jWsf"}],"JHXj":[function(require,module,exports) {
module.exports="precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 position;\n\nvarying vec2 uv;\n\n// Translation for UV NDC to texture coordinates.\nconst vec2 offset = vec2(0.5);\n\nvoid main() {\n    uv = (position*0.5)+offset;\n    gl_Position = vec4(position, 0, 1);\n}\n";
},{}],"htKs":[function(require,module,exports) {
module.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D past;\nuniform sampler2D next;\nuniform int type;\nuniform float distanceSmooth;\n\nvarying vec2 uv;\n\nfloat when_gt_1540259130(float x, float y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec2 when_gt_1540259130(vec2 x, vec2 y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec3 when_gt_1540259130(vec3 x, vec3 y) {\n  return max(sign(x - y), 0.0);\n}\n\nvec4 when_gt_1540259130(vec4 x, vec4 y) {\n  return max(sign(x - y), 0.0);\n}\n\nfloat when_le_1604150559(float x, float y) {\n  return 1.0 - when_gt_1540259130(x, y);\n}\n\nvec2 when_le_1604150559(vec2 x, vec2 y) {\n  return 1.0 - when_gt_1540259130(x, y);\n}\n\nvec3 when_le_1604150559(vec3 x, vec3 y) {\n  return 1.0 - when_gt_1540259130(x, y);\n}\n\nvec4 when_le_1604150559(vec4 x, vec4 y) {\n  return 1.0 - when_gt_1540259130(x, y);\n}\n\nvoid main() {\n    vec2 p = texture2D(past, uv).xy;\n    vec2 n = vec2(texture2D(next, uv).x, type);\n    // Take the nearest distance.\n    vec2 near = mix(p, n, when_le_1604150559(p.x, n.x));\n\n    gl_FragColor = vec4(near, 0, 1);\n}\n";
},{}],"zBdG":[function(require,module,exports) {
module.exports="precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 position;\n\nuniform float drawWidth;\nuniform float drawHeight;\nuniform float fboWidth;\nuniform float fboHeight;\n\nvarying vec2 uv;\n\n// Implementations for each dimension.\n\nfloat aspect(in float size, in float scale) {\n    return scale/size;\n}\n\nvec2 aspect(in vec2 size, in vec2 scale) {\n    return scale/size;\n}\n\nvec3 aspect(in vec3 size, in vec3 scale) {\n    return scale/size;\n}\n\nvec4 aspect(in vec4 size, in vec4 scale) {\n    return scale/size;\n}\n\n// These are for `scale` always `float`:\n\nvec2 aspect(in vec2 size, in float scale) {\n    return aspect(size, vec2(scale));\n}\n\nvec3 aspect(in vec3 size, in float scale) {\n    return aspect(size, vec3(scale));\n}\n\nvec4 aspect(in vec4 size, in float scale) {\n    return aspect(size, vec4(scale));\n}\n\nvec2 aspectContain(in vec2 size) {\n    return aspect(size, min(size.x, size.y));\n}\n\nvec3 aspectContain(in vec3 size) {\n    return aspect(size, min(size.x, min(size.y, size.z)));\n}\n\nvec4 aspectContain(in vec4 size) {\n    return aspect(size, min(size.x, min(size.y, min(size.z, size.w))));\n}\n\nvec2 posToNDC(vec2 pos) { return (pos*vec2(0.5))+vec2(0.5); }\n\nvoid main() {\n    vec2 ar = aspectContain(vec2(drawWidth/fboWidth, drawHeight/fboHeight));\n\n    uv = posToNDC(position/ar);\n\n    gl_Position = vec4(position, 0, 1);\n}\n";
},{}],"JtFm":[function(require,module,exports) {
module.exports="// #extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nuniform vec2 align[4];\n\nuniform float tick;\n\n// @todo Replace with texture input/s for arbitrary gradient (created in separate pass).\nuniform vec3 colorIn0;\nuniform vec3 colorIn1;\nuniform float colorInMix;\n\nuniform vec3 colorOut0;\nuniform vec3 colorOut1;\nuniform float colorOutMix;\n\nuniform vec3 colorArrow;\n\nuniform float speed;\n\nuniform float slice;\nuniform float scale;\nuniform float thick;\n\nuniform float showDistance;\nuniform float smoothing;\nuniform float curve;\n\nuniform float warpAmount;\nuniform float warpCurve;\nuniform float warpSpeed;\nuniform float warpScale;\n\nuniform float distanceSmooth;\nuniform float distanceOffset;\n\nuniform float cutoff;\nuniform sampler2D sdf;\n\nuniform float arrowCells;\nuniform vec3 arrowSize;\n\nvarying vec2 uv;\n\nconst float infinity = 100000000.0;\nconst float pi = 3.14159265359;\nconst float tau = 6.28318530718;\nconst float distSampleCount = 10.0;\n\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x) {\n     return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g_0 = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g_0;\n  vec3 i1 = min( g_0.xyz, l.zxy );\n  vec3 i2 = max( g_0.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289(i);\n  vec4 p = permute( permute( permute(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\nmat2 rotation2d(float angle) {\n\tfloat s = sin(angle);\n\tfloat c = cos(angle);\n\n\treturn mat2(\n\t\tc, -s,\n\t\ts, c\n\t);\n}\n\nfloat range(float vmin, float vmax, float value) {\n  return (value - vmin) / (vmax - vmin);\n}\n\nvec2 range(vec2 vmin, vec2 vmax, vec2 value) {\n  return (value - vmin) / (vmax - vmin);\n}\n\nvec3 range(vec3 vmin, vec3 vmax, vec3 value) {\n  return (value - vmin) / (vmax - vmin);\n}\n\nvec4 range(vec4 vmin, vec4 vmax, vec4 value) {\n  return (value - vmin) / (vmax - vmin);\n}\n\nfloat when_lt_1062606552(float x, float y) {\n  return max(sign(y - x), 0.0);\n}\n\nvec2 when_lt_1062606552(vec2 x, vec2 y) {\n  return max(sign(y - x), 0.0);\n}\n\nvec3 when_lt_1062606552(vec3 x, vec3 y) {\n  return max(sign(y - x), 0.0);\n}\n\nvec4 when_lt_1062606552(vec4 x, vec4 y) {\n  return max(sign(y - x), 0.0);\n}\n\n// @see https://github.com/glslify/glsl-smooth-min/issues/2\nfloat smin(float a, float b, float k) {\n    float h = max(k-abs(a-b), 0.0)/k;\n\n    return min(a, b)-(h*h*h*k*(1.0/6.0));\n}\n\nvec2 smin(vec2 a, vec2 b, vec2 k) {\n    vec2 h = max(k-abs(a-b), 0.0)/k;\n\n    return min(a, b)-(h*h*h*k*(1.0/6.0));\n}\n\nvec3 smin(vec3 a, vec3 b, vec3 k) {\n    vec3 h = max(k-abs(a-b), 0.0)/k;\n\n    return min(a, b)-(h*h*h*k*(1.0/6.0));\n}\n\nvec4 smin(vec4 a, vec4 b, vec4 k) {\n    vec4 h = max(k-abs(a-b), 0.0)/k;\n\n    return min(a, b)-(h*h*h*k*(1.0/6.0));\n}\n\nvec2 smin(vec2 a, vec2 b, float k) {\n    vec2 h = max(k-abs(a-b), 0.0)/k;\n\n    return min(a, b)-(h*h*h*k*(1.0/6.0));\n}\n\nvec3 smin(vec3 a, vec3 b, float k) {\n    vec3 h = max(k-abs(a-b), 0.0)/k;\n\n    return min(a, b)-(h*h*h*k*(1.0/6.0));\n}\n\nvec4 smin(vec4 a, vec4 b, float k) {\n    vec4 h = max(k-abs(a-b), 0.0)/k;\n\n    return min(a, b)-(h*h*h*k*(1.0/6.0));\n}\n\nfloat cross2D(in vec2 a, in vec2 b) { return (a.x*b.y)-(a.y*b.x); }\n\n// Inverse bilinear interpolation - between 4 points.\n// Given a point `p` and a quad of four clockwise points (`a`, `b`, `c`, `d`);\n// return the bilinear coordinates of `p` in the quad (or [-1, -1] if the point\n// lies outside of the quad).\n// @see https://www.shadertoy.com/view/lsBSDm\n// @see http://www.iquilezles.org/www/articles/ibilinear/ibilinear.htm\nvec2 biLerpInv(in vec2 p, in vec2 lt, in vec2 rt, in vec2 rb, in vec2 lb,\n        in bool wrap) {\n    vec2 uv = vec2(-1.0);\n    vec2 ltrt = rt-lt;\n    vec2 ltlb = lb-lt;\n    vec2 ltp = p-lt;\n    vec2 g = lt-rt+rb-lb;\n    float k2 = cross2D(g, ltlb);\n    float k1 = cross2D(ltrt, ltlb)+cross2D(ltp, g);\n    float k0 = cross2D(ltp, ltrt);\n    float w = (k1*k1)-(4.0*k0*k2);\n\n    if(!wrap && w < 0.0) { return uv; }\n    else { w = sqrt(abs(w)); }\n\n    // Will fail for `k0 = 0`, which is only on the `ab` edge.\n    float v = (2.0*k0)/(-k1-w);\n\n    v = ((!wrap && (v < 0.0 || v > 1.0))? (2.0*k0)/(-k1+w) : v);\n\n    float u = (ltp.x-(ltlb.x*v))/(ltrt.x+(g.x*v));\n\n    return ((!wrap && (u < 0.0 || u > 1.0 || v < 0.0 || v > 1.0))? uv\n        :   vec2(u, v));\n}\n\nvec2 biLerpInv(in vec2 p, in vec2 lt, in vec2 rt, in vec2 rb, in vec2 lb) {\n    return biLerpInv(p, lt, rt, rb, lb, false);\n}\n\nvec2 biLerpInv(in vec2 p, in vec2 corners[4], in bool wrap) {\n    return biLerpInv(p, corners[0], corners[1], corners[2], corners[3], wrap);\n}\n\nvec2 biLerpInv(in vec2 p, in vec2 corners[4]) {\n    return biLerpInv(p, corners, false);\n}\n\n/**\n * Signed distance to an egg formed of 2 circles and a height.\n *\n * @see https://www.shadertoy.com/view/WsjfRt\n *\n * @param {vec2} p The pixel position to measure distance from.\n * @param {float} r0 The radius of the bottom circle.\n * @param {float} r1 The radius of the top circle.\n * @param {float} h The height between the circles.\n *\n * @returns {float} The signed distance to the nearest part of the egg shape.\n */\nfloat sdfEgg(in vec2 p, in float r0, in float r1, in float h) {\n    float r = r0-r1;\n\n    p.x = abs(p.x);\n    h += r;\n\n    float l = ((h*h)-(r*r))/(2.0*r);\n\n    return ((p.y <= 0.0)?\n            length(p)-r0\n        : ((p.y-h)*l > p.x*h)?\n            length(p-vec2(0.0, h))-((r0+l)-length(vec2(h, l)))\n        :   length(p+vec2(l, 0.0))-(r0+l));\n}\n\nvec2 getData(in sampler2D sdf, in vec2 uv) { return texture2D(sdf, uv).xy; }\n\n// @todo Account for cutoff to only smooth outside it.\nvec2 getDataSmooth(in sampler2D sdf, in vec2 uv, vec2 data) {\n    for(float i = 0.0; i < distSampleCount; ++i) {\n        if(data.x <= cutoff) { return data; }\n\n        float a = (i/distSampleCount)*tau;\n        vec2 offset = vec2(cos(a), sin(a))*distanceOffset;\n        vec2 d = getData(sdf, uv+offset);\n        float x = smin(d.x, data.x, distanceSmooth);\n\n        data.y = mix(d.y, data.y, when_lt_1062606552(range(d.x, data.x, x), 0.5));\n        data.x = x;\n    }\n\n    return data;\n}\n\nvec2 getDataSmooth(in sampler2D sdf, in vec2 uv) {\n    return getDataSmooth(sdf, uv, vec2(infinity, 0.0));\n}\n\nvoid main() {\n    // Pass the align points to the bilinear interpolation (clockwise).\n    vec2 xy = biLerpInv(uv, align);\n\n    // Ignore anything outside the interpolated align points.\n    if(any(lessThan(xy, vec2(0))) || any(greaterThan(xy, vec2(1)))) {\n        gl_FragColor = vec4(0);\n        return;\n    }\n\n    // Fetch the distance data.\n    vec2 data = getData(sdf, xy).xy;\n    float dist = data.x;\n    float type = data.y;\n\n    vec2 dataSmooth = getDataSmooth(sdf, xy, data);\n    float distSmooth = dataSmooth.x;\n    float typeSmooth = dataSmooth.y;\n\n    float inside = step(1.0-cutoff, dist);\n    float distOut = (1.0-distSmooth-cutoff)/(1.0-cutoff);\n    float offset = tick*speed;\n\n    // Warping through noise.\n    float warpDist = max(0.0, distOut);\n    float warp = snoise(vec3(xy, warpSpeed*tick)*warpScale)*\n        warpAmount*pow(warpDist, warpCurve);\n\n    // Creating slices/layers.\n    float x = (pow(distSmooth, curve)*scale)+warp;\n    float alongSlice = mod(x+offset, slice);\n    float startSlice = (ceil((x+offset)/slice)*slice)-offset;\n\n    // Arrows along the gradient of distance.\n\n    // vec2 slope = vec2(dFdx(x), dFdy(x));\n    // vec2 slope = vec2(dFdx(dist), dFdy(dist));\n\n    vec2 cellDiff = vec2(1.0/arrowCells, 0.0);\n\n    vec2 slope = vec2(dist-getData(sdf, xy+cellDiff.xy).x,\n        dist-getData(sdf, xy+cellDiff.yx).x);\n\n    float diff = length(slope);\n    vec2 cell = (fract(xy*arrowCells)*2.0)-1.0;\n    vec3 arrowShape = arrowSize*diff;\n\n    // float arrow = sdfEgg(rotation2D()*cell,\n    float arrow = sdfEgg(cell,\n        arrowShape.x, arrowShape.y, arrowShape.z);\n\n    // Arrows along the gradient of distance.\n    // @see https://www.shadertoy.com/view/3l3Xzf\n\n    // vec2 slope = vec2(dFdx(x), dFdy(x));\n    // vec2 slope = vec2(dFdx(dist), dFdy(dist));\n\n    // vec2 cellDiff = vec2(1.0/arrowCells, 0.0);\n\n    // vec2 slope = vec2(dist-getData(sdf, xy+cellDiff.xy).x,\n    //     dist-getData(sdf, xy+cellDiff.yx).x);\n\n    // float diff = length(slope);\n    // vec2 cell = (fract(xy*arrowCells)*2.0)-1.0;\n    // float across = cross2D(slope, cell)/diff;\n    // float axis = dot(slope, cell)/diff;\n\n    // float arrow = smoothstep(arrowSize.x, 0.0, abs(across)+(arrowSize.y*axis))*\n    //     smoothstep(arrowSize.x, 0.0, abs(axis)-diff);\n\n    // Colours.\n\n    vec3 colorOut = mix(colorOut1, colorOut0,\n        clamp(pow(startSlice/(scale*(1.0-cutoff)), colorOutMix), 0.0, 1.0));\n\n    vec3 colorIn = mix(colorIn0, colorIn1,\n        clamp(pow((1.0-dist)/cutoff, colorInMix), 0.0, 1.0));\n\n    float line = 1.0-smoothstep(thick*(1.0-smoothing), thick, alongSlice);\n\n    vec3 color = mix(max(line, inside)*mix(colorOut, colorIn, inside),\n        colorArrow, smoothstep(0.1, 0.0, arrow));\n\n    float a = step(1.0, showDistance/distOut);\n\n    gl_FragColor = vec4(color*a, a);\n    // gl_FragColor = vec4((color*a).xy, typeSmooth, a);\n    // gl_FragColor = vec4(vec3(pow(data.y/15000.0, 10.0)), 1);\n}\n";
},{}],"nyFE":[function(require,module,exports) {
module.exports='precision highp float;\n#define GLSLIFY 1\n\n/**\nBasic FXAA implementation based on the code on geeks3d.com with the\nmodification that the texture2DLod stuff was removed since it\'s\nunsupported by WebGL.\n\n--\n\nFrom:\nhttps://github.com/mitsuhiko/webgl-meincraft\n\nCopyright (c) 2011 by Armin Ronacher.\n\nSome rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above\n      copyright notice, this list of conditions and the following\n      disclaimer in the documentation and/or other materials provided\n      with the distribution.\n\n    * The names of the contributors may not be used to endorse or\n      promote products derived from this software without specific\n      prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n#ifndef FXAA_REDUCE_MIN\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n    #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n    #define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent \n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n            vec2 v_rgbNW, vec2 v_rgbNE, \n            vec2 v_rgbSW, vec2 v_rgbSE, \n            vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\n//To save 9 dependent texture reads, you can compute\n//these in the vertex shader and use the optimized\n//frag.glsl function in your frag shader. \n\n//This is best suited for mobile devices, like iOS.\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n\t\t\tout vec2 v_rgbNW, out vec2 v_rgbNE,\n\t\t\tout vec2 v_rgbSW, out vec2 v_rgbSE,\n\t\t\tout vec2 v_rgbM) {\n\tvec2 inverseVP = 1.0 / resolution.xy;\n\tv_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n\tv_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n\tv_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n\tv_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n\tv_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvec4 apply(sampler2D tex, vec2 fragCoord, vec2 resolution) {\n\tmediump vec2 v_rgbNW;\n\tmediump vec2 v_rgbNE;\n\tmediump vec2 v_rgbSW;\n\tmediump vec2 v_rgbSE;\n\tmediump vec2 v_rgbM;\n\n\t//compute the texture coords\n\ttexcoords(fragCoord, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\t\n\t//compute FXAA\n\treturn fxaa(tex, fragCoord, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n\nuniform sampler2D framebuffer;\n\nuniform float width;\nuniform float height;\n\nvarying vec2 uv;\n\nvoid main() {\n    vec2 size = vec2(width, height);\n\n    gl_FragColor = apply(framebuffer, vec2(uv.x, 1.0-uv.y)*size, size);\n}\n';
},{}],"Sr7R":[function(require,module,exports) {
module.exports={root:"_root_87d5d",view:"_view_87d5d",sdf:"_sdf_87d5d","file-in":"_file-in_87d5d",align:"_align_87d5d","holds-paths":"_holds-paths_87d5d",controls:"_controls_87d5d",browse:"_browse_87d5d",show:"_show_87d5d",gauge:"_gauge_87d5d",wait:"_wait_87d5d"};
},{}],"Focm":[function(require,module,exports) {
"use strict";var e,t,n,r,o,i,a,s,f,u,l=W(require("regl")),c=W(require("controls-state")),d=W(require("controls-gui")),m=W(require("color-convert")),h=W(require("lodash-es/merge")),p=W(require("lodash-es/pick")),v=W(require("socket.io-client")),g=require("lit-html"),w=W(require("@epok.tech/fn-lists/each")),y=W(require("@epok.tech/fn-lists/map")),x=W(require("@epok.tech/fn-lists/reduce")),b=W(require("@epok.tech/fn-lists/range")),S=require("@epok.tech/gl-screen-triangle"),O=require("./db"),k=require("./utils"),q=require("./utils/typed"),L=require("./lit-html"),j=require("./aspect"),D=W(require("./handle")),E=W(require("./browse")),P=require("./shape/path-to-editor"),R=require("./shape/path-to-data"),A=require("./shape/svg-to-sdf"),M=require("./utils/b64Array"),T=require("./assets/holds/meta"),z=W(require("@epok.tech/gl-screen-triangle/uv-texture.vert.glsl")),_=W(require("./sdf.frag.glsl")),I=W(require("./view/index.vert.glsl")),H=W(require("./view/index.frag.glsl")),U=W(require("./post.frag.glsl")),C=W(require("./main.css"));function W(e){return e&&e.__esModule?e:{default:e}}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach(function(t){N(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e){return G(e)||Y(e)||X(e)||J()}function J(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Y(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function G(e){if(Array.isArray(e))return Z(e)}function K(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Q(e,t){return te(e)||ee(e,t)||X(e,t)||V()}function V(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function X(e,t){if(e){if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(f){o=!0,i=f}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}function te(e){if(Array.isArray(e))return e}var ne=location,re=ne.search,oe=re.length>1&&JSON.parse(decodeURIComponent(re.slice(1))),ie=["admin.connect","admin.display.scale","admin.align.points","admin.align.editPoints","admin.image.layersURL","admin.image.editLayers","user.image.url","user.image.showSDF","user.view"],ae=self.layers={cutoff:T.cutoff,keys:[],on:new Set,types:{"":0,hand:1,foot:2,305966:2,17189:2}},se={initial:[[0,0],[1,0],[1,1],[0,1]],points:[[0,0],[1,0],[1,1],[0,1]],names:["1/TL","2/TR","3/BR","4/BL"],handles:(0,y.default)(function(){return(0,D.default)()},(0,b.default)(4),0),dom:0},fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{expanded:!1};return c.default.Section(e,t)},ue=self.state=(0,c.default)({admin:fe({connect:fe({server:"http://127.0.0.1:3000",id:"stokt-0"}),display:fe({fullscreen:tt,scale:c.default.Slider(1,{min:.01,max:100,step:.001}),resetScale:function(){ue.admin.display.scale=1}}),align:fe({points:fe((0,y.default)(function(e){return(0,y.default)(function(e){return c.default.Slider(e,{min:-5,max:5,step:.001})},e,{})},se.points,{})),editPoints:!1,resetPoints:function(){var e=se.initial,t=se.points,n=ue.admin.align.points;(0,w.default)(function(e,r){return(0,w.default)(function(e,o){return n[r][o]=t[r][o]=e},e)},e)}}),image:fe({browseLayers:function(){return Ie()},layersURL:k.rootPath+"assets/holds/staging.json",fetchLayers:function(){return He()},reloadLayers:function(){return _e()},clearLayers:function(){return(0,O.clearLayers)(void 0,pe).then(_e)},editLayers:!1}),config:c.default.Section({show:!0,url:c.default.Raw(function(e){if(!ue.admin.config.show)return"";var t=JSON.stringify((0,p.default)(ue,ie)),n="?"+encodeURIComponent(t),r=location,o=r.href,i=r.search,a=i?o.replace(i,n):o+n;return e("a",{href:a,title:a,style:"\n                                display: inline-block;\n                                max-width: 260px;\n                                white-space: nowrap;\n                                overflow-x: auto;\n                                text-overflow: ellipsis;\n                            "},a)}),json:c.default.Raw(function(e){return ue.admin.config.show?e("pre",{style:"max-width: 260px; overflow: auto;"},JSON.stringify((0,p.default)(ue,ie),null,4,0)):""})},{enumerable:!1,expanded:!1})}),user:fe({image:fe({randomLayers:c.default.Slider(0,{min:0,max:1,step:.01}),url:"",upload:c.default.Raw(function(e){return e("label",0,"Drop or select an image: ",e("input",{class:C.default["file-in"],type:"file",accept:"image/*"}))}),showSDF:!1}),view:fe({color:fe({inside:fe({from:"#5c5c5c",to:"#ffffff",mix:c.default.Slider(6.6,{min:0,max:100,step:.001})}),outside:fe({from:"#ffffff",to:"#000000",mix:c.default.Slider(0,{min:0,max:100,step:.001})}),arrows:"#ff0000"}),speed:c.default.Slider(-2/60,{min:-.5,max:.5,step:.01/60}),slice:c.default.Slider(8,{min:0,max:50,step:.001}),thick:c.default.Slider(1.5,{min:0,max:50,step:.001}),scale:c.default.Slider(1e3,{min:0,max:1e3,step:.001}),smoothing:c.default.Slider(.4,{min:0,max:10,step:.001}),curve:c.default.Slider(13,{min:0,max:100,step:.001}),warp:fe({amount:c.default.Slider(0,{min:0,max:100,step:.001}),curve:c.default.Slider(1.5,{min:0,max:10,step:.001}),speed:c.default.Slider(1e-4,{min:0,max:.1,step:1e-4}),scale:c.default.Slider(5,{min:0,max:100,step:.001})}),distanceSmooth:fe({amount:c.default.Slider(.3,{min:0,max:1,step:.001}),offset:c.default.Slider(.01,{min:0,max:1,step:.001})}),showDistance:c.default.Slider(.35,{min:0,max:2,step:.01}),arrows:fe({cells:c.default.Slider(0,{min:0,max:100,step:1}),x:c.default.Slider(1,{min:0,max:10,step:.01}),y:c.default.Slider(0,{min:0,max:10,step:.01}),h:c.default.Slider(5,{min:0,max:100,step:.01})})}),presets:c.default.Section({simple:function(){return(0,h.default)(ue.user.view,{color:{inside:{from:"#5c5c5c",to:"#ffffff",mix:6.6},outside:{from:"#ffffff",to:"#000000",mix:0},arrows:"#ff0000"},speed:-2/60,slice:8,thick:1.5,scale:1e3,smoothing:.4,curve:13,warp:{amount:0,curve:1.5,speed:1e-4,scale:5},distanceSmooth:{amount:.3,offset:.01},showDistance:.35})},sonar:function(){return(0,h.default)(ue.user.view,{color:{inside:{from:"#fffafe",to:"#ff0000",mix:40},outside:{from:"#e3e8ea",to:"#0108d5",mix:1.2},arrows:"#ff0000"},speed:.03,slice:4.4,thick:2.2,scale:14,smoothing:1.19,curve:.5,warp:{amount:0,curve:1.5,speed:1e-4,scale:5},distanceSmooth:{amount:.77,offset:.02},showDistance:.88})},layers:function(){return(0,h.default)(ue.user.view,{color:{inside:{from:"#ffffff",to:"#ff45e7",mix:43},outside:{from:"#fff399",to:"#152493",mix:1.15},arrows:"#ff0000"},speed:-.067,slice:14,thick:14,scale:100,smoothing:0,curve:2.2,warp:{amount:0,curve:1.5,speed:1e-4,scale:5},distanceSmooth:{amount:.3,offset:.008},showDistance:2})},justHoldsOn:function(){return(0,h.default)(ue.user.view,{color:{inside:{from:"#ff6161",to:"#ffffff",mix:9},outside:{from:"#ffffff",to:"#000000",mix:20},arrows:"#ff0000"},speed:0,slice:.05,thick:.025,scale:1,smoothing:0,curve:.5,warp:{amount:0,curve:1.5,speed:1e-4,scale:5},distanceSmooth:{amount:.3,offset:.003},showDistance:.25})},datSeventiesWall:function(){return(0,h.default)(ue.user.view,{color:{inside:{from:"#fffaff",to:"#ffc300",mix:33},outside:{from:"#ff0000",to:"#484400",mix:.7}},speed:-.015,slice:6.5,thick:6.1,scale:80,smoothing:.001,curve:3,warp:{amount:0,curve:1.5,speed:1e-4,scale:7.3},distanceSmooth:{amount:.5,offset:.005},showDistance:.99})},woody:function(){return(0,h.default)(ue.user.view,{color:{inside:{from:"#d4ff00",to:"#ffffff",mix:4.6},outside:{from:"#fff2ed",to:"#5b0e01",mix:3},arrows:"#ff0000"},speed:-.01,slice:4.6,thick:8,scale:150,smoothing:.66,curve:1,warp:{amount:100,curve:2.5,speed:3e-4,scale:13},distanceSmooth:{amount:.17,offset:.02},showDistance:2})},grain:function(){return(0,h.default)(ue.user.view,{color:{inside:{from:"#00ff55",to:"#ffffff",mix:4.2},outside:{from:"#5fff5c",to:"#9e3305",mix:.29},arrows:"#ff0000"},speed:-.015,slice:5.2,thick:4,scale:1e3,smoothing:.254,curve:2.5,warp:{amount:0,curve:1.5,speed:1e-4,scale:7.3},distanceSmooth:{amount:1,offset:.03},showDistance:.85})},ripples:function(){return(0,h.default)(ue.user.view,{color:{inside:{from:"#ff0000",to:"#ffffff",mix:3.8},outside:{from:"#ffffff",to:"#e20000",mix:1}},speed:-.24,slice:21,thick:.7,scale:100,smoothing:0,curve:2,warp:{amount:100,curve:3.8,speed:6e-4,scale:23},distanceSmooth:{amount:.3,offset:.002},showDistance:2})},nearFar:function(){return(0,h.default)(ue.user.view,{color:{inside:{from:"#ff6161",to:"#ffffff",mix:9},outside:{from:"#ffffff",to:"#000000",mix:20},arrows:"#ff0000"},speed:-3e-4,slice:.05,thick:.025,scale:1,smoothing:0,curve:.5,warp:{amount:0,curve:1.5,speed:1e-4,scale:5},distanceSmooth:{amount:.3,offset:.003},showDistance:.25})},gradient:function(){return(0,h.default)(ue.user.view,{color:{inside:{from:"#e9ff42",to:"#ffffff",mix:9},outside:{from:"#ffffff",to:"#000000",mix:100},arrows:"#ff0000"},speed:-.008,slice:2,thick:2,scale:99,smoothing:.58,curve:.3,warp:{amount:0,curve:1,speed:1e-4,scale:5},distanceSmooth:{amount:.34,offset:.003},showDistance:2})},test:function(){return(0,h.default)(ue.user.view,{color:{inside:{from:"#ffffff",to:"#ffffff",mix:0},outside:{from:"#00ff00",to:"#000000",mix:.5}},speed:0,slice:0,thick:0,scale:1,smoothing:0,curve:1,warp:{amount:0,curve:4.3,speed:6e-4,scale:13},distanceSmooth:{amount:.3,offset:.007},showDistance:.3})}},{enumerable:!1,expanded:!1})})});(0,h.default)(ue,(0,p.default)(oe,ie));var le=self.controls={admin:(0,d.default)(ue.admin,{className:C.default.controls,containerCSS:"left: 5px;",expanded:!1}),user:(0,d.default)(ue.user,{className:C.default.controls,containerCSS:"right: 5px;",expanded:!1})},ce={root:document.querySelector("main"),align:0,paths:0,browse:0};ce.root.classList.add(C.default.root);var de,me={active:[],add:function(e,t,n){var r=[e,t,n];return this.active.push(r),e.addEventListener(t,n),r},remove:function(e){var t=Q(e,3),n=t[0],r=t[1],o=t[2];n.removeEventListener(r,o),this.active.splice(this.active.indexOf(e),1)},removeAll:function(){(0,w.default)(function(e){var t=Q(e,3),n=t[0],r=t[1],o=t[2];return n.removeEventListener(r,o)},this.active),this.active.length=0}},he=-1;module.hot&&(module.hot.dispose(function(){var e,t;console.log("Hot reload: dispose"),me.removeAll(),Ue&&Ue.destroy(),(0,w.default)(function(e){return e.remove()},document.querySelectorAll("."+C.default.controls)),null===(e=de)||void 0===e||null===(t=e.disconnect)||void 0===t||t.call(e)}),module.hot.accept(function(){return console.log("Hot reload: accept")}));var pe=self.gotDB=(0,O.getDB)();null===(e=navigator.storage)||void 0===e||null===(t=e.persist)||void 0===t||t.call(e).then(function(e){return console.log("persisted",e)});var ve=self,ge=ve.URL,we=void 0===ge?webkitURL:ge,ye=document.querySelector(".".concat(C.default["file-in"])),xe=(0,L.render)((0,g.html)(n||(n=K(['\n        <canvas class="','" width="0" height="0"></canvas>\n    '])),C.default.view)).querySelector(".".concat(C.default.view));function be(){var e=ue.admin.align.editPoints;if(!e)return(0,g.html)(r||(r=K(['<section class="','"></section>'])),C.default.align);var t=xe.getBoundingClientRect(),n=t.width,a=t.height,s=Je.fbo,f=s.width,u=s.height,l=(0,j.aspectContain)([n/f,a/u],0),c=n*l[0],d=a*l[1],m=.5*(n-c),h=.5*(a-d),p=se.points,v=se.names,w=se.handles;return(0,g.html)(o||(o=K(['\n        <section class="','">\n            ',"\n        </section>\n    "])),C.default.align,(0,x.default)(function(t,n,r){return(0,g.html)(i||(i=K(["","",""])),t,n(p[r],m,h,c,d,e,v[r]))},w,""))}var Se=self.paths={state:[],cache:{},dom:0,edits:new Set,size:[0,0],mode:{edit:ue.admin.image.editLayers}},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=e.state,n=e.cache,r=e.mode,o=e.size;return Math.max.apply(Math,$(o))<=0?"":(0,g.html)(a||(a=K(['\n        <section class="','">\n            ',"\n        </section>\n    "])),C.default["holds-paths"],(0,P.pathToEditor)(t,o,se.points,r,n))},ke={dom:0,view:0,show:!1,access:{headers:{}}};ke.view=(0,E.default)(ke.access,function(e){ke.show=!1,e&&He(ue.admin.image.layersURL=e),Ee()});var qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=e.view,n=e.show;return(0,g.html)(s||(s=K(['\n    <aside class="',"",'">',"</aside>\n"])),C.default.browse,n?" "+C.default.show:"",t())},Le=0,je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le;return(0,g.html)(f||(f=K(['\n    <aside class="',"",'"></aside>\n'])),C.default.gauge,e?" "+C.default.wait:"")},De=function(){return(0,g.html)(u||(u=K(["","","","","",""])),xe,Oe(),be(),qe(),je())};function Ee(){var e=ce.root,t=(0,L.render)(De(),e);return ce.align=se.dom=e.querySelector(".".concat(C.default.align)),ce.paths=Se.dom=e.querySelector(".".concat(C.default["holds-paths"])),ce.browse=ke.dom=e.querySelector(".".concat(C.default.browse)),t}var Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=e.points,n=e.names;return(0,O.saveAlign)(t,n,pe)},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se.points,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue.admin.align.points;return(0,w.default)(function(e,n){return(0,w.default)(function(e,r){return t[n][r]=e},e)},e)};function Ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se,n=t.points,r=t.names,o=(arguments.length>2&&arguments[2],e.length);return 0===o?e:((0,y.default)(function(e){var t;return null!==(t=e.point)&&void 0!==t?t:e},e,n).length=o,(0,y.default)(function(e,t){var n;return null!==(n=e.key)&&void 0!==n?n:t},e,r).length=o,Re(),Ee(),e)}function Me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Se.size,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Se.state,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ae.keys,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ae.on,i=e.length;return Math.max.apply(Math,$(t))>0||(0,x.default)(function(e,t){var n=Q(t.size,2),r=n[0],o=n[1];return e[0]=Math.max(e[0],r),e[1]=Math.max(e[1],o),e},e,t.fill(0)),Object.assign(Se.size,t),(0,y.default)(function(e){var t;return null!==(t=e.key)&&void 0!==t?t:e},e,r).length=i,(0,y.default)(function(e){var t;return null!==(t=e.path)&&void 0!==t?t:e},e,n).length=i,o.forEach(function(e){return r.includes(e)||o.delete(e)}),ot(o),Ee(),e}function Te(e,t){return++Le,(0,O.saveLayers)(e,t,pe,10).then(function(e){return Le=Math.max(0,Le-1),navigator.storage.estimate().then(console.log),e})}function ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=e.edits,n=e.state,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae,o=r.keys,i=r.on;return Ne(),Te((0,y.default)(function(e){return(0,O.encodeLayer)({data:(0,R.pathToData)(e),path:e},o[n.indexOf(e)],void 0,0)},$(t.values()),0)).then(function(){t.clear(),nt(ae.on=i)})}(0,O.loadAlign)(void 0,pe).then(Ae).catch(console.error);var _e=function(){return(0,O.loadLayers)(void 0,pe).then(Me).catch(console.error)},Ie=function(){return ke.show=!0,Ee()},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue.admin.image.layersURL,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ke.access;return fetch(e,t).then(function(e){return e.json()}).then(function(e){var t=e.holds,n=Se.size.fill(0),r=t.map(function(e){var t=e.id,r=e.polygonStr,o=(0,O.encodeLayer)(r,t,null,{svg:0,sdf:0});return o.path.forEach(function(e){var t=Q(e,2),r=t[0],o=t[1];n[0]=Math.max(n[0],r),n[1]=Math.max(n[1],o)}),o});return r.forEach(function(e){(0,O.encodeLayer)(e,null,n,e),e.svg=e.sdf=null}),Me(r),Te(r,0)}).catch(console.error)},Ue=(0,l.default)({canvas:xe,attributes:{antialias:!1,depth:!1},pixelRatio:Math.max(+devicePixelRatio,1.5),extensions:["OES_texture_float","OES_standard_derivatives"],optionalExtensions:["OES_texture_float_linear"]}),Ce=function(){return Ue.clear({color:[0,0,0,255],depth:1})},We=self.sdf={fbos:(0,y.default)(function(){return Ue.framebuffer({colorType:"float",depthStencil:!1})},(0,b.default)(2),0),next:Ue.texture(),type:0,index:0,state:ue.user.view};function Be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.width,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.height,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"uint8",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:We,a=i.next,s=i.fbos,f=!(0===(null==o?void 0:o.indexOf("float")))||Ue.hasExtension("OES_texture_float_linear")?"linear":"nearest";return a({width:t,height:n,data:e,channels:r,mag:f,min:f,type:o}),s.push(s.shift()),i}var Fe,Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We.fbos;return(0,w.default)(function(e){return Ue.clear({color:[0,0,0,255],depth:1,framebuffer:e})},e)},$e=Ue({vert:z.default,frag:_.default,count:S.count,attributes:{position:S.vertices},uniforms:{type:Ue.prop("type"),next:Ue.prop("next"),past:Ue.prop("fbos[1]"),distanceSmooth:Ue.prop("state.distanceSmooth.amount")},framebuffer:Ue.prop("fbos[0]")}),Je={state:ue.user.view,align:ue.admin.align.points,layers:ae,sdf:We,fbo:Ue.framebuffer()},Ye=function(){return Ue.clear({color:[0,0,0,255],depth:1,framebuffer:Je.fbo})},Ge=Ue({vert:I.default,frag:H.default,count:S.count,attributes:{position:S.vertices},uniforms:F({viewWidth:Ue.context("viewportWidth"),viewHeight:Ue.context("viewportHeight"),fboWidth:Ue.context("framebufferWidth"),fboHeight:Ue.context("framebufferHeight"),drawWidth:Ue.context("drawingBufferWidth"),drawHeight:Ue.context("drawingBufferHeight"),tick:Ue.context("tick"),time:Ue.context("time"),colorIn0:function(e,t){var n=t.state;return(0,y.default)(function(e){return e/255},m.default.hex.rgb.raw(n.color.inside.from),0)},colorIn1:function(e,t){var n=t.state;return(0,y.default)(function(e){return e/255},m.default.hex.rgb.raw(n.color.inside.to),0)},colorInMix:Ue.prop("state.color.inside.mix"),colorOut0:function(e,t){var n=t.state;return(0,y.default)(function(e){return e/255},m.default.hex.rgb.raw(n.color.outside.from),0)},colorOut1:function(e,t){var n=t.state;return(0,y.default)(function(e){return e/255},m.default.hex.rgb.raw(n.color.outside.to),0)},colorOutMix:Ue.prop("state.color.outside.mix"),colorArrow:function(e,t){var n=t.state;return(0,y.default)(function(e){return e/255},m.default.hex.rgb.raw(n.color.arrows),0)},speed:Ue.prop("state.speed"),slice:Ue.prop("state.slice"),scale:Ue.prop("state.scale"),thick:Ue.prop("state.thick"),smoothing:Ue.prop("state.smoothing"),curve:Ue.prop("state.curve"),warpAmount:Ue.prop("state.warp.amount"),warpCurve:Ue.prop("state.warp.curve"),warpSpeed:Ue.prop("state.warp.speed"),warpScale:Ue.prop("state.warp.scale"),distanceSmooth:Ue.prop("state.distanceSmooth.amount"),distanceOffset:Ue.prop("state.distanceSmooth.offset"),showDistance:Ue.prop("state.showDistance"),arrowCells:Ue.prop("state.arrows.cells"),arrowSize:function(e){return function(t,n){var r=n.state.arrows;return e[0]=r.x,e[1]=r.y,e[2]=r.h,e}}([]),cutoff:Ue.prop("layers.cutoff"),sdf:Ue.prop("sdf.fbos[0]")},Object.values(Je.align).reduce(function(e,t,n){var r=[];return e["align[".concat(n,"]")]=function(){return Object.assign(r,t)},e},{})),framebuffer:Ue.prop("fbo")}),Ke=Ue({vert:z.default,frag:U.default,count:S.count,attributes:{position:S.vertices},uniforms:{framebuffer:Ue.prop("fbo"),width:Ue.context("framebufferWidth"),height:Ue.context("framebufferHeight")}});function Qe(e,t){We.next.resize(e,t),We.fbos.forEach(function(n){return n.resize(e,t)}),Je.fbo.resize(e,t),Ee()}function Ve(){if(Ne(),!Fe||!Math.min(Fe.width,Fe.height))return console.warn("updateImageSDF: no image"),Qe(0,0);We.id=0,$e(Be(Fe))}function Xe(){return Fe&&we.revokeObjectURL(Fe.src),Fe=null}function Ze(){return Xe(),Fe=new Image}function et(e){e?ue.user.image.url=we.createObjectURL(e):(Xe(),Ve())}function tt(){xe.requestFullscreen()}function nt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae.on;if(null==e||!e.size)return Qe(0,0);var t=Promise.resolve();return e.forEach(function(e){return t=t.then(function(t){return(0,O.loadLayers)(e,pe).then(function(n){var r,o,i;if(!n)return t;var a=n.sdf,s=a.b64,f=a.min,u=a.sdf,l=a.data,c=a.type,d=a.width,m=a.height,h=null!=c?c:T.Type.name,p=q.typedToRegl[h],v=d*m;if(t||(Ne(),Qe(d,m),t=!0),We.type=null!==(r=ae.types[e])&&void 0!==r?r:0,t=null!==(o=null!==(i=null==l?void 0:l.data)&&void 0!==i?i:l)&&void 0!==o?o:u);else if(f&&"mono"===s){var g,w,y,x=null!==(g=self[c])&&void 0!==g?g:T.Type,b=v*x.BYTES_PER_ELEMENT;t=(null===(w=t)||void 0===w?void 0:null===(y=w.buffer)||void 0===y?void 0:y.byteLength)>=b?t instanceof x&&t.length===v?t:new x(t.buffer,0,v):new x(v),(0,M.b64ToArray)(f,t)}else{if(f&&"full"===s)return new Promise(function(e,t){var n=Ze();n.onload=function(){return e(n)},n.onerror=t,n.src=f}).then(function(e){return $e(Be(e,d,m,4,p)),t});console.warn("mergeLayers: unexpected structure",n)}return $e(Be(t,d,m,Math.floor(t.length/v),p)),t})}).catch(console.error)}),t}function rt(){var e=ue.user.image.randomLayers;ot(ae.keys.filter(function(){return Math.random()<e}))}function ot(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae.on,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he+1,o=he<0||r>he,i=r<he,a=ae.on;console.log("updateLayers",o,i,n,a,r,he),o&&(he=r,a===n||(a.clear(),n.forEach(function(e){return a.add(e)}))),(o||i)&&(null===(e=de)||void 0===e||null===(t=e.emit)||void 0===t||t.call(e,"route",$(a.keys()),he)),o&&nt(a)}function it(){var e,t,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue.admin.connect.id,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue.admin.connect.server,a=i+"/"+o;if(console.log("connect: socket server/ID",i,o,a,de),(null===(e=de)||void 0===e?void 0:null===(t=e.io)||void 0===t?void 0:t.uri)!==a)return null===(n=de)||void 0===n||null===(r=n.disconnect)||void 0===r||r.call(n),he=-1,de=self.socket=o&&v.default.connect(a).on("connection",function(e){return console.log("connection",e)}).on("disconnection",function(e,t){return console.log("disconnection",e,t)}).on("route",function(e,t){return ot(e,t)})}function at(){xe.width=innerWidth,xe.height=innerHeight,Ee()}ue.$onChanges(function(e){var t=Object.keys(e).join("\n"),n="admin.image.editLayers"in e;if("admin.display.scale"in e&&(ce.root.style.transform="scale(".concat(ue.admin.display.scale,")")),n&&((Se.mode.edit=ue.admin.image.editLayers)?Ce():ze()),"admin.align.editPoints"in e&&(ue.admin.align.editPoints||Pe()),(n||t.search(/^admin\.align\..*?($|\s)/gi)>=0)&&Ee(),"user.image.randomLayers"in e&&setTimeout(rt),"user.image.url"in e&&(e["user.image.url"]?(Ze().src=ue.user.image.url,me.add(Fe,"load",Ve)):(Xe(),Ve())),t.search(/^connect\.(id|server)($|\s)/gi)>=0&&it(),t.search(/^admin\..*?($|\s)/gi)<0){var r=le.admin.config;r.show=r.show}}),me.add(ce.root,"handle.up",function(){return Re()}),me.add(ce.root,"pathEdit.pick",function(e){var t=e.detail,n=ae.keys,r=ae.on,o=Se.state.indexOf(t);if(o<0)return console.warn("pathEdit.pick: unknown path",t,e);var i=n[o];r[r.has(i)?"delete":"add"](i),console.log("pathEdit.pick",i,t,r),ot(r)}),me.add(ce.root,"pathEdit.change",function(e){var t=e.detail;Se.edits.add(t),setTimeout(Ee)}),at(),me.add(self,"resize",at),me.add(ye,"change",function(){return et(ye.files[0])}),me.add(document.body,"dragover",function(e){return e.preventDefault()}),me.add(document.body,"drop",function(e){e.preventDefault();var t=e.dataTransfer,n=t.items,r=t.files;et(n&&(0,x.default)(function(e,t){return"file"===t.kind?t.getAsFile():e},n,0)||r[0])}),Ue.frame(function(){ue.admin.image.editLayers||(Ye(),Ge(Je),Ke(ue.user.image.showSDF?{fbo:We.fbos[0]}:Je))}),_e(),it();
},{"regl":"Jx9Q","controls-state":"ddhD","controls-gui":"tfm5","color-convert":"rLkC","lodash-es/merge":"qRtw","lodash-es/pick":"S1Px","socket.io-client":"pPpY","lit-html":"SPDu","@epok.tech/fn-lists/each":"ht4F","@epok.tech/fn-lists/map":"Eek0","@epok.tech/fn-lists/reduce":"u8rC","@epok.tech/fn-lists/range":"KPn5","@epok.tech/gl-screen-triangle":"OLNA","./db":"r16b","./utils":"jWsf","./utils/typed":"hrTM","./lit-html":"HiyB","./aspect":"K2tH","./handle":"NulG","./browse":"DFNS","./shape/path-to-editor":"npU7","./shape/path-to-data":"DzlX","./shape/svg-to-sdf":"YU0G","./utils/b64Array":"kIdR","./assets/holds/meta":"cLv1","@epok.tech/gl-screen-triangle/uv-texture.vert.glsl":"JHXj","./sdf.frag.glsl":"htKs","./view/index.vert.glsl":"zBdG","./view/index.frag.glsl":"JtFm","./post.frag.glsl":"nyFE","./main.css":"Sr7R"}]},{},["Focm"], null)
//# sourceMappingURL=src.74e0f80a.js.map